var or=Object.defineProperty;var Mn=we=>{throw TypeError(we)};var ar=(we,ve,Le)=>ve in we?or(we,ve,{enumerable:!0,configurable:!0,writable:!0,value:Le}):we[ve]=Le;var jn=(we,ve,Le)=>ar(we,typeof ve!="symbol"?ve+"":ve,Le),Zt=(we,ve,Le)=>ve.has(we)||Mn("Cannot "+Le);var ee=(we,ve,Le)=>(Zt(we,ve,"read from private field"),Le?Le.call(we):ve.get(we)),Re=(we,ve,Le)=>ve.has(we)?Mn("Cannot add the same private member more than once"):ve instanceof WeakSet?ve.add(we):ve.set(we,Le),We=(we,ve,Le,$e)=>(Zt(we,ve,"write to private field"),$e?$e.call(we,Le):ve.set(we,Le),Le),xt=(we,ve,Le)=>(Zt(we,ve,"access private method"),Le);(function(){"use strict";var Qt,Wt,mn;var we,ve=(we=self.location.href,function(g){var e,s,u=g||{},t=u!==void 0?u:{};t.ready=new Promise(function(r,n){e=r,s=n});const M=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,M.debugModule("globalThis.location =",globalThis.location);const K="emscripten-bug-17951";t[K]=function r(n,o){n.env.foo=function(){};const i=t.locateFile(r.uri,Ce===void 0?"":Ce);M.debugModule("instantiateWasm() uri =",i);const l=()=>fetch(i,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(l(),n).then(c=>o(c.instance,c.module)):async()=>l().then(c=>c.arrayBuffer()).then(c=>WebAssembly.instantiate(c,n)).then(c=>o(c.instance,c.module)))(),{}},t[K].uri="sqlite3.wasm";var se,be,Oe,He=Object.assign({},t),Ke="./this.program",Je=typeof window=="object",Ue=typeof importScripts=="function",Ce="";(Je||Ue)&&(Ue?Ce=self.location.href:typeof document<"u"&&document.currentScript&&(Ce=document.currentScript.src),we&&(Ce=we),Ce=Ce.indexOf("blob:")!==0?Ce.substr(0,Ce.replace(/[?#].*/,"").lastIndexOf("/")+1):"",se=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},Ue&&(Oe=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),be=(r,n,o)=>{var i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?n(i.response):o()},i.onerror=o,i.send(null)});var et,tt,qt=t.print||console.log.bind(console),Xe=t.printErr||console.warn.bind(console);Object.assign(t,He),He=null,t.thisProgram&&(Ke=t.thisProgram),t.wasmBinary&&(et=t.wasmBinary),typeof WebAssembly!="object"&&_t("no native wasm support detected");var Me,at,bn,de,Te,hn=!1,wn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function lt(r,n,o){for(var i=n+o,l=n;r[l]&&!(l>=i);)++l;if(l-n>16&&r.buffer&&wn)return wn.decode(r.subarray(n,l));for(var c="";n<l;){var E=r[n++];if(128&E){var q=63&r[n++];if((224&E)!=192){var L=63&r[n++];if((E=(240&E)==224?(15&E)<<12|q<<6|L:(7&E)<<18|q<<12|L<<6|63&r[n++])<65536)c+=String.fromCharCode(E);else{var Q=E-65536;c+=String.fromCharCode(55296|Q>>10,56320|1023&Q)}}else c+=String.fromCharCode((31&E)<<6|q)}else c+=String.fromCharCode(E)}return c}function vt(r,n,o,i){if(!(i>0))return 0;for(var l=o,c=o+i-1,E=0;E<r.length;++E){var q=r.charCodeAt(E);if(q>=55296&&q<=57343&&(q=65536+((1023&q)<<10)|1023&r.charCodeAt(++E)),q<=127){if(o>=c)break;n[o++]=q}else if(q<=2047){if(o+1>=c)break;n[o++]=192|q>>6,n[o++]=128|63&q}else if(q<=65535){if(o+2>=c)break;n[o++]=224|q>>12,n[o++]=128|q>>6&63,n[o++]=128|63&q}else{if(o+3>=c)break;n[o++]=240|q>>18,n[o++]=128|q>>12&63,n[o++]=128|q>>6&63,n[o++]=128|63&q}}return n[o]=0,o-l}function yn(r,n,o){return vt(r,at,n,o)}function dt(r){for(var n=0,o=0;o<r.length;++o){var i=r.charCodeAt(o);i<=127?n++:i<=2047?n+=2:i>=55296&&i<=57343?(n+=4,++o):n+=3}return n}function qn(){var r=tt.buffer;t.HEAP8=Me=new Int8Array(r),t.HEAP16=bn=new Int16Array(r),t.HEAP32=de=new Int32Array(r),t.HEAPU8=at=new Uint8Array(r),t.HEAPU16=new Uint16Array(r),t.HEAPU32=Te=new Uint32Array(r),t.HEAPF32=new Float32Array(r),t.HEAPF64=new Float64Array(r),t.HEAP64=new BigInt64Array(r),t.HEAPU64=new BigUint64Array(r)}var vn=t.INITIAL_MEMORY||16777216;tt=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:vn/65536,maximum:32768}),qn(),vn=tt.buffer.byteLength;var Qe,Ht,ge,Ne,En=[],Sn=[],xn=[],nt=0,gt=null;function Gt(r){nt++,t.monitorRunDependencies&&t.monitorRunDependencies(nt)}function Et(r){if(nt--,t.monitorRunDependencies&&t.monitorRunDependencies(nt),nt==0&&gt){var n=gt;gt=null,n()}}function _t(r){t.onAbort&&t.onAbort(r),Xe(r="Aborted("+r+")"),hn=!0,r+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(r);throw s(n),n}function In(r){return r.startsWith("data:application/octet-stream;base64,")}function An(r){try{if(r==Qe&&et)return new Uint8Array(et);if(Oe)return Oe(r);throw"both async and sync fetching of the wasm failed"}catch(n){_t(n)}}function Vt(r){for(;r.length>0;)r.shift()(t)}t.locateFile?In(Qe="sqlite3.wasm")||(Ht=Qe,Qe=t.locateFile?t.locateFile(Ht,Ce):Ce+Ht):Qe=new URL("/app/assets/sqlite3-qlk9hduR.wasm",self.location.href).href;var he={isAbs:r=>r.charAt(0)==="/",splitPath:r=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(r).slice(1),normalizeArray:(r,n)=>{for(var o=0,i=r.length-1;i>=0;i--){var l=r[i];l==="."?r.splice(i,1):l===".."?(r.splice(i,1),o++):o&&(r.splice(i,1),o--)}if(n)for(;o;o--)r.unshift("..");return r},normalize:r=>{var n=he.isAbs(r),o=r.substr(-1)==="/";return(r=he.normalizeArray(r.split("/").filter(i=>!!i),!n).join("/"))||n||(r="."),r&&o&&(r+="/"),(n?"/":"")+r},dirname:r=>{var n=he.splitPath(r),o=n[0],i=n[1];return o||i?(i&&(i=i.substr(0,i.length-1)),o+i):"."},basename:r=>{if(r==="/")return"/";var n=(r=(r=he.normalize(r)).replace(/\/$/,"")).lastIndexOf("/");return n===-1?r:r.substr(n+1)},join:function(){var r=Array.prototype.slice.call(arguments);return he.normalize(r.join("/"))},join2:(r,n)=>he.normalize(r+"/"+n)},Ge={resolve:function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var i=o>=0?arguments[o]:_.cwd();if(typeof i!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";r=i+"/"+r,n=he.isAbs(i)}return(n?"/":"")+(r=he.normalizeArray(r.split("/").filter(l=>!!l),!n).join("/"))||"."},relative:(r,n)=>{function o(Q){for(var O=0;O<Q.length&&Q[O]==="";O++);for(var P=Q.length-1;P>=0&&Q[P]==="";P--);return O>P?[]:Q.slice(O,P-O+1)}r=Ge.resolve(r).substr(1),n=Ge.resolve(n).substr(1);for(var i=o(r.split("/")),l=o(n.split("/")),c=Math.min(i.length,l.length),E=c,q=0;q<c;q++)if(i[q]!==l[q]){E=q;break}var L=[];for(q=E;q<i.length;q++)L.push("..");return(L=L.concat(l.slice(E))).join("/")}};function $t(r,n,o){var i=dt(r)+1,l=new Array(i),c=vt(r,l,0,l.length);return l.length=c,l}var rt={ttys:[],init:function(){},shutdown:function(){},register:function(r,n){rt.ttys[r]={input:[],output:[],ops:n},_.registerDevice(r,rt.stream_ops)},stream_ops:{open:function(r){var n=rt.ttys[r.node.rdev];if(!n)throw new _.ErrnoError(43);r.tty=n,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,n,o,i,l){if(!r.tty||!r.tty.ops.get_char)throw new _.ErrnoError(60);for(var c=0,E=0;E<i;E++){var q;try{q=r.tty.ops.get_char(r.tty)}catch{throw new _.ErrnoError(29)}if(q===void 0&&c===0)throw new _.ErrnoError(6);if(q==null)break;c++,n[o+E]=q}return c&&(r.node.timestamp=Date.now()),c},write:function(r,n,o,i,l){if(!r.tty||!r.tty.ops.put_char)throw new _.ErrnoError(60);try{for(var c=0;c<i;c++)r.tty.ops.put_char(r.tty,n[o+c])}catch{throw new _.ErrnoError(29)}return i&&(r.node.timestamp=Date.now()),c}},default_tty_ops:{get_char:function(r){if(!r.input.length){var n=null;if(typeof window<"u"&&typeof window.prompt=="function"?(n=window.prompt("Input: "))!==null&&(n+=`
`):typeof readline=="function"&&(n=readline())!==null&&(n+=`
`),!n)return null;r.input=$t(n)}return r.input.shift()},put_char:function(r,n){n===null||n===10?(qt(lt(r.output,0)),r.output=[]):n!=0&&r.output.push(n)},fsync:function(r){r.output&&r.output.length>0&&(qt(lt(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,n){n===null||n===10?(Xe(lt(r.output,0)),r.output=[]):n!=0&&r.output.push(n)},fsync:function(r){r.output&&r.output.length>0&&(Xe(lt(r.output,0)),r.output=[])}}};function Tn(r){r=function(o,i){return Math.ceil(o/i)*i}(r,65536);var n=Cn(65536,r);return n?function(o,i){return at.fill(0,o,o+i),o}(n,r):0}var pe={ops_table:null,mount:function(r){return pe.createNode(null,"/",16895,0)},createNode:function(r,n,o,i){if(_.isBlkdev(o)||_.isFIFO(o))throw new _.ErrnoError(63);pe.ops_table||(pe.ops_table={dir:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr,lookup:pe.node_ops.lookup,mknod:pe.node_ops.mknod,rename:pe.node_ops.rename,unlink:pe.node_ops.unlink,rmdir:pe.node_ops.rmdir,readdir:pe.node_ops.readdir,symlink:pe.node_ops.symlink},stream:{llseek:pe.stream_ops.llseek}},file:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr},stream:{llseek:pe.stream_ops.llseek,read:pe.stream_ops.read,write:pe.stream_ops.write,allocate:pe.stream_ops.allocate,mmap:pe.stream_ops.mmap,msync:pe.stream_ops.msync}},link:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr,readlink:pe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr},stream:_.chrdev_stream_ops}});var l=_.createNode(r,n,o,i);return _.isDir(l.mode)?(l.node_ops=pe.ops_table.dir.node,l.stream_ops=pe.ops_table.dir.stream,l.contents={}):_.isFile(l.mode)?(l.node_ops=pe.ops_table.file.node,l.stream_ops=pe.ops_table.file.stream,l.usedBytes=0,l.contents=null):_.isLink(l.mode)?(l.node_ops=pe.ops_table.link.node,l.stream_ops=pe.ops_table.link.stream):_.isChrdev(l.mode)&&(l.node_ops=pe.ops_table.chrdev.node,l.stream_ops=pe.ops_table.chrdev.stream),l.timestamp=Date.now(),r&&(r.contents[n]=l,r.timestamp=l.timestamp),l},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,n){var o=r.contents?r.contents.length:0;if(!(o>=n)){n=Math.max(n,o*(o<1048576?2:1.125)>>>0),o!=0&&(n=Math.max(n,256));var i=r.contents;r.contents=new Uint8Array(n),r.usedBytes>0&&r.contents.set(i.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,n){if(r.usedBytes!=n)if(n==0)r.contents=null,r.usedBytes=0;else{var o=r.contents;r.contents=new Uint8Array(n),o&&r.contents.set(o.subarray(0,Math.min(n,r.usedBytes))),r.usedBytes=n}},node_ops:{getattr:function(r){var n={};return n.dev=_.isChrdev(r.mode)?r.id:1,n.ino=r.id,n.mode=r.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=r.rdev,_.isDir(r.mode)?n.size=4096:_.isFile(r.mode)?n.size=r.usedBytes:_.isLink(r.mode)?n.size=r.link.length:n.size=0,n.atime=new Date(r.timestamp),n.mtime=new Date(r.timestamp),n.ctime=new Date(r.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:function(r,n){n.mode!==void 0&&(r.mode=n.mode),n.timestamp!==void 0&&(r.timestamp=n.timestamp),n.size!==void 0&&pe.resizeFileStorage(r,n.size)},lookup:function(r,n){throw _.genericErrors[44]},mknod:function(r,n,o,i){return pe.createNode(r,n,o,i)},rename:function(r,n,o){if(_.isDir(r.mode)){var i;try{i=_.lookupNode(n,o)}catch{}if(i)for(var l in i.contents)throw new _.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=o,n.contents[o]=r,n.timestamp=r.parent.timestamp,r.parent=n},unlink:function(r,n){delete r.contents[n],r.timestamp=Date.now()},rmdir:function(r,n){var o=_.lookupNode(r,n);for(var i in o.contents)throw new _.ErrnoError(55);delete r.contents[n],r.timestamp=Date.now()},readdir:function(r){var n=[".",".."];for(var o in r.contents)r.contents.hasOwnProperty(o)&&n.push(o);return n},symlink:function(r,n,o){var i=pe.createNode(r,n,41471,0);return i.link=o,i},readlink:function(r){if(!_.isLink(r.mode))throw new _.ErrnoError(28);return r.link}},stream_ops:{read:function(r,n,o,i,l){var c=r.node.contents;if(l>=r.node.usedBytes)return 0;var E=Math.min(r.node.usedBytes-l,i);if(E>8&&c.subarray)n.set(c.subarray(l,l+E),o);else for(var q=0;q<E;q++)n[o+q]=c[l+q];return E},write:function(r,n,o,i,l,c){if(n.buffer===Me.buffer&&(c=!1),!i)return 0;var E=r.node;if(E.timestamp=Date.now(),n.subarray&&(!E.contents||E.contents.subarray)){if(c)return E.contents=n.subarray(o,o+i),E.usedBytes=i,i;if(E.usedBytes===0&&l===0)return E.contents=n.slice(o,o+i),E.usedBytes=i,i;if(l+i<=E.usedBytes)return E.contents.set(n.subarray(o,o+i),l),i}if(pe.expandFileStorage(E,l+i),E.contents.subarray&&n.subarray)E.contents.set(n.subarray(o,o+i),l);else for(var q=0;q<i;q++)E.contents[l+q]=n[o+q];return E.usedBytes=Math.max(E.usedBytes,l+i),i},llseek:function(r,n,o){var i=n;if(o===1?i+=r.position:o===2&&_.isFile(r.node.mode)&&(i+=r.node.usedBytes),i<0)throw new _.ErrnoError(28);return i},allocate:function(r,n,o){pe.expandFileStorage(r.node,n+o),r.node.usedBytes=Math.max(r.node.usedBytes,n+o)},mmap:function(r,n,o,i,l){if(!_.isFile(r.node.mode))throw new _.ErrnoError(43);var c,E,q=r.node.contents;if(2&l||q.buffer!==Me.buffer){if((o>0||o+n<q.length)&&(q=q.subarray?q.subarray(o,o+n):Array.prototype.slice.call(q,o,o+n)),E=!0,!(c=Tn(n)))throw new _.ErrnoError(48);Me.set(q,c)}else E=!1,c=q.byteOffset;return{ptr:c,allocated:E}},msync:function(r,n,o,i,l){return pe.stream_ops.write(r,n,0,i,o,!1),0}}};function nr(r,n,o,i){var l="al "+r;be(r,c=>{var E;E='Loading data file "'+r+'" failed (no arrayBuffer).',c||_t(E),n(new Uint8Array(c)),l&&Et()},c=>{if(!o)throw'Loading data file "'+r+'" failed.';o()}),l&&Gt()}var _={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,n={})=>{if(!(r=Ge.resolve(r)))return{path:"",node:null};if((n=Object.assign({follow_mount:!0,recurse_count:0},n)).recurse_count>8)throw new _.ErrnoError(32);for(var o=r.split("/").filter(Q=>!!Q),i=_.root,l="/",c=0;c<o.length;c++){var E=c===o.length-1;if(E&&n.parent)break;if(i=_.lookupNode(i,o[c]),l=he.join2(l,o[c]),_.isMountpoint(i)&&(!E||E&&n.follow_mount)&&(i=i.mounted.root),!E||n.follow)for(var q=0;_.isLink(i.mode);){var L=_.readlink(l);if(l=Ge.resolve(he.dirname(l),L),i=_.lookupPath(l,{recurse_count:n.recurse_count+1}).node,q++>40)throw new _.ErrnoError(32)}}return{path:l,node:i}},getPath:r=>{for(var n;;){if(_.isRoot(r)){var o=r.mount.mountpoint;return n?o[o.length-1]!=="/"?o+"/"+n:o+n:o}n=n?r.name+"/"+n:r.name,r=r.parent}},hashName:(r,n)=>{for(var o=0,i=0;i<n.length;i++)o=(o<<5)-o+n.charCodeAt(i)|0;return(r+o>>>0)%_.nameTable.length},hashAddNode:r=>{var n=_.hashName(r.parent.id,r.name);r.name_next=_.nameTable[n],_.nameTable[n]=r},hashRemoveNode:r=>{var n=_.hashName(r.parent.id,r.name);if(_.nameTable[n]===r)_.nameTable[n]=r.name_next;else for(var o=_.nameTable[n];o;){if(o.name_next===r){o.name_next=r.name_next;break}o=o.name_next}},lookupNode:(r,n)=>{var o=_.mayLookup(r);if(o)throw new _.ErrnoError(o,r);for(var i=_.hashName(r.id,n),l=_.nameTable[i];l;l=l.name_next){var c=l.name;if(l.parent.id===r.id&&c===n)return l}return _.lookup(r,n)},createNode:(r,n,o,i)=>{var l=new _.FSNode(r,n,o,i);return _.hashAddNode(l),l},destroyNode:r=>{_.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(61440&r)==32768,isDir:r=>(61440&r)==16384,isLink:r=>(61440&r)==40960,isChrdev:r=>(61440&r)==8192,isBlkdev:r=>(61440&r)==24576,isFIFO:r=>(61440&r)==4096,isSocket:r=>!(49152&~r),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:r=>{var n=_.flagModes[r];if(n===void 0)throw new Error("Unknown file open mode: "+r);return n},flagsToPermissionString:r=>{var n=["r","w","rw"][3&r];return 512&r&&(n+="w"),n},nodePermissions:(r,n)=>_.ignorePermissions||(!n.includes("r")||292&r.mode)&&(!n.includes("w")||146&r.mode)&&(!n.includes("x")||73&r.mode)?0:2,mayLookup:r=>{var n=_.nodePermissions(r,"x");return n||(r.node_ops.lookup?0:2)},mayCreate:(r,n)=>{try{return _.lookupNode(r,n),20}catch{}return _.nodePermissions(r,"wx")},mayDelete:(r,n,o)=>{var i;try{i=_.lookupNode(r,n)}catch(c){return c.errno}var l=_.nodePermissions(r,"wx");if(l)return l;if(o){if(!_.isDir(i.mode))return 54;if(_.isRoot(i)||_.getPath(i)===_.cwd())return 10}else if(_.isDir(i.mode))return 31;return 0},mayOpen:(r,n)=>r?_.isLink(r.mode)?32:_.isDir(r.mode)&&(_.flagsToPermissionString(n)!=="r"||512&n)?31:_.nodePermissions(r,_.flagsToPermissionString(n)):44,MAX_OPEN_FDS:4096,nextfd:(r=0,n=_.MAX_OPEN_FDS)=>{for(var o=r;o<=n;o++)if(!_.streams[o])return o;throw new _.ErrnoError(33)},getStream:r=>_.streams[r],createStream:(r,n,o)=>{_.FSStream||(_.FSStream=function(){this.shared={}},_.FSStream.prototype={},Object.defineProperties(_.FSStream.prototype,{object:{get:function(){return this.node},set:function(l){this.node=l}},isRead:{get:function(){return(2097155&this.flags)!=1}},isWrite:{get:function(){return!!(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(l){this.shared.flags=l}},position:{get:function(){return this.shared.position},set:function(l){this.shared.position=l}}})),r=Object.assign(new _.FSStream,r);var i=_.nextfd(n,o);return r.fd=i,_.streams[i]=r,r},closeStream:r=>{_.streams[r]=null},chrdev_stream_ops:{open:r=>{var n=_.getDevice(r.node.rdev);r.stream_ops=n.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new _.ErrnoError(70)}},major:r=>r>>8,minor:r=>255&r,makedev:(r,n)=>r<<8|n,registerDevice:(r,n)=>{_.devices[r]={stream_ops:n}},getDevice:r=>_.devices[r],getMounts:r=>{for(var n=[],o=[r];o.length;){var i=o.pop();n.push(i),o.push.apply(o,i.mounts)}return n},syncfs:(r,n)=>{typeof r=="function"&&(n=r,r=!1),_.syncFSRequests++,_.syncFSRequests>1&&Xe("warning: "+_.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var o=_.getMounts(_.root.mount),i=0;function l(E){return _.syncFSRequests--,n(E)}function c(E){if(E)return c.errored?void 0:(c.errored=!0,l(E));++i>=o.length&&l(null)}o.forEach(E=>{if(!E.type.syncfs)return c(null);E.type.syncfs(E,r,c)})},mount:(r,n,o)=>{var i,l=o==="/",c=!o;if(l&&_.root)throw new _.ErrnoError(10);if(!l&&!c){var E=_.lookupPath(o,{follow_mount:!1});if(o=E.path,i=E.node,_.isMountpoint(i))throw new _.ErrnoError(10);if(!_.isDir(i.mode))throw new _.ErrnoError(54)}var q={type:r,opts:n,mountpoint:o,mounts:[]},L=r.mount(q);return L.mount=q,q.root=L,l?_.root=L:i&&(i.mounted=q,i.mount&&i.mount.mounts.push(q)),L},unmount:r=>{var n=_.lookupPath(r,{follow_mount:!1});if(!_.isMountpoint(n.node))throw new _.ErrnoError(28);var o=n.node,i=o.mounted,l=_.getMounts(i);Object.keys(_.nameTable).forEach(E=>{for(var q=_.nameTable[E];q;){var L=q.name_next;l.includes(q.mount)&&_.destroyNode(q),q=L}}),o.mounted=null;var c=o.mount.mounts.indexOf(i);o.mount.mounts.splice(c,1)},lookup:(r,n)=>r.node_ops.lookup(r,n),mknod:(r,n,o)=>{var i=_.lookupPath(r,{parent:!0}).node,l=he.basename(r);if(!l||l==="."||l==="..")throw new _.ErrnoError(28);var c=_.mayCreate(i,l);if(c)throw new _.ErrnoError(c);if(!i.node_ops.mknod)throw new _.ErrnoError(63);return i.node_ops.mknod(i,l,n,o)},create:(r,n)=>(n=n!==void 0?n:438,n&=4095,n|=32768,_.mknod(r,n,0)),mkdir:(r,n)=>(n=n!==void 0?n:511,n&=1023,n|=16384,_.mknod(r,n,0)),mkdirTree:(r,n)=>{for(var o=r.split("/"),i="",l=0;l<o.length;++l)if(o[l]){i+="/"+o[l];try{_.mkdir(i,n)}catch(c){if(c.errno!=20)throw c}}},mkdev:(r,n,o)=>(o===void 0&&(o=n,n=438),n|=8192,_.mknod(r,n,o)),symlink:(r,n)=>{if(!Ge.resolve(r))throw new _.ErrnoError(44);var o=_.lookupPath(n,{parent:!0}).node;if(!o)throw new _.ErrnoError(44);var i=he.basename(n),l=_.mayCreate(o,i);if(l)throw new _.ErrnoError(l);if(!o.node_ops.symlink)throw new _.ErrnoError(63);return o.node_ops.symlink(o,i,r)},rename:(r,n)=>{var o,i,l=he.dirname(r),c=he.dirname(n),E=he.basename(r),q=he.basename(n);if(o=_.lookupPath(r,{parent:!0}).node,i=_.lookupPath(n,{parent:!0}).node,!o||!i)throw new _.ErrnoError(44);if(o.mount!==i.mount)throw new _.ErrnoError(75);var L,Q=_.lookupNode(o,E),O=Ge.relative(r,c);if(O.charAt(0)!==".")throw new _.ErrnoError(28);if((O=Ge.relative(n,l)).charAt(0)!==".")throw new _.ErrnoError(55);try{L=_.lookupNode(i,q)}catch{}if(Q!==L){var P=_.isDir(Q.mode),D=_.mayDelete(o,E,P);if(D)throw new _.ErrnoError(D);if(D=L?_.mayDelete(i,q,P):_.mayCreate(i,q))throw new _.ErrnoError(D);if(!o.node_ops.rename)throw new _.ErrnoError(63);if(_.isMountpoint(Q)||L&&_.isMountpoint(L))throw new _.ErrnoError(10);if(i!==o&&(D=_.nodePermissions(o,"w")))throw new _.ErrnoError(D);_.hashRemoveNode(Q);try{o.node_ops.rename(Q,i,q)}catch(U){throw U}finally{_.hashAddNode(Q)}}},rmdir:r=>{var n=_.lookupPath(r,{parent:!0}).node,o=he.basename(r),i=_.lookupNode(n,o),l=_.mayDelete(n,o,!0);if(l)throw new _.ErrnoError(l);if(!n.node_ops.rmdir)throw new _.ErrnoError(63);if(_.isMountpoint(i))throw new _.ErrnoError(10);n.node_ops.rmdir(n,o),_.destroyNode(i)},readdir:r=>{var n=_.lookupPath(r,{follow:!0}).node;if(!n.node_ops.readdir)throw new _.ErrnoError(54);return n.node_ops.readdir(n)},unlink:r=>{var n=_.lookupPath(r,{parent:!0}).node;if(!n)throw new _.ErrnoError(44);var o=he.basename(r),i=_.lookupNode(n,o),l=_.mayDelete(n,o,!1);if(l)throw new _.ErrnoError(l);if(!n.node_ops.unlink)throw new _.ErrnoError(63);if(_.isMountpoint(i))throw new _.ErrnoError(10);n.node_ops.unlink(n,o),_.destroyNode(i)},readlink:r=>{var n=_.lookupPath(r).node;if(!n)throw new _.ErrnoError(44);if(!n.node_ops.readlink)throw new _.ErrnoError(28);return Ge.resolve(_.getPath(n.parent),n.node_ops.readlink(n))},stat:(r,n)=>{var o=_.lookupPath(r,{follow:!n}).node;if(!o)throw new _.ErrnoError(44);if(!o.node_ops.getattr)throw new _.ErrnoError(63);return o.node_ops.getattr(o)},lstat:r=>_.stat(r,!0),chmod:(r,n,o)=>{var i;if(!(i=typeof r=="string"?_.lookupPath(r,{follow:!o}).node:r).node_ops.setattr)throw new _.ErrnoError(63);i.node_ops.setattr(i,{mode:4095&n|-4096&i.mode,timestamp:Date.now()})},lchmod:(r,n)=>{_.chmod(r,n,!0)},fchmod:(r,n)=>{var o=_.getStream(r);if(!o)throw new _.ErrnoError(8);_.chmod(o.node,n)},chown:(r,n,o,i)=>{var l;if(!(l=typeof r=="string"?_.lookupPath(r,{follow:!i}).node:r).node_ops.setattr)throw new _.ErrnoError(63);l.node_ops.setattr(l,{timestamp:Date.now()})},lchown:(r,n,o)=>{_.chown(r,n,o,!0)},fchown:(r,n,o)=>{var i=_.getStream(r);if(!i)throw new _.ErrnoError(8);_.chown(i.node,n,o)},truncate:(r,n)=>{if(n<0)throw new _.ErrnoError(28);var o;if(!(o=typeof r=="string"?_.lookupPath(r,{follow:!0}).node:r).node_ops.setattr)throw new _.ErrnoError(63);if(_.isDir(o.mode))throw new _.ErrnoError(31);if(!_.isFile(o.mode))throw new _.ErrnoError(28);var i=_.nodePermissions(o,"w");if(i)throw new _.ErrnoError(i);o.node_ops.setattr(o,{size:n,timestamp:Date.now()})},ftruncate:(r,n)=>{var o=_.getStream(r);if(!o)throw new _.ErrnoError(8);if(!(2097155&o.flags))throw new _.ErrnoError(28);_.truncate(o.node,n)},utime:(r,n,o)=>{var i=_.lookupPath(r,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(n,o)})},open:(r,n,o)=>{if(r==="")throw new _.ErrnoError(44);var i;if(o=o===void 0?438:o,o=64&(n=typeof n=="string"?_.modeStringToFlags(n):n)?4095&o|32768:0,typeof r=="object")i=r;else{r=he.normalize(r);try{i=_.lookupPath(r,{follow:!(131072&n)}).node}catch{}}var l=!1;if(64&n)if(i){if(128&n)throw new _.ErrnoError(20)}else i=_.mknod(r,o,0),l=!0;if(!i)throw new _.ErrnoError(44);if(_.isChrdev(i.mode)&&(n&=-513),65536&n&&!_.isDir(i.mode))throw new _.ErrnoError(54);if(!l){var c=_.mayOpen(i,n);if(c)throw new _.ErrnoError(c)}512&n&&!l&&_.truncate(i,0),n&=-131713;var E=_.createStream({node:i,path:_.getPath(i),flags:n,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1});return E.stream_ops.open&&E.stream_ops.open(E),!t.logReadFiles||1&n||(_.readFiles||(_.readFiles={}),r in _.readFiles||(_.readFiles[r]=1)),E},close:r=>{if(_.isClosed(r))throw new _.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(n){throw n}finally{_.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,n,o)=>{if(_.isClosed(r))throw new _.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new _.ErrnoError(70);if(o!=0&&o!=1&&o!=2)throw new _.ErrnoError(28);return r.position=r.stream_ops.llseek(r,n,o),r.ungotten=[],r.position},read:(r,n,o,i,l)=>{if(i<0||l<0)throw new _.ErrnoError(28);if(_.isClosed(r))throw new _.ErrnoError(8);if((2097155&r.flags)==1)throw new _.ErrnoError(8);if(_.isDir(r.node.mode))throw new _.ErrnoError(31);if(!r.stream_ops.read)throw new _.ErrnoError(28);var c=l!==void 0;if(c){if(!r.seekable)throw new _.ErrnoError(70)}else l=r.position;var E=r.stream_ops.read(r,n,o,i,l);return c||(r.position+=E),E},write:(r,n,o,i,l,c)=>{if(i<0||l<0)throw new _.ErrnoError(28);if(_.isClosed(r))throw new _.ErrnoError(8);if(!(2097155&r.flags))throw new _.ErrnoError(8);if(_.isDir(r.node.mode))throw new _.ErrnoError(31);if(!r.stream_ops.write)throw new _.ErrnoError(28);r.seekable&&1024&r.flags&&_.llseek(r,0,2);var E=l!==void 0;if(E){if(!r.seekable)throw new _.ErrnoError(70)}else l=r.position;var q=r.stream_ops.write(r,n,o,i,l,c);return E||(r.position+=q),q},allocate:(r,n,o)=>{if(_.isClosed(r))throw new _.ErrnoError(8);if(n<0||o<=0)throw new _.ErrnoError(28);if(!(2097155&r.flags))throw new _.ErrnoError(8);if(!_.isFile(r.node.mode)&&!_.isDir(r.node.mode))throw new _.ErrnoError(43);if(!r.stream_ops.allocate)throw new _.ErrnoError(138);r.stream_ops.allocate(r,n,o)},mmap:(r,n,o,i,l)=>{if(2&i&&!(2&l)&&(2097155&r.flags)!=2)throw new _.ErrnoError(2);if((2097155&r.flags)==1)throw new _.ErrnoError(2);if(!r.stream_ops.mmap)throw new _.ErrnoError(43);return r.stream_ops.mmap(r,n,o,i,l)},msync:(r,n,o,i,l)=>r.stream_ops.msync?r.stream_ops.msync(r,n,o,i,l):0,munmap:r=>0,ioctl:(r,n,o)=>{if(!r.stream_ops.ioctl)throw new _.ErrnoError(59);return r.stream_ops.ioctl(r,n,o)},readFile:(r,n={})=>{if(n.flags=n.flags||0,n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw new Error('Invalid encoding type "'+n.encoding+'"');var o,i=_.open(r,n.flags),l=_.stat(r).size,c=new Uint8Array(l);return _.read(i,c,0,l,0),n.encoding==="utf8"?o=lt(c,0):n.encoding==="binary"&&(o=c),_.close(i),o},writeFile:(r,n,o={})=>{o.flags=o.flags||577;var i=_.open(r,o.flags,o.mode);if(typeof n=="string"){var l=new Uint8Array(dt(n)+1),c=vt(n,l,0,l.length);_.write(i,l,0,c,void 0,o.canOwn)}else{if(!ArrayBuffer.isView(n))throw new Error("Unsupported data type");_.write(i,n,0,n.byteLength,void 0,o.canOwn)}_.close(i)},cwd:()=>_.currentPath,chdir:r=>{var n=_.lookupPath(r,{follow:!0});if(n.node===null)throw new _.ErrnoError(44);if(!_.isDir(n.node.mode))throw new _.ErrnoError(54);var o=_.nodePermissions(n.node,"x");if(o)throw new _.ErrnoError(o);_.currentPath=n.path},createDefaultDirectories:()=>{_.mkdir("/tmp"),_.mkdir("/home"),_.mkdir("/home/web_user")},createDefaultDevices:()=>{_.mkdir("/dev"),_.registerDevice(_.makedev(1,3),{read:()=>0,write:(n,o,i,l,c)=>l}),_.mkdev("/dev/null",_.makedev(1,3)),rt.register(_.makedev(5,0),rt.default_tty_ops),rt.register(_.makedev(6,0),rt.default_tty1_ops),_.mkdev("/dev/tty",_.makedev(5,0)),_.mkdev("/dev/tty1",_.makedev(6,0));var r=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}return()=>_t("randomDevice")}();_.createDevice("/dev","random",r),_.createDevice("/dev","urandom",r),_.mkdir("/dev/shm"),_.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{_.mkdir("/proc");var r=_.mkdir("/proc/self");_.mkdir("/proc/self/fd"),_.mount({mount:()=>{var n=_.createNode(r,"fd",16895,73);return n.node_ops={lookup:(o,i)=>{var l=+i,c=_.getStream(l);if(!c)throw new _.ErrnoError(8);var E={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>c.path}};return E.parent=E,E}},n}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?_.createDevice("/dev","stdin",t.stdin):_.symlink("/dev/tty","/dev/stdin"),t.stdout?_.createDevice("/dev","stdout",null,t.stdout):_.symlink("/dev/tty","/dev/stdout"),t.stderr?_.createDevice("/dev","stderr",null,t.stderr):_.symlink("/dev/tty1","/dev/stderr"),_.open("/dev/stdin",0),_.open("/dev/stdout",1),_.open("/dev/stderr",1)},ensureErrnoError:()=>{_.ErrnoError||(_.ErrnoError=function(r,n){this.node=n,this.setErrno=function(o){this.errno=o},this.setErrno(r),this.message="FS error"},_.ErrnoError.prototype=new Error,_.ErrnoError.prototype.constructor=_.ErrnoError,[44].forEach(r=>{_.genericErrors[r]=new _.ErrnoError(r),_.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{_.ensureErrnoError(),_.nameTable=new Array(4096),_.mount(pe,{},"/"),_.createDefaultDirectories(),_.createDefaultDevices(),_.createSpecialDirectories(),_.filesystems={MEMFS:pe}},init:(r,n,o)=>{_.init.initialized=!0,_.ensureErrnoError(),t.stdin=r||t.stdin,t.stdout=n||t.stdout,t.stderr=o||t.stderr,_.createStandardStreams()},quit:()=>{_.init.initialized=!1;for(var r=0;r<_.streams.length;r++){var n=_.streams[r];n&&_.close(n)}},getMode:(r,n)=>{var o=0;return r&&(o|=365),n&&(o|=146),o},findObject:(r,n)=>{var o=_.analyzePath(r,n);return o.exists?o.object:null},analyzePath:(r,n)=>{try{r=(i=_.lookupPath(r,{follow:!n})).path}catch{}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=_.lookupPath(r,{parent:!0});o.parentExists=!0,o.parentPath=i.path,o.parentObject=i.node,o.name=he.basename(r),i=_.lookupPath(r,{follow:!n}),o.exists=!0,o.path=i.path,o.object=i.node,o.name=i.node.name,o.isRoot=i.path==="/"}catch(l){o.error=l.errno}return o},createPath:(r,n,o,i)=>{r=typeof r=="string"?r:_.getPath(r);for(var l=n.split("/").reverse();l.length;){var c=l.pop();if(c){var E=he.join2(r,c);try{_.mkdir(E)}catch{}r=E}}return E},createFile:(r,n,o,i,l)=>{var c=he.join2(typeof r=="string"?r:_.getPath(r),n),E=_.getMode(i,l);return _.create(c,E)},createDataFile:(r,n,o,i,l,c)=>{var E=n;r&&(r=typeof r=="string"?r:_.getPath(r),E=n?he.join2(r,n):r);var q=_.getMode(i,l),L=_.create(E,q);if(o){if(typeof o=="string"){for(var Q=new Array(o.length),O=0,P=o.length;O<P;++O)Q[O]=o.charCodeAt(O);o=Q}_.chmod(L,146|q);var D=_.open(L,577);_.write(D,o,0,o.length,0,c),_.close(D),_.chmod(L,q)}return L},createDevice:(r,n,o,i)=>{var l=he.join2(typeof r=="string"?r:_.getPath(r),n),c=_.getMode(!!o,!!i);_.createDevice.major||(_.createDevice.major=64);var E=_.makedev(_.createDevice.major++,0);return _.registerDevice(E,{open:q=>{q.seekable=!1},close:q=>{i&&i.buffer&&i.buffer.length&&i(10)},read:(q,L,Q,O,P)=>{for(var D=0,U=0;U<O;U++){var G;try{G=o()}catch{throw new _.ErrnoError(29)}if(G===void 0&&D===0)throw new _.ErrnoError(6);if(G==null)break;D++,L[Q+U]=G}return D&&(q.node.timestamp=Date.now()),D},write:(q,L,Q,O,P)=>{for(var D=0;D<O;D++)try{i(L[Q+D])}catch{throw new _.ErrnoError(29)}return O&&(q.node.timestamp=Date.now()),D}}),_.mkdev(l,c,E)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!se)throw new Error("Cannot load without read() or XMLHttpRequest.");try{r.contents=$t(se(r.url)),r.usedBytes=r.contents.length}catch{throw new _.ErrnoError(29)}},createLazyFile:(r,n,o,i,l)=>{function c(){this.lengthKnown=!1,this.chunks=[]}if(c.prototype.get=function(P){if(!(P>this.length-1||P<0)){var D=P%this.chunkSize,U=P/this.chunkSize|0;return this.getter(U)[D]}},c.prototype.setDataGetter=function(P){this.getter=P},c.prototype.cacheLength=function(){var P=new XMLHttpRequest;if(P.open("HEAD",o,!1),P.send(null),!(P.status>=200&&P.status<300||P.status===304))throw new Error("Couldn't load "+o+". Status: "+P.status);var D,U=Number(P.getResponseHeader("Content-length")),G=(D=P.getResponseHeader("Accept-Ranges"))&&D==="bytes",T=(D=P.getResponseHeader("Content-Encoding"))&&D==="gzip",A=1048576;G||(A=U);var z=this;z.setDataGetter(R=>{var B=R*A,I=(R+1)*A-1;if(I=Math.min(I,U-1),z.chunks[R]===void 0&&(z.chunks[R]=((V,d)=>{if(V>d)throw new Error("invalid range ("+V+", "+d+") or no bytes requested!");if(d>U-1)throw new Error("only "+U+" bytes available! programmer error!");var h=new XMLHttpRequest;if(h.open("GET",o,!1),U!==A&&h.setRequestHeader("Range","bytes="+V+"-"+d),h.responseType="arraybuffer",h.overrideMimeType&&h.overrideMimeType("text/plain; charset=x-user-defined"),h.send(null),!(h.status>=200&&h.status<300||h.status===304))throw new Error("Couldn't load "+o+". Status: "+h.status);return h.response!==void 0?new Uint8Array(h.response||[]):$t(h.responseText||"")})(B,I)),z.chunks[R]===void 0)throw new Error("doXHR failed!");return z.chunks[R]}),!T&&U||(A=U=1,U=this.getter(0).length,A=U,qt("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=U,this._chunkSize=A,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Ue)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new c;Object.defineProperties(E,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var q={isDevice:!1,contents:E}}else q={isDevice:!1,url:o};var L=_.createFile(r,n,q,i,l);q.contents?L.contents=q.contents:q.url&&(L.contents=null,L.url=q.url),Object.defineProperties(L,{usedBytes:{get:function(){return this.contents.length}}});var Q={};function O(P,D,U,G,T){var A=P.node.contents;if(T>=A.length)return 0;var z=Math.min(A.length-T,G);if(A.slice)for(var R=0;R<z;R++)D[U+R]=A[T+R];else for(R=0;R<z;R++)D[U+R]=A.get(T+R);return z}return Object.keys(L.stream_ops).forEach(P=>{var D=L.stream_ops[P];Q[P]=function(){return _.forceLoadFile(L),D.apply(null,arguments)}}),Q.read=(P,D,U,G,T)=>(_.forceLoadFile(L),O(P,D,U,G,T)),Q.mmap=(P,D,U,G,T)=>{_.forceLoadFile(L);var A=Tn(D);if(!A)throw new _.ErrnoError(48);return O(P,Me,A,D,U),{ptr:A,allocated:!0}},L.stream_ops=Q,L},createPreloadedFile:(r,n,o,i,l,c,E,q,L,Q)=>{var O=n?Ge.resolve(he.join2(r,n)):r;function P(D){function U(G){Q&&Q(),q||_.createDataFile(r,n,G,i,l,L),c&&c(),Et()}Browser.handledByPreloadPlugin(D,O,U,()=>{E&&E(),Et()})||U(D)}Gt(),typeof o=="string"?nr(o,D=>P(D),E):P(o)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(r,n,o)=>{n=n||(()=>{}),o=o||(()=>{});var i=_.indexedDB();try{var l=i.open(_.DB_NAME(),_.DB_VERSION)}catch(c){return o(c)}l.onupgradeneeded=()=>{qt("creating db"),l.result.createObjectStore(_.DB_STORE_NAME)},l.onsuccess=()=>{var c=l.result.transaction([_.DB_STORE_NAME],"readwrite"),E=c.objectStore(_.DB_STORE_NAME),q=0,L=0,Q=r.length;function O(){L==0?n():o()}r.forEach(P=>{var D=E.put(_.analyzePath(P).object.contents,P);D.onsuccess=()=>{++q+L==Q&&O()},D.onerror=()=>{L++,q+L==Q&&O()}}),c.onerror=o},l.onerror=o},loadFilesFromDB:(r,n,o)=>{n=n||(()=>{}),o=o||(()=>{});var i=_.indexedDB();try{var l=i.open(_.DB_NAME(),_.DB_VERSION)}catch(c){return o(c)}l.onupgradeneeded=o,l.onsuccess=()=>{var c=l.result;try{var E=c.transaction([_.DB_STORE_NAME],"readonly")}catch(D){return void o(D)}var q=E.objectStore(_.DB_STORE_NAME),L=0,Q=0,O=r.length;function P(){Q==0?n():o()}r.forEach(D=>{var U=q.get(D);U.onsuccess=()=>{_.analyzePath(D).exists&&_.unlink(D),_.createDataFile(he.dirname(D),he.basename(D),U.result,!0,!0,!0),++L+Q==O&&P()},U.onerror=()=>{Q++,L+Q==O&&P()}}),E.onerror=o},l.onerror=o}},_e={DEFAULT_POLLMASK:5,calculateAt:function(r,n,o){if(he.isAbs(n))return n;var i;if(i=r===-100?_.cwd():_e.getStreamFromFD(r).path,n.length==0){if(!o)throw new _.ErrnoError(44);return i}return he.join2(i,n)},doStat:function(r,n,o){try{var i=r(n)}catch(q){if(q&&q.node&&he.normalize(n)!==he.normalize(_.getPath(q.node)))return-54;throw q}de[o>>2]=i.dev,de[o+8>>2]=i.ino,de[o+12>>2]=i.mode,Te[o+16>>2]=i.nlink,de[o+20>>2]=i.uid,de[o+24>>2]=i.gid,de[o+28>>2]=i.rdev,Ne=[i.size>>>0,(ge=i.size,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],de[o+40>>2]=Ne[0],de[o+44>>2]=Ne[1],de[o+48>>2]=4096,de[o+52>>2]=i.blocks;var l=i.atime.getTime(),c=i.mtime.getTime(),E=i.ctime.getTime();return Ne=[Math.floor(l/1e3)>>>0,(ge=Math.floor(l/1e3),+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],de[o+56>>2]=Ne[0],de[o+60>>2]=Ne[1],Te[o+64>>2]=l%1e3*1e3,Ne=[Math.floor(c/1e3)>>>0,(ge=Math.floor(c/1e3),+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],de[o+72>>2]=Ne[0],de[o+76>>2]=Ne[1],Te[o+80>>2]=c%1e3*1e3,Ne=[Math.floor(E/1e3)>>>0,(ge=Math.floor(E/1e3),+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],de[o+88>>2]=Ne[0],de[o+92>>2]=Ne[1],Te[o+96>>2]=E%1e3*1e3,Ne=[i.ino>>>0,(ge=i.ino,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],de[o+104>>2]=Ne[0],de[o+108>>2]=Ne[1],0},doMsync:function(r,n,o,i,l){if(!_.isFile(n.node.mode))throw new _.ErrnoError(43);if(2&i)return 0;var c=at.slice(r,r+o);_.msync(n,c,l,o,i)},varargs:void 0,get:function(){return _e.varargs+=4,de[_e.varargs-4>>2]},getStr:function(r){var n=function(o,i){return o?lt(at,o,i):""}(r);return n},getStreamFromFD:function(r){var n=_.getStream(r);if(!n)throw new _.ErrnoError(8);return n}};function kn(r){return r<-9007199254740992||r>9007199254740992?NaN:Number(r)}function Kt(r){return Te[r>>2]+4294967296*de[r+4>>2]}var Fn,rr=[0,31,60,91,121,152,182,213,244,274,305,335],sr=[0,31,59,90,120,151,181,212,243,273,304,334];function On(r){var n=dt(r)+1,o=Rn(n);return o&&vt(r,Me,o,n),o}function ir(r){var n=tt.buffer;try{return tt.grow(r-n.byteLength+65535>>>16),qn(),1}catch{}}Fn=()=>performance.now();var Jt={};function mt(){if(!mt.strings){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ke||"./this.program"};for(var n in Jt)Jt[n]===void 0?delete r[n]:r[n]=Jt[n];var o=[];for(var n in r)o.push(n+"="+r[n]);mt.strings=o}return mt.strings}var Pn=function(r,n,o,i){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=_.nextInode++,this.name=n,this.mode=o,this.node_ops={},this.stream_ops={},this.rdev=i},Xt=365,Yt=146;Object.defineProperties(Pn.prototype,{read:{get:function(){return(this.mode&Xt)===Xt},set:function(r){r?this.mode|=Xt:this.mode&=-366}},write:{get:function(){return(this.mode&Yt)===Yt},set:function(r){r?this.mode|=Yt:this.mode&=-147}},isFolder:{get:function(){return _.isDir(this.mode)}},isDevice:{get:function(){return _.isChrdev(this.mode)}}}),_.FSNode=Pn,_.staticInit();var Ln={__syscall_chmod:function(r,n){try{return r=_e.getStr(r),_.chmod(r,n),0}catch(o){if(_===void 0||!(o instanceof _.ErrnoError))throw o;return-o.errno}},__syscall_faccessat:function(r,n,o,i){try{if(n=_e.getStr(n),n=_e.calculateAt(r,n),-8&o)return-28;var l=_.lookupPath(n,{follow:!0}).node;if(!l)return-44;var c="";return 4&o&&(c+="r"),2&o&&(c+="w"),1&o&&(c+="x"),c&&_.nodePermissions(l,c)?-2:0}catch(E){if(_===void 0||!(E instanceof _.ErrnoError))throw E;return-E.errno}},__syscall_fchmod:function(r,n){try{return _.fchmod(r,n),0}catch(o){if(_===void 0||!(o instanceof _.ErrnoError))throw o;return-o.errno}},__syscall_fchown32:function(r,n,o){try{return _.fchown(r,n,o),0}catch(i){if(_===void 0||!(i instanceof _.ErrnoError))throw i;return-i.errno}},__syscall_fcntl64:function(r,n,o){_e.varargs=o;try{var i=_e.getStreamFromFD(r);switch(n){case 0:return(l=_e.get())<0?-28:_.createStream(i,l).fd;case 1:case 2:case 6:case 7:return 0;case 3:return i.flags;case 4:var l=_e.get();return i.flags|=l,0;case 5:return l=_e.get(),bn[l+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return c=28,de[Nn()>>2]=c,-1}}catch(E){if(_===void 0||!(E instanceof _.ErrnoError))throw E;return-E.errno}var c},__syscall_fstat64:function(r,n){try{var o=_e.getStreamFromFD(r);return _e.doStat(_.stat,o.path,n)}catch(i){if(_===void 0||!(i instanceof _.ErrnoError))throw i;return-i.errno}},__syscall_ftruncate64:function(r,n){try{return n=kn(n),isNaN(n)?-61:(_.ftruncate(r,n),0)}catch(o){if(_===void 0||!(o instanceof _.ErrnoError))throw o;return-o.errno}},__syscall_getcwd:function(r,n){try{if(n===0)return-28;var o=_.cwd(),i=dt(o)+1;return n<i?-68:(yn(o,r,n),i)}catch(l){if(_===void 0||!(l instanceof _.ErrnoError))throw l;return-l.errno}},__syscall_ioctl:function(r,n,o){_e.varargs=o;try{var i=_e.getStreamFromFD(r);switch(n){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return i.tty?0:-59;case 21519:if(!i.tty)return-59;var l=_e.get();return de[l>>2]=0,0;case 21520:return i.tty?-28:-59;case 21531:return l=_e.get(),_.ioctl(i,n,l);default:return-28}}catch(c){if(_===void 0||!(c instanceof _.ErrnoError))throw c;return-c.errno}},__syscall_lstat64:function(r,n){try{return r=_e.getStr(r),_e.doStat(_.lstat,r,n)}catch(o){if(_===void 0||!(o instanceof _.ErrnoError))throw o;return-o.errno}},__syscall_mkdirat:function(r,n,o){try{return n=_e.getStr(n),n=_e.calculateAt(r,n),(n=he.normalize(n))[n.length-1]==="/"&&(n=n.substr(0,n.length-1)),_.mkdir(n,o,0),0}catch(i){if(_===void 0||!(i instanceof _.ErrnoError))throw i;return-i.errno}},__syscall_newfstatat:function(r,n,o,i){try{n=_e.getStr(n);var l=256&i,c=4096&i;return i&=-6401,n=_e.calculateAt(r,n,c),_e.doStat(l?_.lstat:_.stat,n,o)}catch(E){if(_===void 0||!(E instanceof _.ErrnoError))throw E;return-E.errno}},__syscall_openat:function(r,n,o,i){_e.varargs=i;try{n=_e.getStr(n),n=_e.calculateAt(r,n);var l=i?_e.get():0;return _.open(n,o,l).fd}catch(c){if(_===void 0||!(c instanceof _.ErrnoError))throw c;return-c.errno}},__syscall_readlinkat:function(r,n,o,i){try{if(n=_e.getStr(n),n=_e.calculateAt(r,n),i<=0)return-28;var l=_.readlink(n),c=Math.min(i,dt(l)),E=Me[o+c];return yn(l,o,i+1),Me[o+c]=E,c}catch(q){if(_===void 0||!(q instanceof _.ErrnoError))throw q;return-q.errno}},__syscall_rmdir:function(r){try{return r=_e.getStr(r),_.rmdir(r),0}catch(n){if(_===void 0||!(n instanceof _.ErrnoError))throw n;return-n.errno}},__syscall_stat64:function(r,n){try{return r=_e.getStr(r),_e.doStat(_.stat,r,n)}catch(o){if(_===void 0||!(o instanceof _.ErrnoError))throw o;return-o.errno}},__syscall_unlinkat:function(r,n,o){try{return n=_e.getStr(n),n=_e.calculateAt(r,n),o===0?_.unlink(n):o===512?_.rmdir(n):_t("Invalid flags passed to unlinkat"),0}catch(i){if(_===void 0||!(i instanceof _.ErrnoError))throw i;return-i.errno}},__syscall_utimensat:function(r,n,o,i){try{if(n=_e.getStr(n),n=_e.calculateAt(r,n,!0),o){var l=Kt(o),c=de[o+8>>2];E=1e3*l+c/1e6,q=1e3*(l=Kt(o+=16))+(c=de[o+8>>2])/1e6}else var E=Date.now(),q=E;return _.utime(n,E,q),0}catch(L){if(_===void 0||!(L instanceof _.ErrnoError))throw L;return-L.errno}},_emscripten_get_now_is_monotonic:function(){return!0},_localtime_js:function(r,n){var o=new Date(1e3*Kt(r));de[n>>2]=o.getSeconds(),de[n+4>>2]=o.getMinutes(),de[n+8>>2]=o.getHours(),de[n+12>>2]=o.getDate(),de[n+16>>2]=o.getMonth(),de[n+20>>2]=o.getFullYear()-1900,de[n+24>>2]=o.getDay();var i=0|function(L){var Q;return((Q=L.getFullYear())%4!=0||Q%100==0&&Q%400!=0?sr:rr)[L.getMonth()]+L.getDate()-1}(o);de[n+28>>2]=i,de[n+36>>2]=-60*o.getTimezoneOffset();var l=new Date(o.getFullYear(),0,1),c=new Date(o.getFullYear(),6,1).getTimezoneOffset(),E=l.getTimezoneOffset(),q=0|(c!=E&&o.getTimezoneOffset()==Math.min(E,c));de[n+32>>2]=q},_mmap_js:function(r,n,o,i,l,c,E){try{var q=_e.getStreamFromFD(i),L=_.mmap(q,r,l,n,o),Q=L.ptr;return de[c>>2]=L.allocated,Te[E>>2]=Q,0}catch(O){if(_===void 0||!(O instanceof _.ErrnoError))throw O;return-O.errno}},_munmap_js:function(r,n,o,i,l,c){try{var E=_e.getStreamFromFD(l);2&o&&_e.doMsync(r,E,n,i,c)}catch(q){if(_===void 0||!(q instanceof _.ErrnoError))throw q;return-q.errno}},_tzset_js:function(r,n,o){var i=new Date().getFullYear(),l=new Date(i,0,1),c=new Date(i,6,1),E=l.getTimezoneOffset(),q=c.getTimezoneOffset(),L=Math.max(E,q);function Q(G){var T=G.toTimeString().match(/\(([A-Za-z ]+)\)$/);return T?T[1]:"GMT"}Te[r>>2]=60*L,de[n>>2]=+(E!=q);var O=Q(l),P=Q(c),D=On(O),U=On(P);q<E?(Te[o>>2]=D,Te[o+4>>2]=U):(Te[o>>2]=U,Te[o+4>>2]=D)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:Fn,emscripten_resize_heap:function(r){var n,o,i=at.length,l=2147483648;if((r>>>=0)>l)return!1;for(var c=1;c<=4;c*=2){var E=i*(1+.2/c);if(E=Math.min(E,r+100663296),ir(Math.min(l,(n=Math.max(r,E))+((o=65536)-n%o)%o)))return!0}return!1},environ_get:function(r,n){var o=0;return mt().forEach(function(i,l){var c=n+o;Te[r+4*l>>2]=c,function(E,q){for(var L=0;L<E.length;++L)Me[0|q++]=E.charCodeAt(L);Me[0|q]=0}(i,c),o+=i.length+1}),0},environ_sizes_get:function(r,n){var o=mt();Te[r>>2]=o.length;var i=0;return o.forEach(function(l){i+=l.length+1}),Te[n>>2]=i,0},fd_close:function(r){try{var n=_e.getStreamFromFD(r);return _.close(n),0}catch(o){if(_===void 0||!(o instanceof _.ErrnoError))throw o;return o.errno}},fd_fdstat_get:function(r,n){try{var o=_e.getStreamFromFD(r),i=o.tty?2:_.isDir(o.mode)?3:_.isLink(o.mode)?7:4;return Me[0|n]=i,0}catch(l){if(_===void 0||!(l instanceof _.ErrnoError))throw l;return l.errno}},fd_read:function(r,n,o,i){try{var l=function(c,E,q,L){for(var Q=0,O=0;O<q;O++){var P=Te[E>>2],D=Te[E+4>>2];E+=8;var U=_.read(c,Me,P,D,L);if(U<0)return-1;if(Q+=U,U<D)break}return Q}(_e.getStreamFromFD(r),n,o);return Te[i>>2]=l,0}catch(c){if(_===void 0||!(c instanceof _.ErrnoError))throw c;return c.errno}},fd_seek:function(r,n,o,i){try{if(n=kn(n),isNaN(n))return 61;var l=_e.getStreamFromFD(r);return _.llseek(l,n,o),Ne=[l.position>>>0,(ge=l.position,+Math.abs(ge)>=1?ge>0?(0|Math.min(+Math.floor(ge/4294967296),4294967295))>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],de[i>>2]=Ne[0],de[i+4>>2]=Ne[1],l.getdents&&n===0&&o===0&&(l.getdents=null),0}catch(c){if(_===void 0||!(c instanceof _.ErrnoError))throw c;return c.errno}},fd_sync:function(r){try{var n=_e.getStreamFromFD(r);return n.stream_ops&&n.stream_ops.fsync?n.stream_ops.fsync(n):0}catch(o){if(_===void 0||!(o instanceof _.ErrnoError))throw o;return o.errno}},fd_write:function(r,n,o,i){try{var l=function(c,E,q,L){for(var Q=0,O=0;O<q;O++){var P=Te[E>>2],D=Te[E+4>>2];E+=8;var U=_.write(c,Me,P,D,L);if(U<0)return-1;Q+=U}return Q}(_e.getStreamFromFD(r),n,o);return Te[i>>2]=l,0}catch(c){if(_===void 0||!(c instanceof _.ErrnoError))throw c;return c.errno}},memory:tt};(function(){var r={env:Ln,wasi_snapshot_preview1:Ln};function n(l,c){var E,q=l.exports;t.asm=q,E=t.asm.__wasm_call_ctors,Sn.unshift(E),Et()}function o(l){n(l.instance)}function i(l){return(et||!Je&&!Ue||typeof fetch!="function"?Promise.resolve().then(function(){return An(Qe)}):fetch(Qe,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+Qe+"'";return c.arrayBuffer()}).catch(function(){return An(Qe)})).then(function(c){return WebAssembly.instantiate(c,r)}).then(function(c){return c}).then(l,function(c){Xe("failed to asynchronously prepare wasm: "+c),_t(c)})}if(Gt(),t.instantiateWasm)try{return t.instantiateWasm(r,n)}catch(l){Xe("Module.instantiateWasm callback failed with error: "+l),s(l)}(et||typeof WebAssembly.instantiateStreaming!="function"||In(Qe)||typeof fetch!="function"?i(o):fetch(Qe,{credentials:"same-origin"}).then(function(l){return WebAssembly.instantiateStreaming(l,r).then(o,function(c){return Xe("wasm streaming compile failed: "+c),Xe("falling back to ArrayBuffer instantiation"),i(o)})})).catch(s)})(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},t._sqlite3_status64=function(){return(t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)},t._sqlite3_status=function(){return(t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)},t._sqlite3_db_status=function(){return(t._sqlite3_db_status=t.asm.sqlite3_db_status).apply(null,arguments)},t._sqlite3_msize=function(){return(t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)},t._sqlite3_vfs_find=function(){return(t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)},t._sqlite3_initialize=function(){return(t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)},t._sqlite3_malloc=function(){return(t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)},t._sqlite3_free=function(){return(t._sqlite3_free=t.asm.sqlite3_free).apply(null,arguments)},t._sqlite3_vfs_register=function(){return(t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)},t._sqlite3_vfs_unregister=function(){return(t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)},t._sqlite3_malloc64=function(){return(t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)},t._sqlite3_realloc=function(){return(t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)},t._sqlite3_realloc64=function(){return(t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)},t._sqlite3_value_text=function(){return(t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)},t._sqlite3_randomness=function(){return(t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)},t._sqlite3_stricmp=function(){return(t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)},t._sqlite3_strnicmp=function(){return(t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,arguments)},t._sqlite3_uri_parameter=function(){return(t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)};var Nn=t.___errno_location=function(){return(Nn=t.___errno_location=t.asm.__errno_location).apply(null,arguments)};t._sqlite3_uri_boolean=function(){return(t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)},t._sqlite3_serialize=function(){return(t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)},t._sqlite3_prepare_v2=function(){return(t._sqlite3_prepare_v2=t.asm.sqlite3_prepare_v2).apply(null,arguments)},t._sqlite3_step=function(){return(t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)},t._sqlite3_column_int64=function(){return(t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)},t._sqlite3_reset=function(){return(t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)},t._sqlite3_exec=function(){return(t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)},t._sqlite3_column_int=function(){return(t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)},t._sqlite3_finalize=function(){return(t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)},t._sqlite3_file_control=function(){return(t._sqlite3_file_control=t.asm.sqlite3_file_control).apply(null,arguments)},t._sqlite3_column_name=function(){return(t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)},t._sqlite3_column_text=function(){return(t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)},t._sqlite3_column_type=function(){return(t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)},t._sqlite3_errmsg=function(){return(t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)},t._sqlite3_deserialize=function(){return(t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)},t._sqlite3_clear_bindings=function(){return(t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)},t._sqlite3_value_blob=function(){return(t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)},t._sqlite3_value_bytes=function(){return(t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)},t._sqlite3_value_double=function(){return(t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)},t._sqlite3_value_int=function(){return(t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)},t._sqlite3_value_int64=function(){return(t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)},t._sqlite3_value_subtype=function(){return(t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,arguments)},t._sqlite3_value_pointer=function(){return(t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)},t._sqlite3_value_type=function(){return(t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)},t._sqlite3_value_nochange=function(){return(t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)},t._sqlite3_value_frombind=function(){return(t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)},t._sqlite3_value_dup=function(){return(t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)},t._sqlite3_value_free=function(){return(t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)},t._sqlite3_result_blob=function(){return(t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)},t._sqlite3_result_error_toobig=function(){return(t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)},t._sqlite3_result_error_nomem=function(){return(t._sqlite3_result_error_nomem=t.asm.sqlite3_result_error_nomem).apply(null,arguments)},t._sqlite3_result_double=function(){return(t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)},t._sqlite3_result_error=function(){return(t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)},t._sqlite3_result_int=function(){return(t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)},t._sqlite3_result_int64=function(){return(t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,arguments)},t._sqlite3_result_null=function(){return(t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)},t._sqlite3_result_pointer=function(){return(t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)},t._sqlite3_result_subtype=function(){return(t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)},t._sqlite3_result_text=function(){return(t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)},t._sqlite3_result_zeroblob=function(){return(t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)},t._sqlite3_result_zeroblob64=function(){return(t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)},t._sqlite3_result_error_code=function(){return(t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)},t._sqlite3_user_data=function(){return(t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)},t._sqlite3_context_db_handle=function(){return(t._sqlite3_context_db_handle=t.asm.sqlite3_context_db_handle).apply(null,arguments)},t._sqlite3_vtab_nochange=function(){return(t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)},t._sqlite3_vtab_in_first=function(){return(t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)},t._sqlite3_vtab_in_next=function(){return(t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)},t._sqlite3_aggregate_context=function(){return(t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,arguments)},t._sqlite3_get_auxdata=function(){return(t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)},t._sqlite3_set_auxdata=function(){return(t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)},t._sqlite3_column_count=function(){return(t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)},t._sqlite3_data_count=function(){return(t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)},t._sqlite3_column_blob=function(){return(t._sqlite3_column_blob=t.asm.sqlite3_column_blob).apply(null,arguments)},t._sqlite3_column_bytes=function(){return(t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)},t._sqlite3_column_double=function(){return(t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)},t._sqlite3_column_value=function(){return(t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,arguments)},t._sqlite3_bind_blob=function(){return(t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)},t._sqlite3_bind_double=function(){return(t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)},t._sqlite3_bind_int=function(){return(t._sqlite3_bind_int=t.asm.sqlite3_bind_int).apply(null,arguments)},t._sqlite3_bind_int64=function(){return(t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)},t._sqlite3_bind_null=function(){return(t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)},t._sqlite3_bind_pointer=function(){return(t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)},t._sqlite3_bind_text=function(){return(t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)},t._sqlite3_bind_parameter_count=function(){return(t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)},t._sqlite3_bind_parameter_index=function(){return(t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)},t._sqlite3_db_handle=function(){return(t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)},t._sqlite3_stmt_readonly=function(){return(t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)},t._sqlite3_stmt_isexplain=function(){return(t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)},t._sqlite3_stmt_status=function(){return(t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)},t._sqlite3_sql=function(){return(t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)},t._sqlite3_expanded_sql=function(){return(t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)},t._sqlite3_preupdate_old=function(){return(t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,arguments)},t._sqlite3_preupdate_count=function(){return(t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)},t._sqlite3_preupdate_depth=function(){return(t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)},t._sqlite3_preupdate_blobwrite=function(){return(t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},t._sqlite3_preupdate_new=function(){return(t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,arguments)},t._sqlite3_value_numeric_type=function(){return(t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)},t._sqlite3_set_authorizer=function(){return(t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)},t._sqlite3_strglob=function(){return(t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)},t._sqlite3_strlike=function(){return(t._sqlite3_strlike=t.asm.sqlite3_strlike).apply(null,arguments)},t._sqlite3_auto_extension=function(){return(t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)},t._sqlite3_cancel_auto_extension=function(){return(t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},t._sqlite3_reset_auto_extension=function(){return(t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,arguments)},t._sqlite3_prepare_v3=function(){return(t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)},t._sqlite3_create_module=function(){return(t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)},t._sqlite3_create_module_v2=function(){return(t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)},t._sqlite3_drop_modules=function(){return(t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)},t._sqlite3_declare_vtab=function(){return(t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)},t._sqlite3_vtab_on_conflict=function(){return(t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},t._sqlite3_vtab_collation=function(){return(t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)},t._sqlite3_vtab_in=function(){return(t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)},t._sqlite3_vtab_rhs_value=function(){return(t._sqlite3_vtab_rhs_value=t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},t._sqlite3_vtab_distinct=function(){return(t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)},t._sqlite3_keyword_name=function(){return(t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)},t._sqlite3_keyword_count=function(){return(t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)},t._sqlite3_keyword_check=function(){return(t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,arguments)},t._sqlite3_complete=function(){return(t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)},t._sqlite3_libversion=function(){return(t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)},t._sqlite3_libversion_number=function(){return(t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)},t._sqlite3_shutdown=function(){return(t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)},t._sqlite3_last_insert_rowid=function(){return(t._sqlite3_last_insert_rowid=t.asm.sqlite3_last_insert_rowid).apply(null,arguments)},t._sqlite3_set_last_insert_rowid=function(){return(t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},t._sqlite3_changes64=function(){return(t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)},t._sqlite3_changes=function(){return(t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)},t._sqlite3_total_changes64=function(){return(t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,arguments)},t._sqlite3_total_changes=function(){return(t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)},t._sqlite3_txn_state=function(){return(t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)},t._sqlite3_close_v2=function(){return(t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)},t._sqlite3_busy_handler=function(){return(t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)},t._sqlite3_progress_handler=function(){return(t._sqlite3_progress_handler=t.asm.sqlite3_progress_handler).apply(null,arguments)},t._sqlite3_busy_timeout=function(){return(t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)},t._sqlite3_create_function=function(){return(t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)},t._sqlite3_create_function_v2=function(){return(t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)},t._sqlite3_create_window_function=function(){return(t._sqlite3_create_window_function=t.asm.sqlite3_create_window_function).apply(null,arguments)},t._sqlite3_overload_function=function(){return(t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)},t._sqlite3_trace_v2=function(){return(t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)},t._sqlite3_commit_hook=function(){return(t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)},t._sqlite3_update_hook=function(){return(t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,arguments)},t._sqlite3_rollback_hook=function(){return(t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)},t._sqlite3_preupdate_hook=function(){return(t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)},t._sqlite3_error_offset=function(){return(t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)},t._sqlite3_errcode=function(){return(t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)},t._sqlite3_extended_errcode=function(){return(t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)},t._sqlite3_errstr=function(){return(t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)},t._sqlite3_limit=function(){return(t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)},t._sqlite3_open=function(){return(t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)},t._sqlite3_open_v2=function(){return(t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)},t._sqlite3_create_collation=function(){return(t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)},t._sqlite3_create_collation_v2=function(){return(t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)},t._sqlite3_collation_needed=function(){return(t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)},t._sqlite3_get_autocommit=function(){return(t._sqlite3_get_autocommit=t.asm.sqlite3_get_autocommit).apply(null,arguments)},t._sqlite3_table_column_metadata=function(){return(t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)},t._sqlite3_extended_result_codes=function(){return(t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)},t._sqlite3_uri_key=function(){return(t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)},t._sqlite3_uri_int64=function(){return(t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)},t._sqlite3_db_name=function(){return(t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)},t._sqlite3_db_filename=function(){return(t._sqlite3_db_filename=t.asm.sqlite3_db_filename).apply(null,arguments)},t._sqlite3_compileoption_used=function(){return(t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)},t._sqlite3_compileoption_get=function(){return(t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)},t._sqlite3session_diff=function(){return(t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)},t._sqlite3session_attach=function(){return(t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,arguments)},t._sqlite3session_create=function(){return(t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)},t._sqlite3session_delete=function(){return(t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)},t._sqlite3session_table_filter=function(){return(t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)},t._sqlite3session_changeset=function(){return(t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,arguments)},t._sqlite3session_changeset_strm=function(){return(t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)},t._sqlite3session_patchset_strm=function(){return(t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)},t._sqlite3session_patchset=function(){return(t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)},t._sqlite3session_enable=function(){return(t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,arguments)},t._sqlite3session_indirect=function(){return(t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)},t._sqlite3session_isempty=function(){return(t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)},t._sqlite3session_memory_used=function(){return(t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)},t._sqlite3session_object_config=function(){return(t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,arguments)},t._sqlite3session_changeset_size=function(){return(t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)},t._sqlite3changeset_start=function(){return(t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)},t._sqlite3changeset_start_v2=function(){return(t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)},t._sqlite3changeset_start_strm=function(){return(t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,arguments)},t._sqlite3changeset_start_v2_strm=function(){return(t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},t._sqlite3changeset_next=function(){return(t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)},t._sqlite3changeset_op=function(){return(t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)},t._sqlite3changeset_pk=function(){return(t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)},t._sqlite3changeset_old=function(){return(t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)},t._sqlite3changeset_new=function(){return(t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)},t._sqlite3changeset_conflict=function(){return(t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)},t._sqlite3changeset_fk_conflicts=function(){return(t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},t._sqlite3changeset_finalize=function(){return(t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)},t._sqlite3changeset_invert=function(){return(t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)},t._sqlite3changeset_invert_strm=function(){return(t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)},t._sqlite3changeset_apply_v2=function(){return(t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,arguments)},t._sqlite3changeset_apply=function(){return(t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)},t._sqlite3changeset_apply_v2_strm=function(){return(t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},t._sqlite3changeset_apply_strm=function(){return(t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)},t._sqlite3changegroup_new=function(){return(t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,arguments)},t._sqlite3changegroup_add=function(){return(t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)},t._sqlite3changegroup_output=function(){return(t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)},t._sqlite3changegroup_add_strm=function(){return(t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)},t._sqlite3changegroup_output_strm=function(){return(t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,arguments)},t._sqlite3changegroup_delete=function(){return(t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)},t._sqlite3changeset_concat=function(){return(t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)},t._sqlite3changeset_concat_strm=function(){return(t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)},t._sqlite3session_config=function(){return(t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,arguments)},t._sqlite3_sourceid=function(){return(t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)},t._sqlite3__wasm_pstack_ptr=function(){return(t._sqlite3__wasm_pstack_ptr=t.asm.sqlite3__wasm_pstack_ptr).apply(null,arguments)},t._sqlite3__wasm_pstack_restore=function(){return(t._sqlite3__wasm_pstack_restore=t.asm.sqlite3__wasm_pstack_restore).apply(null,arguments)},t._sqlite3__wasm_pstack_alloc=function(){return(t._sqlite3__wasm_pstack_alloc=t.asm.sqlite3__wasm_pstack_alloc).apply(null,arguments)},t._sqlite3__wasm_pstack_remaining=function(){return(t._sqlite3__wasm_pstack_remaining=t.asm.sqlite3__wasm_pstack_remaining).apply(null,arguments)},t._sqlite3__wasm_pstack_quota=function(){return(t._sqlite3__wasm_pstack_quota=t.asm.sqlite3__wasm_pstack_quota).apply(null,arguments)},t._sqlite3__wasm_db_error=function(){return(t._sqlite3__wasm_db_error=t.asm.sqlite3__wasm_db_error).apply(null,arguments)},t._sqlite3__wasm_test_struct=function(){return(t._sqlite3__wasm_test_struct=t.asm.sqlite3__wasm_test_struct).apply(null,arguments)},t._sqlite3__wasm_enum_json=function(){return(t._sqlite3__wasm_enum_json=t.asm.sqlite3__wasm_enum_json).apply(null,arguments)},t._sqlite3__wasm_vfs_unlink=function(){return(t._sqlite3__wasm_vfs_unlink=t.asm.sqlite3__wasm_vfs_unlink).apply(null,arguments)},t._sqlite3__wasm_db_vfs=function(){return(t._sqlite3__wasm_db_vfs=t.asm.sqlite3__wasm_db_vfs).apply(null,arguments)},t._sqlite3__wasm_db_reset=function(){return(t._sqlite3__wasm_db_reset=t.asm.sqlite3__wasm_db_reset).apply(null,arguments)},t._sqlite3__wasm_db_export_chunked=function(){return(t._sqlite3__wasm_db_export_chunked=t.asm.sqlite3__wasm_db_export_chunked).apply(null,arguments)},t._sqlite3__wasm_db_serialize=function(){return(t._sqlite3__wasm_db_serialize=t.asm.sqlite3__wasm_db_serialize).apply(null,arguments)},t._sqlite3__wasm_vfs_create_file=function(){return(t._sqlite3__wasm_vfs_create_file=t.asm.sqlite3__wasm_vfs_create_file).apply(null,arguments)},t._sqlite3__wasm_posix_create_file=function(){return(t._sqlite3__wasm_posix_create_file=t.asm.sqlite3__wasm_posix_create_file).apply(null,arguments)},t._sqlite3__wasm_kvvfsMakeKeyOnPstack=function(){return(t._sqlite3__wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3__wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},t._sqlite3__wasm_kvvfs_methods=function(){return(t._sqlite3__wasm_kvvfs_methods=t.asm.sqlite3__wasm_kvvfs_methods).apply(null,arguments)},t._sqlite3__wasm_vtab_config=function(){return(t._sqlite3__wasm_vtab_config=t.asm.sqlite3__wasm_vtab_config).apply(null,arguments)},t._sqlite3__wasm_db_config_ip=function(){return(t._sqlite3__wasm_db_config_ip=t.asm.sqlite3__wasm_db_config_ip).apply(null,arguments)},t._sqlite3__wasm_db_config_pii=function(){return(t._sqlite3__wasm_db_config_pii=t.asm.sqlite3__wasm_db_config_pii).apply(null,arguments)},t._sqlite3__wasm_db_config_s=function(){return(t._sqlite3__wasm_db_config_s=t.asm.sqlite3__wasm_db_config_s).apply(null,arguments)},t._sqlite3__wasm_config_i=function(){return(t._sqlite3__wasm_config_i=t.asm.sqlite3__wasm_config_i).apply(null,arguments)},t._sqlite3__wasm_config_ii=function(){return(t._sqlite3__wasm_config_ii=t.asm.sqlite3__wasm_config_ii).apply(null,arguments)},t._sqlite3__wasm_config_j=function(){return(t._sqlite3__wasm_config_j=t.asm.sqlite3__wasm_config_j).apply(null,arguments)},t._sqlite3__wasm_qfmt_token=function(){return(t._sqlite3__wasm_qfmt_token=t.asm.sqlite3__wasm_qfmt_token).apply(null,arguments)},t._sqlite3__wasm_init_wasmfs=function(){return(t._sqlite3__wasm_init_wasmfs=t.asm.sqlite3__wasm_init_wasmfs).apply(null,arguments)},t._sqlite3__wasm_test_intptr=function(){return(t._sqlite3__wasm_test_intptr=t.asm.sqlite3__wasm_test_intptr).apply(null,arguments)},t._sqlite3__wasm_test_voidptr=function(){return(t._sqlite3__wasm_test_voidptr=t.asm.sqlite3__wasm_test_voidptr).apply(null,arguments)},t._sqlite3__wasm_test_int64_max=function(){return(t._sqlite3__wasm_test_int64_max=t.asm.sqlite3__wasm_test_int64_max).apply(null,arguments)},t._sqlite3__wasm_test_int64_min=function(){return(t._sqlite3__wasm_test_int64_min=t.asm.sqlite3__wasm_test_int64_min).apply(null,arguments)},t._sqlite3__wasm_test_int64_times2=function(){return(t._sqlite3__wasm_test_int64_times2=t.asm.sqlite3__wasm_test_int64_times2).apply(null,arguments)},t._sqlite3__wasm_test_int64_minmax=function(){return(t._sqlite3__wasm_test_int64_minmax=t.asm.sqlite3__wasm_test_int64_minmax).apply(null,arguments)},t._sqlite3__wasm_test_int64ptr=function(){return(t._sqlite3__wasm_test_int64ptr=t.asm.sqlite3__wasm_test_int64ptr).apply(null,arguments)},t._sqlite3__wasm_test_stack_overflow=function(){return(t._sqlite3__wasm_test_stack_overflow=t.asm.sqlite3__wasm_test_stack_overflow).apply(null,arguments)},t._sqlite3__wasm_test_str_hello=function(){return(t._sqlite3__wasm_test_str_hello=t.asm.sqlite3__wasm_test_str_hello).apply(null,arguments)},t._sqlite3__wasm_SQLTester_strglob=function(){return(t._sqlite3__wasm_SQLTester_strglob=t.asm.sqlite3__wasm_SQLTester_strglob).apply(null,arguments)};var Rn=t._malloc=function(){return(Rn=t._malloc=t.asm.malloc).apply(null,arguments)};t._free=function(){return(t._free=t.asm.free).apply(null,arguments)},t._realloc=function(){return(t._realloc=t.asm.realloc).apply(null,arguments)};var St,Cn=t._emscripten_builtin_memalign=function(){return(Cn=t._emscripten_builtin_memalign=t.asm.emscripten_builtin_memalign).apply(null,arguments)};function Dn(r){function n(){St||(St=!0,t.calledRun=!0,hn||(t.noFSInit||_.init.initialized||_.init(),_.ignorePermissions=!1,Vt(Sn),e(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)o=t.postRun.shift(),xn.unshift(o);var o;Vt(xn)}()))}nt>0||(function(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)o=t.preRun.shift(),En.unshift(o);var o;Vt(En)}(),nt>0||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()))}if(t.stackSave=function(){return(t.stackSave=t.asm.stackSave).apply(null,arguments)},t.stackRestore=function(){return(t.stackRestore=t.asm.stackRestore).apply(null,arguments)},t.stackAlloc=function(){return(t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)},t.wasmMemory=tt,gt=function r(){St||Dn(),St||(gt=r)},t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Dn(),t.postRun||(t.postRun=[]),t.postRun.push(function(r){if(globalThis.sqlite3ApiBootstrap=function n(o=globalThis.sqlite3ApiConfig||n.defaultConfig){if(n.sqlite3)return(n.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),n.sqlite3;const i=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:!(r===void 0||!r.HEAPU64)||!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},o||{});Object.assign(i,{allocExportName:i.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:i.useStdAlloc?"free":"sqlite3_free",reallocExportName:i.useStdAlloc?"realloc":"sqlite3_realloc"},i),["exports","memory","wasmfsOpfsDir"].forEach(a=>{typeof i[a]=="function"&&(i[a]=i[a]())}),delete globalThis.sqlite3ApiConfig,delete n.defaultConfig;const l=Object.create(null),c=Object.create(null),E=a=>l.sqlite3_js_rc_str&&l.sqlite3_js_rc_str(a)||"Unknown result code #"+a;class q extends Error{constructor(...f){let m;if(f.length)if(typeof(w=f[0])=="number"&&w===(0|w))if(m=f[0],f.length===1)super(E(f[0]));else{const k=E(m);typeof f[1]=="object"?super(k,f[1]):(f[0]=k+":",super(f.join(" ")))}else f.length===2&&typeof f[1]=="object"?super(...f):super(f.join(" "));var w;this.resultCode=m||l.SQLITE_ERROR,this.name="SQLite3Error"}}q.toss=(...a)=>{throw new q(...a)};const L=q.toss;i.wasmfsOpfsDir&&!/^\/[^/]+$/.test(i.wasmfsOpfsDir)&&L("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Q=a=>typeof a!="bigint"&&a===(0|a)&&a<=2147483647&&a>=-2147483648,O=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,P=a=>a.buffer instanceof O,D=(a,f,m)=>P(a)?a.slice(f,m):a.subarray(f,m),U=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),G=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),T=a=>U(a)||L("Value is not of a supported TypedArray type."),A=new TextDecoder("utf-8"),z=function(a,f,m){return A.decode(D(a,f,m))},R=function(a){return G(a)?z(a instanceof ArrayBuffer?new Uint8Array(a):a):Array.isArray(a)?a.join(""):(c.isPtr(a)&&(a=c.cstrToJs(a)),a)};class B extends Error{constructor(...f){f.length===2&&typeof f[1]=="object"?super(...f):f.length?super(f.join(" ")):super("Allocation failed."),this.resultCode=l.SQLITE_NOMEM,this.name="WasmAllocError"}}B.toss=(...a)=>{throw new B(...a)},Object.assign(l,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(a,f,m,w,k,H,$,N,Z)=>{},sqlite3_create_function:(a,f,m,w,k,H,$,N)=>{},sqlite3_create_window_function:(a,f,m,w,k,H,$,N,Z,oe)=>{},sqlite3_prepare_v3:(a,f,m,w,k,H)=>{},sqlite3_prepare_v2:(a,f,m,w,k)=>{},sqlite3_exec:(a,f,m,w,k)=>{},sqlite3_randomness:(a,f)=>{}});const I={affirmBindableTypedArray:T,flexibleString:R,bigIntFits32:a=>a>=-2147483648n&&a<=0x7fffffffn,bigIntFits64:function a(f){return a._max||(a._max=BigInt("0x7fffffffffffffff"),a._min=~a._max),f>=a._min&&f<=a._max},bigIntFitsDouble:function a(f){return a._min||(a._min=Number.MIN_SAFE_INTEGER,a._max=Number.MAX_SAFE_INTEGER),f>=a._min&&f<=a._max},isBindableTypedArray:U,isInt32:Q,isSQLableTypedArray:G,isTypedArray:a=>!!(a&&a.constructor&&Q(a.constructor.BYTES_PER_ELEMENT))&&a,typedArrayToString:z,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:P,toss:function(...a){throw new Error(a.join(" "))},toss3:L,typedArrayPart:D,affirmDbHeader:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const f="SQLite format 3";15>a.byteLength&&L("Input does not contain an SQLite3 database header.");for(let m=0;m<15;++m)f.charCodeAt(m)!==a[m]&&L("Input does not contain an SQLite3 database header.")},affirmIsDb:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const f=a.byteLength;(f<512||f%512!=0)&&L("Byte array size",f,"is invalid for an SQLite3 db."),I.affirmDbHeader(a)}};Object.assign(c,{ptrSizeof:i.wasmPtrSizeof||4,ptrIR:i.wasmPtrIR||"i32",bigIntEnabled:!!i.bigIntEnabled,exports:i.exports||L("Missing API config.exports (WASM module exports)."),memory:i.memory||i.exports.memory||L("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),c.allocFromTypedArray=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a)),T(a);const f=c.alloc(a.byteLength||1);return c.heapForSize(a.constructor).set(a.byteLength?a:[0],f),f};{const a=i.allocExportName,f=i.deallocExportName,m=i.reallocExportName;for(const w of[a,f,m])c.exports[w]instanceof Function||L("Missing required exports[",w,"] function.");c.alloc=function w(k){return w.impl(k)||B.toss("Failed to allocate",k," bytes.")},c.alloc.impl=c.exports[a],c.realloc=function w(k,H){const $=w.impl(k,H);return H?$||B.toss("Failed to reallocate",H," bytes."):0},c.realloc.impl=c.exports[m],c.dealloc=c.exports[f]}let V;if(c.compileOptionUsed=function a(f){if(!arguments.length){if(a._result)return a._result;a._opt||(a._rx=/^([^=]+)=(.+)/,a._rxInt=/^-?\d+$/,a._opt=function($,N){const Z=a._rx.exec($);N[0]=Z?Z[1]:$,N[1]=!Z||(a._rxInt.test(Z[2])?+Z[2]:Z[2])});const m={},w=[0,0];let k,H=0;for(;k=l.sqlite3_compileoption_get(H++);)a._opt(k,w),m[w[0]]=w[1];return a._result=m}if(Array.isArray(f)){const m={};return f.forEach(w=>{m[w]=l.sqlite3_compileoption_used(w)}),m}return typeof f=="object"?(Object.keys(f).forEach(m=>{f[m]=l.sqlite3_compileoption_used(m)}),f):typeof f=="string"&&!!l.sqlite3_compileoption_used(f)},c.pstack=Object.assign(Object.create(null),{restore:c.exports.sqlite3__wasm_pstack_restore,alloc:function(a){return typeof a!="string"||(a=c.sizeofIR(a))||B.toss("Invalid value for pstack.alloc(",arguments[0],")"),c.exports.sqlite3__wasm_pstack_alloc(a)||B.toss("Could not allocate",a,"bytes from the pstack.")},allocChunks:function(a,f){typeof f!="string"||(f=c.sizeofIR(f))||B.toss("Invalid size value for allocChunks(",arguments[1],")");const m=c.pstack.alloc(a*f),w=[];let k=0,H=0;for(;k<a;++k,H+=f)w.push(m+H);return w},allocPtr:(a=1,f=!0)=>a===1?c.pstack.alloc(f?8:c.ptrSizeof):c.pstack.allocChunks(a,f?8:c.ptrSizeof),call:function(a){const f=c.pstack.pointer;try{return a(h)}finally{c.pstack.restore(f)}}}),Object.defineProperties(c.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:c.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:c.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:c.exports.sqlite3__wasm_pstack_remaining}}),l.sqlite3_randomness=(...a)=>{if(a.length===1&&I.isTypedArray(a[0])&&a[0].BYTES_PER_ELEMENT===1){const f=a[0];if(f.byteLength===0)return c.exports.sqlite3_randomness(0,0),f;const m=c.pstack.pointer;try{let w=f.byteLength,k=0;const H=c.exports.sqlite3_randomness,$=c.heap8u(),N=w<512?w:512,Z=c.pstack.alloc(N);do{const oe=w>N?N:w;H(oe,Z),f.set(D($,Z,Z+oe),k),w-=oe,k+=oe}while(w>0)}catch(w){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",w)}finally{c.pstack.restore(m)}return f}c.exports.sqlite3_randomness(...a)},l.sqlite3_wasmfs_opfs_dir=function(){if(V!==void 0)return V;const a=i.wasmfsOpfsDir;if(!(a&&globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle))return V="";try{return V=a&&c.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],a)===0?a:""}catch{return V=""}},l.sqlite3_wasmfs_filename_is_persistent=function(a){const f=l.sqlite3_wasmfs_opfs_dir();return!(!f||!a)&&a.startsWith(f+"/")},l.sqlite3_js_db_uses_vfs=function(a,f,m=0){try{const w=l.sqlite3_vfs_find(f);return!!w&&(a?w===l.sqlite3_js_db_vfs(a,m)&&w:w===l.sqlite3_vfs_find(0)&&w)}catch{return!1}},l.sqlite3_js_vfs_list=function(){const a=[];let f=l.sqlite3_vfs_find(0);for(;f;){const m=new l.sqlite3_vfs(f);a.push(c.cstrToJs(m.$zName)),f=m.$pNext,m.dispose()}return a},l.sqlite3_js_db_export=function(a,f=0){(a=c.xWrap.testConvertArg("sqlite3*",a))||L("Invalid sqlite3* argument."),c.bigIntEnabled||L("BigInt64 support is not enabled.");const m=c.scopedAllocPush();let w;try{const k=c.scopedAlloc(8+c.ptrSizeof),H=k+8,$=f?c.isPtr(f)?f:c.scopedAllocCString(""+f):0;let N=c.exports.sqlite3__wasm_db_serialize(a,$,H,k,0);N&&L("Database serialization failed with code",h.capi.sqlite3_js_rc_str(N)),w=c.peekPtr(H);const Z=c.peek(k,"i64");return N=Z?c.heap8u().slice(w,w+Number(Z)):new Uint8Array,N}finally{w&&c.exports.sqlite3_free(w),c.scopedAllocPop(m)}},l.sqlite3_js_db_vfs=(a,f=0)=>I.sqlite3__wasm_db_vfs(a,f),l.sqlite3_js_aggregate_context=(a,f)=>l.sqlite3_aggregate_context(a,f)||(f?B.toss("Cannot allocate",f,"bytes for sqlite3_aggregate_context()"):0),l.sqlite3_js_posix_create_file=function(a,f,m){let w;f&&c.isPtr(f)?w=f:f instanceof ArrayBuffer||f instanceof Uint8Array?(w=c.allocFromTypedArray(f),(arguments.length<3||!I.isInt32(m)||m<0)&&(m=f.byteLength)):q.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!I.isInt32(m)||m<0)&&q.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const k=I.sqlite3__wasm_posix_create_file(a,w,m);k&&q.toss("Creation of file failed with sqlite3 result code",l.sqlite3_js_rc_str(k))}finally{c.dealloc(w)}},l.sqlite3_js_vfs_create_file=function(a,f,m,w){let k;i.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options."),m?(c.isPtr(m)?k=m:m instanceof ArrayBuffer&&(m=new Uint8Array(m)),m instanceof Uint8Array?(k=c.allocFromTypedArray(m),(arguments.length<4||!I.isInt32(w)||w<0)&&(w=m.byteLength)):q.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):k=0,(!I.isInt32(w)||w<0)&&(c.dealloc(k),q.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const H=I.sqlite3__wasm_vfs_create_file(a,f,k,w);H&&q.toss("Creation of file failed with sqlite3 result code",l.sqlite3_js_rc_str(H))}finally{c.dealloc(k)}},l.sqlite3_js_sql_to_string=a=>{if(typeof a=="string")return a;const f=R(v);return f===v?void 0:f},I.isUIThread()){const a=function(f){const m=Object.create(null);return m.prefix="kvvfs-"+f,m.stores=[],f!=="session"&&f!==""||m.stores.push(globalThis.sessionStorage),f!=="local"&&f!==""||m.stores.push(globalThis.localStorage),m};l.sqlite3_js_kvvfs_clear=function(f=""){let m=0;const w=a(f);return w.stores.forEach(k=>{const H=[];let $;for($=0;$<k.length;++$){const N=k.key($);N.startsWith(w.prefix)&&H.push(N)}H.forEach(N=>k.removeItem(N)),m+=H.length}),m},l.sqlite3_js_kvvfs_size=function(f=""){let m=0;const w=a(f);return w.stores.forEach(k=>{let H;for(H=0;H<k.length;++H){const $=k.key(H);$.startsWith(w.prefix)&&(m+=$.length,m+=k.getItem($).length)}}),2*m}}l.sqlite3_db_config=(function(a,f,...m){switch(this.s||(this.s=c.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=c.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=c.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),f){case l.SQLITE_DBCONFIG_ENABLE_FKEY:case l.SQLITE_DBCONFIG_ENABLE_TRIGGER:case l.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case l.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case l.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case l.SQLITE_DBCONFIG_ENABLE_QPSG:case l.SQLITE_DBCONFIG_TRIGGER_EQP:case l.SQLITE_DBCONFIG_RESET_DATABASE:case l.SQLITE_DBCONFIG_DEFENSIVE:case l.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case l.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case l.SQLITE_DBCONFIG_DQS_DML:case l.SQLITE_DBCONFIG_DQS_DDL:case l.SQLITE_DBCONFIG_ENABLE_VIEW:case l.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case l.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case l.SQLITE_DBCONFIG_STMT_SCANSTATUS:case l.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(a,f,m[0],m[1]||0);case l.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(a,f,m[0],m[1],m[2]);case l.SQLITE_DBCONFIG_MAINDBNAME:return this.s(a,f,m[0]);default:return l.SQLITE_MISUSE}}).bind(Object.create(null)),l.sqlite3_value_to_js=function(a,f=!0){let m;const w=l.sqlite3_value_type(a);switch(w){case l.SQLITE_INTEGER:c.bigIntEnabled?(m=l.sqlite3_value_int64(a),I.bigIntFitsDouble(m)&&(m=Number(m))):m=l.sqlite3_value_double(a);break;case l.SQLITE_FLOAT:m=l.sqlite3_value_double(a);break;case l.SQLITE_TEXT:m=l.sqlite3_value_text(a);break;case l.SQLITE_BLOB:{const k=l.sqlite3_value_bytes(a),H=l.sqlite3_value_blob(a);k&&!H&&h.WasmAllocError.toss("Cannot allocate memory for blob argument of",k,"byte(s)"),m=k?c.heap8u().slice(H,H+Number(k)):null;break}case l.SQLITE_NULL:m=null;break;default:f&&L(l.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",w),m=void 0}return m},l.sqlite3_values_to_js=function(a,f,m=!0){let w;const k=[];for(w=0;w<a;++w)k.push(l.sqlite3_value_to_js(c.peekPtr(f+c.ptrSizeof*w),m));return k},l.sqlite3_result_error_js=function(a,f){f instanceof B?l.sqlite3_result_error_nomem(a):l.sqlite3_result_error(a,""+f,-1)},l.sqlite3_result_js=function(a,f){if(f instanceof Error)l.sqlite3_result_error_js(a,f);else try{switch(typeof f){case"undefined":break;case"boolean":l.sqlite3_result_int(a,f?1:0);break;case"bigint":I.bigIntFits32(f)?l.sqlite3_result_int(a,Number(f)):I.bigIntFitsDouble(f)?l.sqlite3_result_double(a,Number(f)):c.bigIntEnabled?I.bigIntFits64(f)?l.sqlite3_result_int64(a,f):L("BigInt value",f.toString(),"is too BigInt for int64."):L("BigInt value",f.toString(),"is too BigInt.");break;case"number":{let m;m=I.isInt32(f)?l.sqlite3_result_int:c.bigIntEnabled&&Number.isInteger(f)&&I.bigIntFits64(BigInt(f))?l.sqlite3_result_int64:l.sqlite3_result_double,m(a,f);break}case"string":{const[m,w]=c.allocCString(f,!0);l.sqlite3_result_text(a,m,w,l.SQLITE_WASM_DEALLOC);break}case"object":if(f===null){l.sqlite3_result_null(a);break}if(I.isBindableTypedArray(f)){const m=c.allocFromTypedArray(f);l.sqlite3_result_blob(a,m,f.byteLength,l.SQLITE_WASM_DEALLOC);break}default:L("Don't not how to handle this UDF result value:",typeof f,f)}}catch(m){l.sqlite3_result_error_js(a,m)}},l.sqlite3_column_js=function(a,f,m=!0){const w=l.sqlite3_column_value(a,f);return w===0?void 0:l.sqlite3_value_to_js(w,m)};const d=(function(a,f,m){m=l[m],this.ptr?c.pokePtr(this.ptr,0):this.ptr=c.allocPtr();const w=m(a,f,this.ptr);if(w)return q.toss(w,arguments[2]+"() failed with code "+w);const k=c.peekPtr(this.ptr);return k?l.sqlite3_value_to_js(k,!0):void 0}).bind(Object.create(null));l.sqlite3_preupdate_new_js=(a,f)=>d(a,f,"sqlite3_preupdate_new"),l.sqlite3_preupdate_old_js=(a,f)=>d(a,f,"sqlite3_preupdate_old"),l.sqlite3changeset_new_js=(a,f)=>d(a,f,"sqlite3changeset_new"),l.sqlite3changeset_old_js=(a,f)=>d(a,f,"sqlite3changeset_old");const h={WasmAllocError:B,SQLite3Error:q,capi:l,util:I,wasm:c,config:i,version:Object.create(null),client:void 0,asyncPostInit:async function a(){if(a.isReady instanceof Promise)return a.isReady;let f=n.initializersAsync;delete n.initializersAsync;const m=async()=>(h.__isUnderTest||(delete h.util,delete h.StructBinder),h),w=H=>{throw i.error("an async sqlite3 initializer failed:",H),H};if(!f||!f.length)return a.isReady=m().catch(w);f=f.map(H=>H instanceof Function?async $=>H(h):H),f.push(m);let k=Promise.resolve(h);for(;f.length;)k=k.then(f.shift());return a.isReady=k.catch(w)},scriptInfo:void 0};try{n.initializers.forEach(a=>{a(h)})}catch(a){throw console.error("sqlite3 bootstrap initializer threw:",a),a}return delete n.initializers,n.sqlite3=h,h},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(n){n.bigIntEnabled===void 0&&(n.bigIntEnabled=!!globalThis.BigInt64Array);const o=(...d)=>{throw new Error(d.join(" "))};n.exports||Object.defineProperty(n,"exports",{enumerable:!0,configurable:!0,get:()=>n.instance&&n.instance.exports});const i=n.pointerIR||"i32",l=n.ptrSizeof=i==="i32"?4:i==="i64"?8:o("Unhandled ptrSizeof:",i),c=Object.create(null);c.heapSize=0,c.memory=null,c.freeFuncIndexes=[],c.scopedAlloc=[],c.utf8Decoder=new TextDecoder,c.utf8Encoder=new TextEncoder("utf-8"),n.sizeofIR=d=>{switch(d){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return l;default:return(""+d).endsWith("*")?l:void 0}};const E=function(){if(c.memory){if(c.heapSize===c.memory.buffer.byteLength)return c}else c.memory=n.memory instanceof WebAssembly.Memory?n.memory:n.exports.memory;const d=c.memory.buffer;return c.HEAP8=new Int8Array(d),c.HEAP8U=new Uint8Array(d),c.HEAP16=new Int16Array(d),c.HEAP16U=new Uint16Array(d),c.HEAP32=new Int32Array(d),c.HEAP32U=new Uint32Array(d),n.bigIntEnabled&&(c.HEAP64=new BigInt64Array(d),c.HEAP64U=new BigUint64Array(d)),c.HEAP32F=new Float32Array(d),c.HEAP64F=new Float64Array(d),c.heapSize=d.byteLength,c};n.heap8=()=>E().HEAP8,n.heap8u=()=>E().HEAP8U,n.heap16=()=>E().HEAP16,n.heap16u=()=>E().HEAP16U,n.heap32=()=>E().HEAP32,n.heap32u=()=>E().HEAP32U,n.heapForSize=function(d,h=!0){const a=c.memory&&c.heapSize===c.memory.buffer.byteLength?c:E();switch(d){case Int8Array:return a.HEAP8;case Uint8Array:return a.HEAP8U;case Int16Array:return a.HEAP16;case Uint16Array:return a.HEAP16U;case Int32Array:return a.HEAP32;case Uint32Array:return a.HEAP32U;case 8:return h?a.HEAP8U:a.HEAP8;case 16:return h?a.HEAP16U:a.HEAP16;case 32:return h?a.HEAP32U:a.HEAP32;case 64:if(a.HEAP64)return h?a.HEAP64U:a.HEAP64;break;default:if(n.bigIntEnabled){if(d===globalThis.BigUint64Array)return a.HEAP64U;if(d===globalThis.BigInt64Array)return a.HEAP64;break}}o("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},n.functionTable=function(){return n.exports.__indirect_function_table},n.functionEntry=function(d){const h=n.functionTable();return d<h.length?h.get(d):void 0},n.jsFuncToWasm=function d(h,a){if(d._||(d._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(w,k,H){H<128?w[k](H):w[k](H%128|128,H>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(w){const k=d._.rxJSig.exec(w);return k?k[2]:w.substr(1)},letterType:w=>d._.sigTypes[w]||o("Invalid signature letter:",w),pushSigType:(w,k)=>w.push(d._.typeCodes[d._.letterType(k)])}),typeof h=="string"){const w=a;a=h,h=w}const f=d._.sigParams(a),m=[1,96];d._.uleb128Encode(m,"push",f.length);for(const w of f)d._.pushSigType(m,w);return a[0]==="v"?m.push(0):(m.push(1),d._.pushSigType(m,a[0])),d._.uleb128Encode(m,"unshift",m.length),m.unshift(0,97,115,109,1,0,0,0,1),m.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(m)),{e:{f:h}}).exports.f};const q=function(d,h,a){if(a&&!c.scopedAlloc.length&&o("No scopedAllocPush() scope is active."),typeof d=="string"){const k=h;h=d,d=k}typeof h=="string"&&d instanceof Function||o("Invalid arguments: expecting (function,signature) or (signature,function).");const f=n.functionTable(),m=f.length;let w;for(;c.freeFuncIndexes.length&&(w=c.freeFuncIndexes.pop(),f.get(w));)w=null;w||(w=m,f.grow(1));try{return f.set(w,d),a&&c.scopedAlloc[c.scopedAlloc.length-1].push(w),w}catch(k){if(!(k instanceof TypeError))throw w===m&&c.freeFuncIndexes.push(m),k}try{const k=n.jsFuncToWasm(d,h);f.set(w,k),a&&c.scopedAlloc[c.scopedAlloc.length-1].push(w)}catch(k){throw w===m&&c.freeFuncIndexes.push(m),k}return w};n.installFunction=(d,h)=>q(d,h,!1),n.scopedInstallFunction=(d,h)=>q(d,h,!0),n.uninstallFunction=function(d){if(!d&&d!==0)return;const h=c.freeFuncIndexes,a=n.functionTable();h.push(d);const f=a.get(d);return a.set(d,null),f},n.peek=function(d,h="i8"){h.endsWith("*")&&(h=i);const a=c.memory&&c.heapSize===c.memory.buffer.byteLength?c:E(),f=Array.isArray(d)?[]:void 0;let m;do{switch(f&&(d=arguments[0].shift()),h){case"i1":case"i8":m=a.HEAP8[0|d];break;case"i16":m=a.HEAP16[d>>1];break;case"i32":m=a.HEAP32[d>>2];break;case"float":case"f32":m=a.HEAP32F[d>>2];break;case"double":case"f64":m=Number(a.HEAP64F[d>>3]);break;case"i64":if(n.bigIntEnabled){m=BigInt(a.HEAP64[d>>3]);break}default:o("Invalid type for peek():",h)}f&&f.push(m)}while(f&&arguments[0].length);return f||m},n.poke=function(d,h,a="i8"){a.endsWith("*")&&(a=i);const f=c.memory&&c.heapSize===c.memory.buffer.byteLength?c:E();for(const m of Array.isArray(d)?d:[d])switch(a){case"i1":case"i8":f.HEAP8[0|m]=h;continue;case"i16":f.HEAP16[m>>1]=h;continue;case"i32":f.HEAP32[m>>2]=h;continue;case"float":case"f32":f.HEAP32F[m>>2]=h;continue;case"double":case"f64":f.HEAP64F[m>>3]=h;continue;case"i64":if(f.HEAP64){f.HEAP64[m>>3]=BigInt(h);continue}default:o("Invalid type for poke(): "+a)}return this},n.peekPtr=(...d)=>n.peek(d.length===1?d[0]:d,i),n.pokePtr=(d,h=0)=>n.poke(d,h,i),n.peek8=(...d)=>n.peek(d.length===1?d[0]:d,"i8"),n.poke8=(d,h)=>n.poke(d,h,"i8"),n.peek16=(...d)=>n.peek(d.length===1?d[0]:d,"i16"),n.poke16=(d,h)=>n.poke(d,h,"i16"),n.peek32=(...d)=>n.peek(d.length===1?d[0]:d,"i32"),n.poke32=(d,h)=>n.poke(d,h,"i32"),n.peek64=(...d)=>n.peek(d.length===1?d[0]:d,"i64"),n.poke64=(d,h)=>n.poke(d,h,"i64"),n.peek32f=(...d)=>n.peek(d.length===1?d[0]:d,"f32"),n.poke32f=(d,h)=>n.poke(d,h,"f32"),n.peek64f=(...d)=>n.peek(d.length===1?d[0]:d,"f64"),n.poke64f=(d,h)=>n.poke(d,h,"f64"),n.getMemValue=n.peek,n.getPtrValue=n.peekPtr,n.setMemValue=n.poke,n.setPtrValue=n.pokePtr,n.isPtr32=d=>typeof d=="number"&&d===(0|d)&&d>=0,n.isPtr=n.isPtr32,n.cstrlen=function(d){if(!d||!n.isPtr(d))return null;const h=E().HEAP8U;let a=d;for(;h[a]!==0;++a);return a-d};const L=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer;n.cstrToJs=function(d){const h=n.cstrlen(d);return h?(a=E().HEAP8U,f=d,m=d+h,c.utf8Decoder.decode(a.buffer instanceof L?a.slice(f,m):a.subarray(f,m))):h===null?h:"";var a,f,m},n.jstrlen=function(d){if(typeof d!="string")return null;const h=d.length;let a=0;for(let f=0;f<h;++f){let m=d.charCodeAt(f);m>=55296&&m<=57343&&(m=65536+((1023&m)<<10)|1023&d.charCodeAt(++f)),m<=127?++a:a+=m<=2047?2:m<=65535?3:4}return a},n.jstrcpy=function(d,h,a=0,f=-1,m=!0){if(h&&(h instanceof Int8Array||h instanceof Uint8Array)||o("jstrcpy() target must be an Int8Array or Uint8Array."),f<0&&(f=h.length-a),!(f>0&&a>=0))return 0;let w=0,k=d.length;const H=a,$=a+f-(m?1:0);for(;w<k&&a<$;++w){let N=d.charCodeAt(w);if(N>=55296&&N<=57343&&(N=65536+((1023&N)<<10)|1023&d.charCodeAt(++w)),N<=127){if(a>=$)break;h[a++]=N}else if(N<=2047){if(a+1>=$)break;h[a++]=192|N>>6,h[a++]=128|63&N}else if(N<=65535){if(a+2>=$)break;h[a++]=224|N>>12,h[a++]=128|N>>6&63,h[a++]=128|63&N}else{if(a+3>=$)break;h[a++]=240|N>>18,h[a++]=128|N>>12&63,h[a++]=128|N>>6&63,h[a++]=128|63&N}}return m&&(h[a++]=0),a-H},n.cstrncpy=function(d,h,a){if(d&&h||o("cstrncpy() does not accept NULL strings."),a<0)a=n.cstrlen(strPtr)+1;else if(!(a>0))return 0;const f=n.heap8u();let m,w=0;for(;w<a&&(m=f[h+w]);++w)f[d+w]=m;return w<a&&(f[d+w++]=0),w},n.jstrToUintArray=(d,h=!1)=>c.utf8Encoder.encode(h?d+"\0":d);const Q=(d,h)=>{d.alloc instanceof Function&&d.dealloc instanceof Function||o("Object is missing alloc() and/or dealloc() function(s)","required by",h+"().")},O=function(d,h,a,f){if(Q(n,f),typeof d!="string")return null;{const m=c.utf8Encoder.encode(d),w=a(m.length+1),k=E().HEAP8U;return k.set(m,w),k[w+m.length]=0,h?[w,m.length]:w}};n.allocCString=(d,h=!1)=>O(d,h,n.alloc,"allocCString()"),n.scopedAllocPush=function(){Q(n,"scopedAllocPush");const d=[];return c.scopedAlloc.push(d),d},n.scopedAllocPop=function(d){Q(n,"scopedAllocPop");const h=arguments.length?c.scopedAlloc.indexOf(d):c.scopedAlloc.length-1;h<0&&o("Invalid state object for scopedAllocPop()."),arguments.length===0&&(d=c.scopedAlloc[h]),c.scopedAlloc.splice(h,1);for(let a;a=d.pop();)n.functionEntry(a)?n.uninstallFunction(a):n.dealloc(a)},n.scopedAlloc=function(d){c.scopedAlloc.length||o("No scopedAllocPush() scope is active.");const h=n.alloc(d);return c.scopedAlloc[c.scopedAlloc.length-1].push(h),h},Object.defineProperty(n.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>c.scopedAlloc.length,set:()=>o("The 'active' property is read-only.")}),n.scopedAllocCString=(d,h=!1)=>O(d,h,n.scopedAlloc,"scopedAllocCString()");const P=function(d,h){const a=n[d?"scopedAlloc":"alloc"]((h.length+1)*n.ptrSizeof);let f=0;return h.forEach(m=>{n.pokePtr(a+n.ptrSizeof*f++,n[d?"scopedAllocCString":"allocCString"](""+m))}),n.pokePtr(a+n.ptrSizeof*f,0),a};n.scopedAllocMainArgv=d=>P(!0,d),n.allocMainArgv=d=>P(!1,d),n.cArgvToJs=(d,h)=>{const a=[];for(let f=0;f<d;++f){const m=n.peekPtr(h+n.ptrSizeof*f);a.push(m?n.cstrToJs(m):null)}return a},n.scopedAllocCall=function(d){n.scopedAllocPush();try{return d()}finally{n.scopedAllocPop()}};const D=function(d,h,a){Q(n,a);const f=h?"i64":i;let m=n[a](d*(h?8:l));if(n.poke(m,0,f),d===1)return m;const w=[m];for(let k=1;k<d;++k)m+=h?8:l,w[k]=m,n.poke(m,0,f);return w};n.allocPtr=(d=1,h=!0)=>D(d,h,"alloc"),n.scopedAllocPtr=(d=1,h=!0)=>D(d,h,"scopedAlloc"),n.xGet=function(d){return n.exports[d]||o("Cannot find exported symbol:",d)};const U=(d,h)=>o(d+"() requires",h,"argument(s).");n.xCall=function(d,...h){const a=d instanceof Function?d:n.xGet(d);return a instanceof Function||o("Exported symbol",d,"is not a function."),a.length!==h.length&&U(a===d?a.name:d,a.length),arguments.length===2&&Array.isArray(arguments[1])?a.apply(null,arguments[1]):a.apply(null,h)},c.xWrap=Object.create(null),c.xWrap.convert=Object.create(null),c.xWrap.convert.arg=new Map,c.xWrap.convert.result=new Map;const G=c.xWrap.convert.arg,T=c.xWrap.convert.result;n.bigIntEnabled&&G.set("i64",d=>BigInt(d));const A=i==="i32"?d=>0|d:d=>BigInt(d)|BigInt(0);G.set("i32",A).set("i16",d=>65535&d).set("i8",d=>255&d).set("f32",d=>Number(d).valueOf()).set("float",G.get("f32")).set("f64",G.get("f32")).set("double",G.get("f64")).set("int",G.get("i32")).set("null",d=>d).set(null,G.get("null")).set("**",A).set("*",A),T.set("*",A).set("pointer",A).set("number",d=>Number(d)).set("void",d=>{}).set("null",d=>d).set(null,T.get("null"));{const d=["i8","i16","i32","int","f32","float","f64","double"];n.bigIntEnabled&&d.push("i64");const h=G.get(i);for(const a of d)G.set(a+"*",h),T.set(a+"*",h),T.set(a,G.get(a)||o("Missing arg converter:",a))}const z=function(d){return typeof d=="string"?n.scopedAllocCString(d):d?A(d):null};G.set("string",z).set("utf8",z).set("pointer",z),T.set("string",d=>n.cstrToJs(d)).set("utf8",T.get("string")).set("string:dealloc",d=>{try{return d?n.cstrToJs(d):null}finally{n.dealloc(d)}}).set("utf8:dealloc",T.get("string:dealloc")).set("json",d=>JSON.parse(n.cstrToJs(d))).set("json:dealloc",d=>{try{return d?JSON.parse(n.cstrToJs(d)):null}finally{n.dealloc(d)}});const R=class{constructor(d){this.name=d.name||"unnamed adapter"}convertArg(d,h,a){o("AbstractArgAdapter must be subclassed.")}};G.FuncPtrAdapter=class Ve extends R{constructor(h){super(h),G.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",h),this.name=h.name||"unnamed",this.signature=h.signature,h.contextKey instanceof Function&&(this.contextKey=h.contextKey,h.bindScope||(h.bindScope="context")),this.bindScope=h.bindScope||o("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ve.bindScopes.indexOf(h.bindScope)<0&&o("Invalid options.bindScope ("+h.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ve.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=h.callProxy instanceof Function?h.callProxy:void 0}contextKey(h,a){return this}contextMap(h){const a=this.__cmap||(this.__cmap=new Map);let f=a.get(h);return f===void 0&&a.set(h,f=[]),f}convertArg(h,a,f){let m=this.singleton;if(!m&&this.isContext&&(m=this.contextMap(this.contextKey(a,f))),m&&m[0]===h)return m[1];if(h instanceof Function){this.callProxy&&(h=this.callProxy(h));const w=q(h,this.signature,this.isTransient);if(Ve.debugFuncInstall&&Ve.debugOut("FuncPtrAdapter installed",this,this.contextKey(a,f),"@"+w,h),m){if(m[1]){Ve.debugFuncInstall&&Ve.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(a,f),"@"+m[1],h);try{c.scopedAlloc[c.scopedAlloc.length-1].push(m[1])}catch{}}m[0]=h,m[1]=w}return w}if(n.isPtr(h)||h==null){if(m&&m[1]&&m[1]!==h){Ve.debugFuncInstall&&Ve.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(a,f),"@"+m[1],h);try{c.scopedAlloc[c.scopedAlloc.length-1].push(m[1])}catch{}m[0]=m[1]=0|h}return h||0}throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},G.FuncPtrAdapter.warnOnUse=!1,G.FuncPtrAdapter.debugFuncInstall=!1,G.FuncPtrAdapter.debugOut=console.debug.bind(console),G.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const B=d=>G.get(d)||o("Argument adapter not found:",d),I=d=>T.get(d)||o("Result adapter not found:",d);c.xWrap.convertArg=(d,...h)=>B(d)(...h),c.xWrap.convertArgNoCheck=(d,...h)=>G.get(d)(...h),c.xWrap.convertResult=(d,h)=>d===null?h:d?I(d)(h):void 0,c.xWrap.convertResultNoCheck=(d,h)=>d===null?h:d?T.get(d)(h):void 0,n.xWrap=function(d,h,...a){arguments.length===3&&Array.isArray(arguments[2])&&(a=arguments[2]),n.isPtr(d)&&(d=n.functionEntry(d)||o("Function pointer not found in WASM function table."));const f=d instanceof Function,m=f?d:n.xGet(d);if(f&&(d=m.name||"unnamed function"),a.length!==m.length&&U(d,m.length),h===null&&m.length===0)return m;h!=null&&I(h);for(const k of a)k instanceof R?G.set(k,(...H)=>k.convertArg(...H)):B(k);const w=c.xWrap;return m.length===0?(...k)=>k.length?U(d,m.length):w.convertResult(h,m.call(null)):function(...k){k.length!==m.length&&U(d,m.length);const H=n.scopedAllocPush();try{let $=0;for(;$<k.length;++$)k[$]=w.convertArgNoCheck(a[$],k[$],k,$);return w.convertResultNoCheck(h,m.apply(null,k))}finally{n.scopedAllocPop(H)}}};const V=function(d,h,a,f,m,w){if(typeof a=="string"){if(h===1)return w.get(a);if(h===2)return f?(f instanceof Function||o(m,"requires a function argument."),w.set(a,f),d):(w.get(a),d)}o("Invalid arguments to",m)};return n.xWrap.resultAdapter=function d(h,a){return V(d,arguments.length,h,a,"resultAdapter()",T)},n.xWrap.argAdapter=function d(h,a){return V(d,arguments.length,h,a,"argAdapter()",G)},n.xWrap.FuncPtrAdapter=G.FuncPtrAdapter,n.xCallWrapped=function(d,h,a,...f){return Array.isArray(arguments[3])&&(f=arguments[3]),n.xWrap(d,h,a||[]).apply(null,f||[])},n.xWrap.testConvertArg=c.xWrap.convertArg,n.xWrap.testConvertResult=c.xWrap.convertResult,n},globalThis.WhWasmUtilInstaller.yawl=(function(n){const o=()=>fetch(n.uri,{credentials:"same-origin"}),i=this,l=function(c){if(n.wasmUtilTarget){const E=(...L)=>{throw new Error(L.join(" "))},q=n.wasmUtilTarget;if(q.module=c.module,q.instance=c.instance,q.instance.exports.memory||(q.memory=n.imports&&n.imports.env&&n.imports.env.memory||E("Missing 'memory' object!")),!q.alloc&&c.instance.exports.malloc){const L=c.instance.exports;q.alloc=function(Q){return L.malloc(Q)||E("Allocation of",Q,"bytes failed.")},q.dealloc=function(Q){L.free(Q)}}i(q)}return n.onload&&n.onload(c,n),c};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(o(),n.imports||{}).then(l)}:function(){return o().then(c=>c.arrayBuffer()).then(c=>WebAssembly.instantiate(c,n.imports||{})).then(l)}}).bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function n(o){const i=(...S)=>{throw new Error(S.join(" "))};o.heap instanceof WebAssembly.Memory||o.heap instanceof Function||i("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(S){o[S]instanceof Function||i("Config option '"+S+"' must be a function.")});const l=n,c=o.heap instanceof Function?o.heap:()=>new Uint8Array(o.heap.buffer),E=o.alloc,q=o.dealloc,L=o.log||console.log.bind(console),Q=o.memberPrefix||"",O=o.memberSuffix||"",P=o.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!o.bigIntEnabled,D=globalThis.BigInt,U=globalThis.BigInt64Array,G=o.ptrSizeof||4,T=o.ptrIR||"i32";l.debugFlags||(l.__makeDebugFlags=function(S=null){S&&S.__flags&&(S=S.__flags);const x=function b(y){return arguments.length===0?b.__flags:(y<0?(delete b.__flags.getter,delete b.__flags.setter,delete b.__flags.alloc,delete b.__flags.dealloc):(b.__flags.getter=!!(1&y),b.__flags.setter=!!(2&y),b.__flags.alloc=!!(4&y),b.__flags.dealloc=!!(8&y)),b._flags)};return Object.defineProperty(x,"__flags",{iterable:!1,writable:!1,value:Object.create(S)}),S||x(0),x},l.debugFlags=l.__makeDebugFlags());const A=function(){const S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]===256}(),z=S=>(x=>x[1]==="(")(S)?"p":S[0],R=function(S){switch(z(S)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return T;case"j":return"i64";case"f":return"float";case"d":return"double"}i("Unhandled signature IR:",S)},B=U?()=>!0:()=>i("BigInt64Array is not available."),I=(S,x)=>S+"::"+x,V=new WeakMap,d="(pointer-is-external)",h=function(S,x,b){if(b||(b=V.get(x)),b){if(V.delete(x),Array.isArray(x.ondispose)){let y;for(;y=x.ondispose.shift();)try{y instanceof Function?y.call(x):y instanceof ue?y.dispose():typeof y=="number"&&q(y)}catch(F){console.warn("ondispose() for",S.structName,"@",b,"threw. NOT propagating it.",F)}}else if(x.ondispose instanceof Function)try{x.ondispose()}catch(y){console.warn("ondispose() for",S.structName,"@",b,"threw. NOT propagating it.",y)}delete x.ondispose,S.debugFlags.__flags.dealloc&&L("debug.dealloc:",x[d]?"EXTERNAL":"",S.structName,"instance:",S.structInfo.sizeof,"bytes @"+b),x[d]||q(b)}},a=S=>({configurable:!1,writable:!1,iterable:!1,value:S}),f=function(S,x,b){let y=!b;b?Object.defineProperty(x,d,a(b)):(b=E(S.structInfo.sizeof))||i("Allocation of",S.structName,"structure failed.");try{S.debugFlags.__flags.alloc&&L("debug.alloc:",y?"":"EXTERNAL",S.structName,"instance:",S.structInfo.sizeof,"bytes @"+b),y&&c().fill(0,b,b+S.structInfo.sizeof),V.set(x,b)}catch(F){throw h(S,x,b),F}},m=a(S=>Q+S+O),w=function(S,x,b=!0){let y=S.members[x];if(!y&&(Q||O)){for(const F of Object.values(S.members))if(F.key===x){y=F;break}!y&&b&&i(I(S.name,x),"is not a mapped struct member.")}return y},k=function S(x,b,y=!1){S._||(S._=C=>C.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const F=w(x.structInfo,b,!0);return y?S._(F.signature):F.signature},H={configurable:!1,enumerable:!1,get:function(){return V.get(this)},set:()=>i("Cannot assign the 'pointer' property of a struct.")},$=a(function(){const S=[];for(const x of Object.keys(this.structInfo.members))S.push(this.memberKey(x));return S}),N=new TextDecoder("utf-8"),Z=new TextEncoder,oe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ce=function(S){S.signature!=="s"&&i("Invalid member type signature for C-string value:",JSON.stringify(S))},ie=function(S,x){const b=w(S.structInfo,x,!0);ce(b);const y=S[b.key];if(!y)return null;let F=y;const C=c();for(;C[F]!==0;++F);return y===F?"":(W=C,X=y,J=F,N.decode(W.buffer instanceof oe?W.slice(X,J):W.subarray(X,J)));var W,X,J},te=function(S,...x){S.ondispose?Array.isArray(S.ondispose)||(S.ondispose=[S.ondispose]):S.ondispose=[],S.ondispose.push(...x)},le=function(S){const x=Z.encode(S),b=E(x.length+1);b||i("Allocation error while duplicating string:",S);const y=c();return y.set(x,b),y[b+x.length]=0,b},ue=function(S,x){arguments[2]!==a&&i("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:a(S),structInfo:a(x)})};ue.prototype=Object.create(null,{dispose:a(function(){h(this.constructor,this)}),lookupMember:a(function(S,x=!0){return w(this.structInfo,S,x)}),memberToJsString:a(function(S){return ie(this,S)}),memberIsString:a(function(S,x=!0){return function(b,y,F=!1){const C=w(b.structInfo,y,F);return!(!C||C.signature.length!==1||C.signature[0]!=="s")&&C}(this,S,x)}),memberKey:m,memberKeys:$,memberSignature:a(function(S,x=!1){return k(this,S,x)}),memoryDump:a(function(){const S=this.pointer;return S?new Uint8Array(c().slice(S,S+this.structInfo.sizeof)):null}),pointer:H,setMemberCString:a(function(S,x){return function(b,y,F){const C=w(b.structInfo,y,!0);ce(C);const W=le(F);return b[C.key]=W,te(b,W),b}(this,S,x)})}),Object.assign(ue.prototype,{addOnDispose:function(...S){return te(this,...S),this}}),Object.defineProperties(ue,{allocCString:a(le),isA:a(S=>S instanceof ue),hasExternalPointer:a(S=>S instanceof ue&&!!S[d]),memberKey:m});const ye=S=>Number.isFinite(S)||S instanceof(D||Number),qe=function S(x,b,y){if(!S._){S._={getters:{},setters:{},sw:{}};const fe=["i","c","C","p","P","s","f","d","v()"];P&&fe.push("j"),fe.forEach(function(Fe){S._.getters[Fe]=function(Pe){switch(z(Pe)){case"p":case"P":case"s":switch(G){case 4:return"getInt32";case 8:return B()&&"getBigInt64"}break;case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return B()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}i("Unhandled DataView getter for signature:",Pe)}(Fe),S._.setters[Fe]=function(Pe){switch(z(Pe)){case"p":case"P":case"s":switch(G){case 4:return"setInt32";case 8:return B()&&"setBigInt64"}break;case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return B()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}i("Unhandled DataView setter for signature:",Pe)}(Fe),S._.sw[Fe]=function(Pe){switch(z(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return B()&&D;case"p":case"P":case"s":switch(G){case 4:return Number;case 8:return B()&&D}}i("Unhandled DataView set wrapper for signature:",Pe)}(Fe)});const Ae=/^[ipPsjfdcC]$/,ke=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;S.sigCheck=function(Fe,Pe,je,st){Object.prototype.hasOwnProperty.call(Fe,je)&&i(Fe.structName,"already has a property named",je+"."),Ae.test(st)||ke.test(st)||i("Malformed signature for",I(Fe.structName,Pe)+":",st)}}const F=x.memberKey(b);S.sigCheck(x.prototype,b,F,y.signature),y.key=F,y.name=b;const C=z(y.signature),W=I(x.prototype.structName,F),X=x.prototype.debugFlags.__flags,J=Object.create(null);var Ie,xe;J.configurable=!1,J.enumerable=!1,J.get=function(){X.getter&&L("debug.getter:",S._.getters[C],"for",R(C),W,"@",this.pointer,"+",y.offset,"sz",y.sizeof);let fe=new DataView(c().buffer,this.pointer+y.offset,y.sizeof)[S._.getters[C]](0,A);return X.getter&&L("debug.getter:",W,"result =",fe),fe},y.readOnly?J.set=(Ie=x.prototype.structName,xe=F,()=>i(I(Ie,xe),"is read-only.")):J.set=function(fe){if(X.setter&&L("debug.setter:",S._.setters[C],"for",R(C),W,"@",this.pointer,"+",y.offset,"sz",y.sizeof,fe),this.pointer||i("Cannot set struct property on disposed instance."),fe===null)fe=0;else for(;!ye(fe);){if(y.signature==="P"&&fe instanceof ue){fe=fe.pointer||0,X.setter&&L("debug.setter:",W,"resolved to",fe);break}i("Invalid value for pointer-type",W+".")}new DataView(c().buffer,this.pointer+y.offset,y.sizeof)[S._.setters[C]](0,S._.sw[C](fe),A)},Object.defineProperty(x.prototype,F,J)},j=function S(x,b){arguments.length===1?x=(b=x).name:b.name||(b.name=x),x||i("Struct name is required.");let y=!1;Object.keys(b.members).forEach(W=>{const X=b.members[W];X.sizeof?X.sizeof===1?X.signature==="c"||X.signature==="C"||i("Unexpected sizeof==1 member",I(b.name,W),"with signature",X.signature):(X.sizeof%4!=0&&(console.warn("Invalid struct member description =",X,"from",b),i(x,"member",W,"sizeof is not aligned. sizeof="+X.sizeof)),X.offset%4!=0&&(console.warn("Invalid struct member description =",X,"from",b),i(x,"member",W,"offset is not aligned. offset="+X.offset))):i(x,"member",W,"is missing sizeof."),(!y||y.offset<X.offset)&&(y=X)}),y?b.sizeof<y.offset+y.sizeof&&i("Invalid struct config:",x,"max member offset ("+y.offset+") ","extends past end of struct (sizeof="+b.sizeof+")."):i("No member property descriptions found.");const F=a(l.__makeDebugFlags(S.debugFlags)),C=function W(X){this instanceof W?arguments.length?((X!==(0|X)||X<=0)&&i("Invalid pointer value for",x,"constructor."),f(W,this,X)):f(W,this):i("The",x,"constructor may only be called via 'new'.")};return Object.defineProperties(C,{debugFlags:F,isA:a(W=>W instanceof C),memberKey:m,memberKeys:$,methodInfoForKey:a(function(W){}),structInfo:a(b),structName:a(x)}),C.prototype=new ue(x,b,a),Object.defineProperties(C.prototype,{debugFlags:F,constructor:a(C)}),Object.keys(b.members).forEach(W=>qe(C,W,b.members[W])),C};return j.StructType=ue,j.config=o,j.allocCString=le,j.debugFlags||(j.debugFlags=l.__makeDebugFlags(l.debugFlags)),j},globalThis.sqlite3ApiBootstrap.initializers.push(function(n){const o=(...T)=>{throw new Error(T.join(" "))},i=n.capi,l=n.wasm,c=n.util;if(globalThis.WhWasmUtilInstaller(l),delete globalThis.WhWasmUtilInstaller,l.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new l.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(T,A)=>T[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new l.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:T=>T[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new l.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:T=>{let A;return(z,R,B,I)=>{try{const V=l.cArgvToJs(R,B);return A||(A=l.cArgvToJs(R,I)),0|T(V,A)}catch(V){return V.resultCode||i.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new l.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(T,A)=>T[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new l.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:T=>T[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new l.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(T,A)=>T[0],callProxy:T=>(A,z,R,B,I,V)=>{try{return R=R&&l.cstrToJs(R),B=B&&l.cstrToJs(B),I=I&&l.cstrToJs(I),V=V&&l.cstrToJs(V),T(A,z,R,B,I,V)||0}catch(d){return d.resultCode||i.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new l.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(T,A)=>T[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new l.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(T,A)=>T[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],l.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new l.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:T=>T[0],callProxy:T=>(A,z,R,B,I,V,d)=>{T(A,z,R,l.cstrToJs(B),l.cstrToJs(I),V,d)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new l.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:T=>T[0],callProxy:T=>(A,z,R,B,I)=>{T(A,z,l.cstrToJs(R),l.cstrToJs(B),I)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],l.bigIntEnabled&&l.exports.sqlite3changegroup_add){const T={signature:"i(ps)",callProxy:A=>(z,R)=>{try{return 0|A(z,l.cstrToJs(R))}catch(B){return B.resultCode||i.SQLITE_ERROR}}};l.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new l.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new l.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new l.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...T}),new l.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new l.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new l.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...T}),new l.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new l.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...T}),new l.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new l.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new l.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...T}),new l.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new l.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new l.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new l.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new l.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new l.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new l.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new l.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new l.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new l.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new l.xWrap.FuncPtrAdapter({name:"xFilter",...T,contextKey:(A,z)=>A[0]}),"*"]])}l.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],n.StructBinder=globalThis.Jaccwabyt({heap:l.heap8u,alloc:l.alloc,dealloc:l.dealloc,bigIntEnabled:l.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const T=l.xWrap.argAdapter("string");l.xWrap.argAdapter("string:flexible",I=>T(c.flexibleString(I))),l.xWrap.argAdapter("string:static",(function(I){return l.isPtr(I)?I:this[I=""+I]||(this[I]=l.allocCString(I))}).bind(Object.create(null)));const A=l.xWrap.argAdapter("*"),z=function(){};l.xWrap.argAdapter("sqlite3_filename",A)("sqlite3_context*",A)("sqlite3_value*",A)("void*",A)("sqlite3_changegroup*",A)("sqlite3_changeset_iter*",A)("sqlite3_session*",A)("sqlite3_stmt*",I=>{var V;return A(I instanceof(((V=n==null?void 0:n.oo1)==null?void 0:V.Stmt)||z)?I.pointer:I)})("sqlite3*",I=>{var V;return A(I instanceof(((V=n==null?void 0:n.oo1)==null?void 0:V.DB)||z)?I.pointer:I)})("sqlite3_index_info*",I=>A(I instanceof(i.sqlite3_index_info||z)?I.pointer:I))("sqlite3_module*",I=>A(I instanceof(i.sqlite3_module||z)?I.pointer:I))("sqlite3_vfs*",I=>typeof I=="string"?i.sqlite3_vfs_find(I)||n.SQLite3Error.toss(i.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",I):A(I instanceof(i.sqlite3_vfs||z)?I.pointer:I));const R=l.xWrap.resultAdapter("*");l.xWrap.resultAdapter("sqlite3*",R)("sqlite3_context*",R)("sqlite3_stmt*",R)("sqlite3_value*",R)("sqlite3_vfs*",R)("void*",R),l.exports.sqlite3_step.length===0&&(l.xWrap.doArgcCheck=!1,n.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const I of l.bindingSignatures)i[I[0]]=l.xWrap.apply(null,I);for(const I of l.bindingSignatures.wasmInternal)c[I[0]]=l.xWrap.apply(null,I);const B=function(I){return()=>o(I+"() is unavailable due to lack","of BigInt support in this build.")};for(const I of l.bindingSignatures.int64)i[I[0]]=l.bigIntEnabled?l.xWrap.apply(null,I):B(I[0]);if(delete l.bindingSignatures,l.exports.sqlite3__wasm_db_error){const I=l.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");c.sqlite3__wasm_db_error=function(V,d,h){return d instanceof n.WasmAllocError?(d=i.SQLITE_NOMEM,h=0):d instanceof Error&&(h=h||""+d,d=d.resultCode||i.SQLITE_ERROR),V?I(V,d,h):d}}else c.sqlite3__wasm_db_error=function(I,V,d){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),V}}{const T=l.xCall("sqlite3__wasm_enum_json");T||o("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),l.ctype=JSON.parse(l.cstrToJs(T));const A=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];l.bigIntEnabled&&A.push("serialize","session","vtab");for(const B of A)for(const I of Object.entries(l.ctype[B]))i[I[0]]=I[1];l.functionEntry(i.SQLITE_WASM_DEALLOC)||o("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+i.SQLITE_WASM_DEALLOC+").");const z=Object.create(null);for(const B of["resultCodes"])for(const I of Object.entries(l.ctype[B]))z[I[1]]=I[0];i.sqlite3_js_rc_str=B=>z[B];const R=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!c.isUIThread(),sqlite3_index_info:!l.bigIntEnabled,sqlite3_index_constraint:!l.bigIntEnabled,sqlite3_index_orderby:!l.bigIntEnabled,sqlite3_index_constraint_usage:!l.bigIntEnabled});for(const B of l.ctype.structs)R[B.name]||(i[B.name]=n.StructBinder(B));if(i.sqlite3_index_info){for(const B of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])i.sqlite3_index_info[B]=i[B],delete i[B];i.sqlite3_vtab_config=l.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const E=(T,A,z)=>c.sqlite3__wasm_db_error(T,i.SQLITE_MISUSE,A+"() requires "+z+" argument"+(z===1?"":"s")+"."),q=T=>c.sqlite3__wasm_db_error(T,i.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),L=T=>l.xWrap.argAdapter("sqlite3*")(T),Q=T=>l.isPtr(T)?l.cstrToJs(T):T,O=(function(T,A){T=L(T);let z=this.dbMap.get(T);return A?(!z&&A>0&&this.dbMap.set(T,z=Object.create(null)),z):(this.dbMap.delete(T),z)}).bind(Object.assign(Object.create(null),{dbMap:new Map}));O.addCollation=function(T,A){const z=O(T,1);z.collation||(z.collation=new Set),z.collation.add(Q(A).toLowerCase())},O._addUDF=function(T,A,z,R){A=Q(A).toLowerCase();let B=R.get(A);B||R.set(A,B=new Set),B.add(z<0?-1:z)},O.addFunction=function(T,A,z){const R=O(T,1);R.udf||(R.udf=new Map),this._addUDF(T,A,z,R.udf)},O.addWindowFunc=function(T,A,z){const R=O(T,1);R.wudf||(R.wudf=new Map),this._addUDF(T,A,z,R.wudf)},O.cleanup=function(T){const A=[T=L(T)];for(const B of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const I=l.exports[B];A.length=I.length;try{i[B](...A)}catch(V){console.warn("close-time call of",B+"(",A,") threw:",V)}}const z=O(T,0);if(!z)return;if(z.collation){for(const B of z.collation)try{i.sqlite3_create_collation_v2(T,B,i.SQLITE_UTF8,0,0,0)}catch{}delete z.collation}let R;for(R=0;R<2;++R){const B=R?z.wudf:z.udf;if(!B)continue;const I=R?i.sqlite3_create_window_function:i.sqlite3_create_function_v2;for(const V of B){const d=V[0],h=V[1],a=[T,d,0,i.SQLITE_UTF8,0,0,0,0,0];R&&a.push(0);for(const f of h)try{a[2]=f,I.apply(null,a)}catch{}h.clear()}B.clear()}delete z.udf,delete z.wudf};{const T=l.xWrap("sqlite3_close_v2","int","sqlite3*");i.sqlite3_close_v2=function(A){if(arguments.length!==1)return E(A,"sqlite3_close_v2",1);if(A)try{O.cleanup(A)}catch{}return T(A)}}if(i.sqlite3session_table_filter){const T=l.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);i.sqlite3session_delete=function(A){if(arguments.length!==1)return E(pDb,"sqlite3session_delete",1);A&&i.sqlite3session_table_filter(A,0,0),T(A)}}{const T=(z,R)=>"argv["+R+"]:"+z[0]+":"+l.cstrToJs(z[1]).toLowerCase(),A=l.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new l.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:T}),new l.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:T})]);i.sqlite3_create_collation_v2=function(z,R,B,I,V,d){if(arguments.length!==6)return E(z,"sqlite3_create_collation_v2",6);if(15&B){if(i.SQLITE_UTF8!==(15&B))return q(z)}else B|=i.SQLITE_UTF8;try{const h=A(z,R,B,I,V,d);return h===0&&V instanceof Function&&O.addCollation(z,R),h}catch(h){return c.sqlite3__wasm_db_error(z,h)}},i.sqlite3_create_collation=(z,R,B,I,V)=>arguments.length===5?i.sqlite3_create_collation_v2(z,R,B,I,V,0):E(z,"sqlite3_create_collation",5)}{const T=function(B,I){return B[0]+":"+(B[2]<0?-1:B[2])+":"+I+":"+l.cstrToJs(B[1]).toLowerCase()},A=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:T,callProxy:B=>(I,V,d)=>{try{B(I,...i.sqlite3_values_to_js(V,d))}catch(h){i.sqlite3_result_error_js(I,h)}}},xFinalAndValue:{signature:"v(p)",contextKey:T,callProxy:B=>I=>{try{i.sqlite3_result_js(I,B(I))}catch(V){i.sqlite3_result_error_js(I,V)}}},xFunc:{signature:"v(pip)",contextKey:T,callProxy:B=>(I,V,d)=>{try{i.sqlite3_result_js(I,B(I,...i.sqlite3_values_to_js(V,d)))}catch(h){i.sqlite3_result_error_js(I,h)}}},xDestroy:{signature:"v(p)",contextKey:T,callProxy:B=>I=>{try{B(I)}catch(V){console.error("UDF xDestroy method threw:",V)}}}}),z=l.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new l.xWrap.FuncPtrAdapter({name:"xFunc",...A.xFunc}),new l.xWrap.FuncPtrAdapter({name:"xStep",...A.xInverseAndStep}),new l.xWrap.FuncPtrAdapter({name:"xFinal",...A.xFinalAndValue}),new l.xWrap.FuncPtrAdapter({name:"xDestroy",...A.xDestroy})]),R=l.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new l.xWrap.FuncPtrAdapter({name:"xStep",...A.xInverseAndStep}),new l.xWrap.FuncPtrAdapter({name:"xFinal",...A.xFinalAndValue}),new l.xWrap.FuncPtrAdapter({name:"xValue",...A.xFinalAndValue}),new l.xWrap.FuncPtrAdapter({name:"xInverse",...A.xInverseAndStep}),new l.xWrap.FuncPtrAdapter({name:"xDestroy",...A.xDestroy})]);i.sqlite3_create_function_v2=function B(I,V,d,h,a,f,m,w,k){if(B.length!==arguments.length)return E(I,"sqlite3_create_function_v2",B.length);if(15&h){if(i.SQLITE_UTF8!==(15&h))return q(I)}else h|=i.SQLITE_UTF8;try{const H=z(I,V,d,h,a,f,m,w,k);return H===0&&(f instanceof Function||m instanceof Function||w instanceof Function||k instanceof Function)&&O.addFunction(I,V,d),H}catch(H){return console.error("sqlite3_create_function_v2() setup threw:",H),c.sqlite3__wasm_db_error(I,H,"Creation of UDF threw: "+H)}},i.sqlite3_create_function=function B(I,V,d,h,a,f,m,w){return B.length===arguments.length?i.sqlite3_create_function_v2(I,V,d,h,a,f,m,w,0):E(I,"sqlite3_create_function",B.length)},i.sqlite3_create_window_function=function B(I,V,d,h,a,f,m,w,k,H){if(B.length!==arguments.length)return E(I,"sqlite3_create_window_function",B.length);if(15&h){if(i.SQLITE_UTF8!==(15&h))return q(I)}else h|=i.SQLITE_UTF8;try{const $=R(I,V,d,h,a,f,m,w,k,H);return $===0&&(f instanceof Function||m instanceof Function||w instanceof Function||k instanceof Function||H instanceof Function)&&O.addWindowFunc(I,V,d),$}catch($){return console.error("sqlite3_create_window_function() setup threw:",$),c.sqlite3__wasm_db_error(I,$,"Creation of UDF threw: "+$)}},i.sqlite3_create_function_v2.udfSetResult=i.sqlite3_create_function.udfSetResult=i.sqlite3_create_window_function.udfSetResult=i.sqlite3_result_js,i.sqlite3_create_function_v2.udfConvertArgs=i.sqlite3_create_function.udfConvertArgs=i.sqlite3_create_window_function.udfConvertArgs=i.sqlite3_values_to_js,i.sqlite3_create_function_v2.udfSetError=i.sqlite3_create_function.udfSetError=i.sqlite3_create_window_function.udfSetError=i.sqlite3_result_error_js}{const T=(z,R)=>(typeof z=="string"?R=-1:c.isSQLableTypedArray(z)?(R=z.byteLength,z=c.typedArrayToString(z instanceof ArrayBuffer?new Uint8Array(z):z)):Array.isArray(z)&&(z=z.join(""),R=-1),[z,R]),A={basic:l.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:l.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};i.sqlite3_prepare_v3=function z(R,B,I,V,d,h){if(z.length!==arguments.length)return E(R,"sqlite3_prepare_v3",z.length);const[a,f]=T(B,I);switch(typeof a){case"string":return A.basic(R,a,f,V,d,null);case"number":return A.full(R,a,f,V,d,h);default:return c.sqlite3__wasm_db_error(R,i.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},i.sqlite3_prepare_v2=function z(R,B,I,V,d){return z.length===arguments.length?i.sqlite3_prepare_v3(R,B,I,0,V,d):E(R,"sqlite3_prepare_v2",z.length)}}{const T=l.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),A=l.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);i.sqlite3_bind_text=function z(R,B,I,V,d){if(z.length!==arguments.length)return E(i.sqlite3_db_handle(R),"sqlite3_bind_text",z.length);if(l.isPtr(I)||I===null)return T(R,B,I,V,d);let h,a;I instanceof ArrayBuffer?I=new Uint8Array(I):Array.isArray(pMem)&&(I=pMem.join(""));try{if(c.isSQLableTypedArray(I))h=l.allocFromTypedArray(I),a=I.byteLength;else{if(typeof I!="string")return c.sqlite3__wasm_db_error(i.sqlite3_db_handle(R),i.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");[h,a]=l.allocCString(I)}return T(R,B,h,a,i.SQLITE_WASM_DEALLOC)}catch(f){return l.dealloc(h),c.sqlite3__wasm_db_error(i.sqlite3_db_handle(R),f)}},i.sqlite3_bind_blob=function z(R,B,I,V,d){if(z.length!==arguments.length)return E(i.sqlite3_db_handle(R),"sqlite3_bind_blob",z.length);if(l.isPtr(I)||I===null)return A(R,B,I,V,d);let h,a;I instanceof ArrayBuffer?I=new Uint8Array(I):Array.isArray(I)&&(I=I.join(""));try{if(c.isBindableTypedArray(I))h=l.allocFromTypedArray(I),a=V>=0?V:I.byteLength;else{if(typeof I!="string")return c.sqlite3__wasm_db_error(i.sqlite3_db_handle(R),i.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");[h,a]=l.allocCString(I)}return A(R,B,h,a,i.SQLITE_WASM_DEALLOC)}catch(f){return l.dealloc(h),c.sqlite3__wasm_db_error(i.sqlite3_db_handle(R),f)}}}i.sqlite3_config=function(T,...A){if(arguments.length<2)return i.SQLITE_MISUSE;switch(T){case i.SQLITE_CONFIG_COVERING_INDEX_SCAN:case i.SQLITE_CONFIG_MEMSTATUS:case i.SQLITE_CONFIG_SMALL_MALLOC:case i.SQLITE_CONFIG_SORTERREF_SIZE:case i.SQLITE_CONFIG_STMTJRNL_SPILL:case i.SQLITE_CONFIG_URI:return l.exports.sqlite3__wasm_config_i(T,A[0]);case i.SQLITE_CONFIG_LOOKASIDE:return l.exports.sqlite3__wasm_config_ii(T,A[0],A[1]);case i.SQLITE_CONFIG_MEMDB_MAXSIZE:return l.exports.sqlite3__wasm_config_j(T,A[0]);case i.SQLITE_CONFIG_GETMALLOC:case i.SQLITE_CONFIG_GETMUTEX:case i.SQLITE_CONFIG_GETPCACHE2:case i.SQLITE_CONFIG_GETPCACHE:case i.SQLITE_CONFIG_HEAP:case i.SQLITE_CONFIG_LOG:case i.SQLITE_CONFIG_MALLOC:case i.SQLITE_CONFIG_MMAP_SIZE:case i.SQLITE_CONFIG_MULTITHREAD:case i.SQLITE_CONFIG_MUTEX:case i.SQLITE_CONFIG_PAGECACHE:case i.SQLITE_CONFIG_PCACHE2:case i.SQLITE_CONFIG_PCACHE:case i.SQLITE_CONFIG_PCACHE_HDRSZ:case i.SQLITE_CONFIG_PMASZ:case i.SQLITE_CONFIG_SERIALIZED:case i.SQLITE_CONFIG_SINGLETHREAD:case i.SQLITE_CONFIG_SQLLOG:case i.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return i.SQLITE_NOTFOUND}};{const T=new Set;i.sqlite3_auto_extension=function(A){if(A instanceof Function)A=l.installFunction("i(ppp)",A);else if(arguments.length!==1||!l.isPtr(A))return i.SQLITE_MISUSE;const z=l.exports.sqlite3_auto_extension(A);return A!==arguments[0]&&(z===0?T.add(A):l.uninstallFunction(A)),z},i.sqlite3_cancel_auto_extension=function(A){return A&&arguments.length===1&&l.isPtr(A)?l.exports.sqlite3_cancel_auto_extension(A):0},i.sqlite3_reset_auto_extension=function(){l.exports.sqlite3_reset_auto_extension();for(const A of T)l.uninstallFunction(A);T.clear()}}const P=i.sqlite3_vfs_find("kvvfs");if(P)if(c.isUIThread()){const T=new i.sqlite3_kvvfs_methods(l.exports.sqlite3__wasm_kvvfs_methods());delete i.sqlite3_kvvfs_methods;const A=l.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,z=l.pstack,R=I=>l.peek(I)===115?sessionStorage:localStorage,B={xRead:(I,V,d,h)=>{const a=z.pointer,f=l.scopedAllocPush();try{const m=A(I,V);if(!m)return-3;const w=l.cstrToJs(m),k=R(I).getItem(w);if(!k)return-1;const H=k.length;if(h<=0)return H;if(h===1)return l.poke(d,0),H;const $=l.scopedAllocCString(k);return h>H+1&&(h=H+1),l.heap8u().copyWithin(d,$,$+h-1),l.poke(d+h-1,0),h-1}catch(m){return console.error("kvstorageRead()",m),-2}finally{z.restore(a),l.scopedAllocPop(f)}},xWrite:(I,V,d)=>{const h=z.pointer;try{const a=A(I,V);if(!a)return 1;const f=l.cstrToJs(a);return R(I).setItem(f,l.cstrToJs(d)),0}catch(a){return console.error("kvstorageWrite()",a),i.SQLITE_IOERR}finally{z.restore(h)}},xDelete:(I,V)=>{const d=z.pointer;try{const h=A(I,V);return h?(R(I).removeItem(l.cstrToJs(h)),0):1}catch(h){return console.error("kvstorageDelete()",h),i.SQLITE_IOERR}finally{z.restore(d)}}};for(const I of Object.keys(B))T[T.memberKey(I)]=l.installFunction(T.memberSignature(I),B[I])}else i.sqlite3_vfs_unregister(P);l.xWrap.FuncPtrAdapter.warnOnUse=!0;const D=n.StructBinder,U=function T(A,z,R,B=T.installMethodArgcCheck){if(A instanceof D.StructType?R instanceof Function||l.isPtr(R)||o("Usage errror: expecting a Function or WASM pointer to one."):o("Usage error: target object is-not-a StructType."),arguments.length===1)return(h,a)=>T(A,h,a,B);T.argcProxy||(T.argcProxy=function(h,a,f,m){return function(...w){return f.length!==arguments.length&&o("Argument mismatch for",h.structInfo.name+"::"+a+": Native signature is:",m),f.apply(this,w)}},T.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((h,a)=>{if(typeof h=="number")try{l.uninstallFunction(h)}catch{}}),delete this.ondispose.__removeFuncList)});const I=A.memberSignature(z);I.length<2&&o("Member",z,"does not have a function pointer signature:",I);const V=A.memberKey(z),d=B&&!l.isPtr(R)?T.argcProxy(A,V,R,I):R;if(l.isPtr(d))d&&!l.functionEntry(d)&&o("Pointer",d,"is not a WASM function table entry."),A[V]=d;else{const h=l.installFunction(d,A.memberSignature(z,!0));A[V]=h,A.ondispose&&A.ondispose.__removeFuncList||(A.addOnDispose("ondispose.__removeFuncList handler",T.removeFuncList),A.ondispose.__removeFuncList=[]),A.ondispose.__removeFuncList.push(V,h)}return(h,a)=>T(A,h,a,B)};U.installMethodArgcCheck=!1;const G=function(T,A,z=U.installMethodArgcCheck){const R=new Map;for(const B of Object.keys(A)){const I=A[B],V=R.get(I);if(V){const d=T.memberKey(B);T[d]=T[T.memberKey(V)]}else U(T,B,I,z),R.set(I,B)}return T};D.StructType.prototype.installMethod=function(T,A,z=U.installMethodArgcCheck){return arguments.length<3&&T&&typeof T=="object"?G(this,...arguments):U(this,...arguments)},D.StructType.prototype.installMethods=function(T,A=U.installMethodArgcCheck){return G(this,T,A)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(n){n.version={libVersion:"3.46.1",libVersionNumber:3046001,sourceId:"2024-08-13 09:16:08 c9c2ab54ba1f5f46360f1b4f35d849cd3f080e6fc2b6c60e91b16c63f69a1e33",downloadVersion:3460100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(n){const o=(...a)=>{throw new n.SQLite3Error(...a)},i=n.capi,l=n.wasm,c=n.util,E=new WeakMap,q=new WeakMap,L=(a,f,m)=>{const w=Object.getOwnPropertyDescriptor(a,f);return w?w.value:m},Q=function(a,f){return f&&(a instanceof U&&(a=a.pointer),o(f,"sqlite3 result code",f+":",a?i.sqlite3_errmsg(a):i.sqlite3_errstr(f))),arguments[0]},O=l.installFunction("i(ippp)",(function(a,f,m,w){i.SQLITE_TRACE_STMT===a&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+f+":",l.cstrToJs(w))}).bind({counter:0})),P=Object.create(null),D=function a(...f){if(!a._name2vfs){a._name2vfs=Object.create(null);const ie=typeof importScripts=="function"&&(te=>o("The VFS for",te,"is only available in the main window thread."));a._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ie||(()=>"local")},a._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ie||(()=>"session")}}const m=a.normalizeArgs(...f);let w=m.filename,k=m.vfs,H=m.flags;(typeof w!="string"&&typeof w!="number"||typeof H!="string"||k&&typeof k!="string"&&typeof k!="number")&&(n.config.error("Invalid DB ctor args",m,arguments),o("Invalid arguments for DB constructor."));let $=typeof w=="number"?l.cstrToJs(w):w;const N=a._name2vfs[$];N&&(k=N.vfs,w=$=N.filename($));let Z,oe=0;H.indexOf("c")>=0&&(oe|=i.SQLITE_OPEN_CREATE|i.SQLITE_OPEN_READWRITE),H.indexOf("w")>=0&&(oe|=i.SQLITE_OPEN_READWRITE),oe===0&&(oe|=i.SQLITE_OPEN_READONLY),oe|=i.SQLITE_OPEN_EXRESCODE;const ce=l.pstack.pointer;try{const ie=l.pstack.allocPtr();let te=i.sqlite3_open_v2(w,ie,oe,k||0);Z=l.peekPtr(ie),Q(Z,te),i.sqlite3_extended_result_codes(Z,1),H.indexOf("t")>=0&&i.sqlite3_trace_v2(Z,i.SQLITE_TRACE_STMT,O,Z)}catch(ie){throw Z&&i.sqlite3_close_v2(Z),ie}finally{l.pstack.restore(ce)}this.filename=$,E.set(this,Z),q.set(this,Object.create(null));try{const ie=i.sqlite3_js_db_vfs(Z)||o("Internal error: cannot get VFS for new db handle."),te=P[ie];te&&(te instanceof Function?te(this,n):Q(Z,i.sqlite3_exec(Z,te,0,0,0)))}catch(ie){throw this.close(),ie}};D.setVfsPostOpenSql=function(a,f){P[a]=f},D.normalizeArgs=function(a=":memory:",f="c",m=null){const w={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(w,arguments[0]),w.flags===void 0&&(w.flags="c"),w.vfs===void 0&&(w.vfs=null),w.filename===void 0&&(w.filename=":memory:")):(w.filename=a,w.flags=f,w.vfs=m),w};const U=function(...a){D.apply(this,a)};U.dbCtorHelper=D;const G={null:1,number:2,string:3,boolean:4,blob:5};l.bigIntEnabled&&(G.bigint=G.number);const T=function(){G!==arguments[2]&&o(i.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],E.set(this,arguments[1]),this.parameterCount=i.sqlite3_bind_parameter_count(this.pointer)},A=function(a){return a.pointer||o("DB has been closed."),a},z=function(a,f){return(f!==(0|f)||f<0||f>=a.columnCount)&&o("Column index",f,"is out of range."),a},R=(a,f,m,...w)=>{const k=a.prepare(f);try{const H=k.bind(m).step()?k.get(...w):void 0;return k.reset(),H}finally{k.finalize()}},B=(a,f,m,w)=>a.exec({sql:f,bind:m,rowMode:w,returnValue:"resultRows"});U.checkRc=(a,f)=>Q(a,f),U.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return A(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const a=this.pointer;if(Object.keys(q.get(this)).forEach((f,m)=>{if(m&&m.pointer)try{m.finalize()}catch{}}),E.delete(this),q.delete(this),i.sqlite3_close_v2(a),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(a=!1,f=!1){const m=A(this).pointer;return a?f?i.sqlite3_total_changes64(m):i.sqlite3_total_changes(m):f?i.sqlite3_changes64(m):i.sqlite3_changes(m)},dbFilename:function(a="main"){return i.sqlite3_db_filename(A(this).pointer,a)},dbName:function(a=0){return i.sqlite3_db_name(A(this).pointer,a)},dbVfsName:function(a=0){let f;const m=i.sqlite3_js_db_vfs(A(this).pointer,a);if(m){const w=new i.sqlite3_vfs(m);try{f=l.cstrToJs(w.$zName)}finally{w.dispose()}}return f},prepare:function(a){A(this);const f=l.pstack.pointer;let m,w;try{m=l.pstack.alloc(8),U.checkRc(this,i.sqlite3_prepare_v2(this.pointer,a,-1,m,null)),w=l.peekPtr(m)}finally{l.pstack.restore(f)}w||o("Cannot prepare empty SQL.");const k=new T(this,w,G);return q.get(this)[w]=k,k},exec:function(){A(this);const a=function(oe,ce){const ie=Object.create(null);switch(ie.opt=Object.create(null),ce.length){case 1:typeof ce[0]=="string"||c.isSQLableTypedArray(ce[0])||Array.isArray(ce[0])?ie.sql=ce[0]:ce[0]&&typeof ce[0]=="object"&&(ie.opt=ce[0],ie.sql=ie.opt.sql);break;case 2:ie.sql=ce[0],ie.opt=ce[1];break;default:o("Invalid argument count for exec().")}ie.sql=c.flexibleString(ie.sql),typeof ie.sql!="string"&&o("Missing SQL argument or unsupported SQL value type.");const te=ie.opt;switch(te.returnValue){case"resultRows":te.resultRows||(te.resultRows=[]),ie.returnVal=()=>te.resultRows;break;case"saveSql":te.saveSql||(te.saveSql=[]),ie.returnVal=()=>te.saveSql;break;case void 0:case"this":ie.returnVal=()=>oe;break;default:o("Invalid returnValue value:",te.returnValue)}if(te.callback||te.returnValue||te.rowMode===void 0||(te.resultRows||(te.resultRows=[]),ie.returnVal=()=>te.resultRows),te.callback||te.resultRows)switch(te.rowMode===void 0?"array":te.rowMode){case"object":ie.cbArg=(le,ue)=>{ue.columnNames||(ue.columnNames=le.getColumnNames([]));const ye=le.get([]),qe=Object.create(null);for(const j in ue.columnNames)qe[ue.columnNames[j]]=ye[j];return qe};break;case"array":ie.cbArg=le=>le.get([]);break;case"stmt":Array.isArray(te.resultRows)&&o("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),ie.cbArg=le=>le;break;default:if(c.isInt32(te.rowMode)){ie.cbArg=le=>le.get(te.rowMode);break}if(typeof te.rowMode=="string"&&te.rowMode.length>1&&te.rowMode[0]==="$"){const le=te.rowMode.substr(1);ie.cbArg=ue=>{const ye=ue.get(Object.create(null))[le];return ye===void 0?o(i.SQLITE_NOTFOUND,"exec(): unknown result column:",le):ye};break}o("Invalid rowMode:",te.rowMode)}return ie}(this,arguments);if(!a.sql)return o("exec() requires an SQL string.");const f=a.opt,m=f.callback,w=Array.isArray(f.resultRows)?f.resultRows:void 0;let k,H=f.bind,$=!!(a.cbArg||f.columnNames||w);const N=l.scopedAllocPush(),Z=Array.isArray(f.saveSql)?f.saveSql:void 0;try{const oe=c.isSQLableTypedArray(a.sql);let ce=oe?a.sql.byteLength:l.jstrlen(a.sql);const ie=l.scopedAlloc(2*l.ptrSizeof+(ce+1)),te=ie+l.ptrSizeof;let le=te+l.ptrSizeof;const ue=le+ce;for(oe?l.heap8().set(a.sql,le):l.jstrcpy(a.sql,l.heap8(),le,ce,!1),l.poke(le+ce,0);le&&l.peek(le,"i8");){l.pokePtr([ie,te],0),U.checkRc(this,i.sqlite3_prepare_v3(this.pointer,le,ce,0,ie,te));const ye=l.peekPtr(ie);if(le=l.peekPtr(te),ce=ue-le,ye){if(Z&&Z.push(i.sqlite3_sql(ye).trim()),k=new T(this,ye,G),H&&k.parameterCount&&(k.bind(H),H=null),$&&k.columnCount){let qe=Array.isArray(f.columnNames)?0:1;if($=!1,a.cbArg||w){const j=Object.create(null);for(;k.step();k._lockedByExec=!1){qe++==0&&k.getColumnNames(j.columnNames=f.columnNames||[]),k._lockedByExec=!0;const S=a.cbArg(k,j);if(w&&w.push(S),m&&m.call(f,S,k)===!1)break}k._lockedByExec=!1}qe===0&&k.getColumnNames(f.columnNames)}else k.step();k.reset().finalize(),k=null}}}finally{l.scopedAllocPop(N),k&&(delete k._lockedByExec,k.finalize())}return a.returnVal()},createFunction:function(a,f,m){const w=qe=>qe instanceof Function;switch(arguments.length){case 1:a=(m=a).name,f=m.xFunc||0;break;case 2:w(f)||(f=(m=f).xFunc||0)}m||(m={}),typeof a!="string"&&o("Invalid arguments: missing function name.");let k=m.xStep||0,H=m.xFinal||0;const $=m.xValue||0,N=m.xInverse||0;let Z;w(f)?(Z=!1,(w(k)||w(H))&&o("Ambiguous arguments: scalar or aggregate?"),k=H=null):w(k)?(w(H)||o("Missing xFinal() callback for aggregate or window UDF."),f=null):w(H)?o("Missing xStep() callback for aggregate or window UDF."):o("Missing function-type properties."),Z===!1?(w($)||w(N))&&o("xValue and xInverse are not permitted for non-window UDFs."):w($)?(w(N)||o("xInverse must be provided if xValue is."),Z=!0):w(N)&&o("xValue must be provided if xInverse is.");const oe=m.pApp;oe==null||typeof oe=="number"&&c.isInt32(oe)||o("Invalid value for pApp property. Must be a legal WASM pointer value.");const ce=m.xDestroy||0;ce&&!w(ce)&&o("xDestroy property must be a function.");let ie=0;L(m,"deterministic")&&(ie|=i.SQLITE_DETERMINISTIC),L(m,"directOnly")&&(ie|=i.SQLITE_DIRECTONLY),L(m,"innocuous")&&(ie|=i.SQLITE_INNOCUOUS),a=a.toLowerCase();const te=f||k,le=L(m,"arity"),ue=typeof le=="number"?le:te.length?te.length-1:0;let ye;return ye=Z?i.sqlite3_create_window_function(this.pointer,a,ue,i.SQLITE_UTF8|ie,oe||0,k,H,$,N,ce):i.sqlite3_create_function_v2(this.pointer,a,ue,i.SQLITE_UTF8|ie,oe||0,f,k,H,ce),U.checkRc(this,ye),this},selectValue:function(a,f,m){return R(this,a,f,0,m)},selectValues:function(a,f,m){const w=this.prepare(a),k=[];try{for(w.bind(f);w.step();)k.push(w.get(0,m));w.reset()}finally{w.finalize()}return k},selectArray:function(a,f){return R(this,a,f,[])},selectObject:function(a,f){return R(this,a,f,{})},selectArrays:function(a,f){return B(this,a,f,"array")},selectObjects:function(a,f){return B(this,a,f,"object")},openStatementCount:function(){return this.pointer?Object.keys(q.get(this)).length:0},transaction:function(a){let f="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&o(i.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),f+=" "+arguments[0],a=arguments[1]),A(this).exec(f);try{const m=a(this);return this.exec("COMMIT"),m}catch(m){throw this.exec("ROLLBACK"),m}},savepoint:function(a){A(this).exec("SAVEPOINT oo1");try{const f=a(this);return this.exec("RELEASE oo1"),f}catch(f){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),f}},checkRc:function(a){return Q(this,a)}};const I=function(a){return a.pointer||o("Stmt has been closed."),a},V=function(a){return function(f){let m=G[f==null?"null":typeof f];switch(m){case G.boolean:case G.null:case G.number:case G.string:return m;case G.bigint:if(l.bigIntEnabled)return m;default:return c.isBindableTypedArray(f)?G.blob:void 0}}(a)||o("Unsupported bind() argument type:",typeof a)},d=function(a,f){return a._lockedByExec&&o("Operation is illegal when statement is locked:",f),a},h=function a(f,m,w,k){d(I(f),"bind()"),a._||(a._tooBigInt=$=>o("BigInt value is too big to store without precision loss:",$),a._={string:function($,N,Z,oe){const[ce,ie]=l.allocCString(Z,!0);return(oe?i.sqlite3_bind_blob:i.sqlite3_bind_text)($.pointer,N,ce,ie,i.SQLITE_WASM_DEALLOC)}}),V(k),m=function($,N){const Z=typeof N=="number"?N:i.sqlite3_bind_parameter_index($.pointer,N);return Z!==0&&c.isInt32(Z)?(Z<1||Z>$.parameterCount)&&o("Bind index",N,"is out of range."):o("Invalid bind() parameter name: "+N),Z}(f,m);let H=0;switch(k==null?G.null:w){case G.null:H=i.sqlite3_bind_null(f.pointer,m);break;case G.string:H=a._.string(f,m,k,!1);break;case G.number:{let $;c.isInt32(k)?$=i.sqlite3_bind_int:typeof k=="bigint"?c.bigIntFits64(k)?l.bigIntEnabled?$=i.sqlite3_bind_int64:c.bigIntFitsDouble(k)?(k=Number(k),$=i.sqlite3_bind_double):a._tooBigInt(k):a._tooBigInt(k):(k=Number(k),$=l.bigIntEnabled&&Number.isInteger(k)?i.sqlite3_bind_int64:i.sqlite3_bind_double),H=$(f.pointer,m,k);break}case G.boolean:H=i.sqlite3_bind_int(f.pointer,m,k?1:0);break;case G.blob:{if(typeof k=="string"){H=a._.string(f,m,k,!0);break}k instanceof ArrayBuffer?k=new Uint8Array(k):c.isBindableTypedArray(k)||o("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const $=l.alloc(k.byteLength||1);l.heap8().set(k.byteLength?k:[0],$),H=i.sqlite3_bind_blob(f.pointer,m,$,k.byteLength,i.SQLITE_WASM_DEALLOC);break}default:n.config.warn("Unsupported bind() argument type:",k),o("Unsupported bind() argument type: "+typeof k)}return H&&U.checkRc(f.db.pointer,H),f._mayGet=!1,f};T.prototype={finalize:function(){if(this.pointer){d(this,"finalize()");const a=i.sqlite3_finalize(this.pointer);return delete q.get(this.db)[this.pointer],E.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,a}},clearBindings:function(){return d(I(this),"clearBindings()"),i.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(a){d(this,"reset()"),a&&this.clearBindings();const f=i.sqlite3_reset(I(this).pointer);return this._mayGet=!1,Q(this.db,f),this},bind:function(){let a,f;switch(I(this),arguments.length){case 1:a=1,f=arguments[0];break;case 2:a=arguments[0],f=arguments[1];break;default:o("Invalid bind() arguments.")}return f===void 0?this:(this.parameterCount||o("This statement has no bindable parameters."),this._mayGet=!1,f===null?h(this,a,G.null,f):Array.isArray(f)?(arguments.length!==1&&o("When binding an array, an index argument is not permitted."),f.forEach((m,w)=>h(this,w+1,V(m),m)),this):(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),typeof f!="object"||c.isBindableTypedArray(f)?h(this,a,V(f),f):(arguments.length!==1&&o("When binding an object, an index argument is not permitted."),Object.keys(f).forEach(m=>h(this,m,V(f[m]),f[m])),this)))},bindAsBlob:function(a,f){I(this),arguments.length===1&&(f=a,a=1);const m=V(f);return G.string!==m&&G.blob!==m&&G.null!==m&&o("Invalid value type for bindAsBlob()"),h(this,a,G.blob,f)},step:function(){d(this,"step()");const a=i.sqlite3_step(I(this).pointer);switch(a){case i.SQLITE_DONE:return this._mayGet=!1;case i.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,n.config.warn("sqlite3_step() rc=",a,i.sqlite3_js_rc_str(a),"SQL =",i.sqlite3_sql(this.pointer)),U.checkRc(this.db.pointer,a)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const a=this.step();return this.reset(),a}finally{try{this.finalize()}catch{}}},get:function(a,f){if(I(this)._mayGet||o("Stmt.step() has not (recently) returned true."),Array.isArray(a)){let m=0;const w=this.columnCount;for(;m<w;)a[m]=this.get(m++);return a}if(a&&typeof a=="object"){let m=0;const w=this.columnCount;for(;m<w;)a[i.sqlite3_column_name(this.pointer,m)]=this.get(m++);return a}switch(z(this,a),f===void 0?i.sqlite3_column_type(this.pointer,a):f){case i.SQLITE_NULL:return null;case i.SQLITE_INTEGER:if(l.bigIntEnabled){const m=i.sqlite3_column_int64(this.pointer,a);return m>=Number.MIN_SAFE_INTEGER&&m<=Number.MAX_SAFE_INTEGER?Number(m).valueOf():m}{const m=i.sqlite3_column_double(this.pointer,a);return(m>Number.MAX_SAFE_INTEGER||m<Number.MIN_SAFE_INTEGER)&&o("Integer is out of range for JS integer range: "+m),c.isInt32(m)?0|m:m}case i.SQLITE_FLOAT:return i.sqlite3_column_double(this.pointer,a);case i.SQLITE_TEXT:return i.sqlite3_column_text(this.pointer,a);case i.SQLITE_BLOB:{const m=i.sqlite3_column_bytes(this.pointer,a),w=i.sqlite3_column_blob(this.pointer,a),k=new Uint8Array(m);return m&&k.set(l.heap8u().slice(w,w+m),0),m&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(k.buffer),k}default:o("Don't know how to translate","type of result column #"+a+".")}o("Not reached.")},getInt:function(a){return this.get(a,i.SQLITE_INTEGER)},getFloat:function(a){return this.get(a,i.SQLITE_FLOAT)},getString:function(a){return this.get(a,i.SQLITE_TEXT)},getBlob:function(a){return this.get(a,i.SQLITE_BLOB)},getJSON:function(a){const f=this.get(a,i.SQLITE_STRING);return f===null?f:JSON.parse(f)},getColumnName:function(a){return i.sqlite3_column_name(z(I(this),a).pointer,a)},getColumnNames:function(a=[]){z(I(this),0);const f=this.columnCount;for(let m=0;m<f;++m)a.push(i.sqlite3_column_name(this.pointer,m));return a},getParamIndex:function(a){return I(this).parameterCount?i.sqlite3_bind_parameter_index(this.pointer,a):void 0}};{const a={enumerable:!0,get:function(){return E.get(this)},set:()=>o("The pointer property is read-only.")};Object.defineProperty(T.prototype,"pointer",a),Object.defineProperty(U.prototype,"pointer",a)}if(Object.defineProperty(T.prototype,"columnCount",{enumerable:!1,get:function(){return i.sqlite3_column_count(this.pointer)},set:()=>o("The columnCount property is read-only.")}),n.oo1={DB:U,Stmt:T},c.isUIThread()){n.oo1.JsStorageDb=function(f="session"){const m=D.normalizeArgs(...arguments);(f=m.filename)!=="session"&&f!=="local"&&o("JsStorageDb db name must be one of 'session' or 'local'."),m.vfs="kvvfs",D.call(this,m)};const a=n.oo1.JsStorageDb;a.prototype=Object.create(U.prototype),a.clearStorage=i.sqlite3_js_kvvfs_clear,a.prototype.clearStorage=function(){return a.clearStorage(A(this).filename)},a.storageSize=i.sqlite3_js_kvvfs_size,a.prototype.storageSize=function(){return a.storageSize(A(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(n){const o=n.util;n.initWorker1API=(function(){const i=(...O)=>{throw new Error(O.join(" "))};globalThis.WorkerGlobalScope instanceof Function||i("initWorker1API() must be run from a Worker thread.");const l=this.sqlite3||i("Missing this.sqlite3 object."),c=l.oo1.DB,E=function(O){let P=q.idMap.get(O);return P||(P="db#"+ ++q.idSeq+"@"+O.pointer,q.idMap.set(O,P),P)},q={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(O){const P=new c(O);return this.dbs[E(P)]=P,this.dbList.indexOf(P)<0&&this.dbList.push(P),P},close:function(O,P){if(O){delete this.dbs[E(O)];const D=O.filename,U=o.sqlite3__wasm_db_vfs(O.pointer,0);O.close();const G=this.dbList.indexOf(O);G>=0&&this.dbList.splice(G,1),P&&D&&U&&o.sqlite3__wasm_vfs_unlink(U,D)}},post:function(O,P){P&&P.length?(globalThis.postMessage(O,Array.from(P)),P.length=0):globalThis.postMessage(O)},dbs:Object.create(null),getDb:function(O,P=!0){return this.dbs[O]||(P?i("Unknown (or closed) DB ID:",O):void 0)}},L=function(O,P=!0){const D=q.getDb(O.dbId,!1)||q.dbList[0];return P?function(U=q.dbList[0]){return U&&U.pointer?U:i("DB is not opened.")}(D):D},Q={open:function(O){const P=Object.create(null),D=O.args||Object.create(null);D.simulateError&&i("Throwing because of simulateError flag.");const U=Object.create(null);P.vfs=D.vfs,P.filename=D.filename||"";const G=q.open(P);return U.filename=G.filename,U.persistent=!!l.capi.sqlite3_js_db_uses_vfs(G.pointer,"opfs"),U.dbId=E(G),U.vfs=G.dbVfsName(),U},close:function(O){const P=L(O,!1),D={filename:P&&P.filename};if(P){const U=!(!O.args||typeof O.args!="object"||!O.args.unlink);q.close(P,U)}return D},exec:function(O){const P=typeof O.args=="string"?{sql:O.args}:O.args||Object.create(null);P.rowMode==="stmt"?i("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):P.sql||i("'exec' requires input SQL.");const D=L(O);(P.callback||Array.isArray(P.resultRows))&&(D._blobXfer=q.xfer);const U=P.callback;let G=0;const T=!!P.columnNames;typeof U=="string"&&(T||(P.columnNames=[]),P.callback=function(A,z){q.post({type:U,columnNames:P.columnNames,rowNumber:++G,row:A},q.xfer)});try{const A=P.countChanges?D.changes(!0,P.countChanges===64):void 0;D.exec(P),A!==void 0&&(P.changeCount=D.changes(!0,P.countChanges===64)-A),P.callback instanceof Function&&(P.callback=U,q.post({type:U,columnNames:P.columnNames,rowNumber:null,row:void 0}))}finally{delete D._blobXfer,P.callback&&(P.callback=U)}return P},"config-get":function(){const O=Object.create(null),P=l.config;return["bigIntEnabled"].forEach(function(D){Object.getOwnPropertyDescriptor(P,D)&&(O[D]=P[D])}),O.version=l.version,O.vfsList=l.capi.sqlite3_js_vfs_list(),O.opfsEnabled=!!l.opfs,O},export:function(O){const P=L(O),D={byteArray:l.capi.sqlite3_js_db_export(P.pointer),filename:P.filename,mimetype:"application/x-sqlite3"};return q.xfer.push(D.byteArray.buffer),D},toss:function(O){i("Testing worker exception")},"opfs-tree":async function(O){return l.opfs||i("OPFS support is unavailable."),await l.opfs.treeList()}};globalThis.onmessage=async function(O){let P,D=(O=O.data).dbId,U=O.type;const G=performance.now();try{Q.hasOwnProperty(U)&&Q[U]instanceof Function?P=await Q[U](O):i("Unknown db worker message type:",O.type)}catch(T){U="error",P={operation:O.type,message:T.message,errorClass:T.name,input:O},T.stack&&(P.stack=typeof T.stack=="string"?T.stack.split(/\n\s*/):T.stack)}D||(D=P.dbId||q.dbList[0]&&E(q.dbList[0])),q.post({type:U,dbId:D,messageId:O.messageId,workerReceivedTime:G,workerRespondTime:performance.now(),departureTime:O.departureTime,result:P},q.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}).bind({sqlite3:n})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(n){const o=n.wasm,i=n.capi,l=n.util.toss3,c=Object.create(null);n.vfs=c,i.sqlite3_vfs.prototype.registerVfs=function(E=!1){this instanceof n.capi.sqlite3_vfs||l("Expecting a sqlite3_vfs-type argument.");const q=i.sqlite3_vfs_register(this,E?1:0);return q&&l("sqlite3_vfs_register(",this,") failed with rc",q),this.pointer!==i.sqlite3_vfs_find(this.$zName)&&l("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},c.installVfs=function(E){let q=0;const L=["io","vfs"];for(const Q of L){const O=E[Q];O&&(++q,O.struct.installMethods(O.methods,!!O.applyArgcCheck),Q==="vfs"&&(O.struct.$zName||typeof O.name!="string"||O.struct.addOnDispose(O.struct.$zName=o.allocCString(O.name)),O.struct.registerVfs(!!O.asDefault)))}return q||l("Misuse: installVfs() options object requires at least","one of:",L),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(n){const o=n.wasm,i=n.capi,l=n.util.toss3,c=Object.create(null);n.vtab=c;const E=i.sqlite3_index_info;E.prototype.nthConstraint=function(L,Q=!1){if(L<0||L>=this.$nConstraint)return!1;const O=this.$aConstraint+E.sqlite3_index_constraint.structInfo.sizeof*L;return Q?O:new E.sqlite3_index_constraint(O)},E.prototype.nthConstraintUsage=function(L,Q=!1){if(L<0||L>=this.$nConstraint)return!1;const O=this.$aConstraintUsage+E.sqlite3_index_constraint_usage.structInfo.sizeof*L;return Q?O:new E.sqlite3_index_constraint_usage(O)},E.prototype.nthOrderBy=function(L,Q=!1){if(L<0||L>=this.$nOrderBy)return!1;const O=this.$aOrderBy+E.sqlite3_index_orderby.structInfo.sizeof*L;return Q?O:new E.sqlite3_index_orderby(O)};const q=function(L,Q){const O=function(P,D){return(function(U,G=!1){if(arguments.length===0&&(U=new D),U instanceof D)return this.set(U.pointer,U),U;o.isPtr(U)||n.SQLite3Error.toss("Invalid argument to",P+"()");let T=this.get(U);return G&&this.delete(U),T}).bind(new Map)}(L,Q);return Object.assign(Object.create(null),{StructType:Q,create:P=>{const D=O();return o.pokePtr(P,D.pointer),D},get:P=>O(P),unget:P=>O(P,!0),dispose:P=>{const D=O(P,!0);D&&D.dispose()}})};c.xVtab=q("xVtab",i.sqlite3_vtab),c.xCursor=q("xCursor",i.sqlite3_vtab_cursor),c.xIndexInfo=L=>new i.sqlite3_index_info(L),c.xError=function L(Q,O,P){if(L.errorReporter instanceof Function)try{L.errorReporter("sqlite3_module::"+Q+"(): "+O.message)}catch{}let D;return O instanceof n.WasmAllocError?D=i.SQLITE_NOMEM:arguments.length>2?D=P:O instanceof n.SQLite3Error&&(D=O.resultCode),D||i.SQLITE_ERROR},c.xError.errorReporter=console.error.bind(console),c.xRowid=(L,Q)=>o.poke(L,Q,"i64"),c.setupModule=function(L){let Q=!1;const O=this instanceof i.sqlite3_module?this:L.struct||(Q=new i.sqlite3_module);try{const P=L.methods||l("Missing 'methods' object.");for(const D of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const U=D[0],G=D[1];P[U]===!0?P[U]=P[G]:P[G]===!0&&(P[G]=P[U])}if(L.catchExceptions){const D=function(T,A){return["xConnect","xCreate"].indexOf(T)>=0?function(z,R,B,I,V,d){try{return A(...arguments)||0}catch(h){return h instanceof n.WasmAllocError||(o.dealloc(o.peekPtr(d)),o.pokePtr(d,o.allocCString(h.message))),c.xError(T,h)}}:function(...z){try{return A(...z)||0}catch(R){return c.xError(T,R)}}},U=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],G=Object.create(null);for(const T of U){const A=P[T];A instanceof Function&&(T==="xConnect"&&P.xCreate===A?G[T]=P.xCreate:T==="xCreate"&&P.xConnect===A?G[T]=P.xConnect:G[T]=D(T,A))}O.installMethods(G,!1)}else O.installMethods(P,!!L.applyArgcCheck);if(O.$iVersion===0){let D;D=typeof L.iVersion=="number"?L.iVersion:O.$xShadowName?3:O.$xSavePoint||O.$xRelease||O.$xRollbackTo?2:1,O.$iVersion=D}}catch(P){throw Q&&Q.dispose(),P}return O},i.sqlite3_module.prototype.setupModule=function(L){return c.setupModule.call(this,L)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(n){const o=function i(l){var q;if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!(globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&((q=navigator==null?void 0:navigator.storage)!=null&&q.getDirectory)))return Promise.reject(new Error("Missing required OPFS APIs."));l&&typeof l=="object"||(l=Object.create(null));const c=new URL(globalThis.location.href).searchParams;return c.has("opfs-disable")?Promise.resolve(n):(l.verbose===void 0&&(l.verbose=c.has("opfs-verbose")?+c.get("opfs-verbose")||2:1),l.sanityChecks===void 0&&(l.sanityChecks=c.has("opfs-sanity-check")),l.proxyUri===void 0&&(l.proxyUri=i.defaultProxyUri),typeof l.proxyUri=="function"&&(l.proxyUri=l.proxyUri()),new Promise(function(L,Q){const O=[n.config.error,n.config.warn,n.config.log],P=(j,...S)=>{l.verbose>j&&O[j]("OPFS syncer:",...S)},D=(...j)=>P(2,...j),U=(...j)=>P(1,...j),G=(...j)=>P(0,...j),T=n.util.toss,A=n.capi,z=n.util,R=n.wasm,B=A.sqlite3_vfs,I=A.sqlite3_file,V=A.sqlite3_io_methods,d=Object.create(null);d.metrics={dump:function(){let j,S=0,x=0,b=0;for(j in N.opIds){const y=Z[j];S+=y.count,x+=y.time,b+=y.wait,y.avgTime=y.count&&y.time?y.time/y.count:0,y.avgWait=y.count&&y.wait?y.wait/y.count:0}n.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Z,`
Total of`,S,"op(s) for",x,"ms (incl. "+b+" ms of waiting on the async side)"),n.config.log("Serialization metrics:",Z.s11n),k.postMessage({type:"opfs-async-metrics"})},reset:function(){let j;for(j in N.opIds)(S=Z[j]=Object.create(null)).count=S.time=S.wait=0;var S;let x=Z.s11n=Object.create(null);x=x.serialize=Object.create(null),x.count=x.time=0,x=Z.s11n.deserialize=Object.create(null),x.count=x.time=0}};const h=new V,a=new B().addOnDispose(()=>h.dispose());let f;const m=j=>(f=!0,a.dispose(),Q(j)),w=()=>(f=!1,L(n)),k=new Worker(new URL("/app/assets/sqlite3-opfs-async-proxy-CvNWozl8.js",self.location.href));setTimeout(()=>{f===void 0&&m(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),k._originalOnError=k.onerror,k.onerror=function(j){G("Error initializing OPFS asyncer:",j),m(new Error("Loading OPFS async Worker failed for unknown reasons."))};const H=A.sqlite3_vfs_find(null),$=H?new B(H):null;h.$iVersion=1,a.$iVersion=2,a.$szOsFile=A.sqlite3_file.structInfo.sizeof,a.$mxPathname=1024,a.$zName=R.allocCString("opfs"),a.$xDlOpen=a.$xDlError=a.$xDlSym=a.$xDlClose=null,a.addOnDispose("$zName",a.$zName,"cleanup default VFS wrapper",()=>$?$.dispose():null);const N=Object.create(null);N.verbose=l.verbose,N.littleEndian=(()=>{const j=new ArrayBuffer(2);return new DataView(j).setInt16(0,256,!0),new Int16Array(j)[0]===256})(),N.asyncIdleWaitTime=150,N.asyncS11nExceptions=1,N.fileBufferSize=65536,N.sabS11nOffset=N.fileBufferSize,N.sabS11nSize=2*a.$mxPathname,N.sabIO=new SharedArrayBuffer(N.fileBufferSize+N.sabS11nSize),N.opIds=Object.create(null);const Z=Object.create(null);{let j=0;N.opIds.whichOp=j++,N.opIds.rc=j++,N.opIds.xAccess=j++,N.opIds.xClose=j++,N.opIds.xDelete=j++,N.opIds.xDeleteNoWait=j++,N.opIds.xFileSize=j++,N.opIds.xLock=j++,N.opIds.xOpen=j++,N.opIds.xRead=j++,N.opIds.xSleep=j++,N.opIds.xSync=j++,N.opIds.xTruncate=j++,N.opIds.xUnlock=j++,N.opIds.xWrite=j++,N.opIds.mkdir=j++,N.opIds["opfs-async-metrics"]=j++,N.opIds["opfs-async-shutdown"]=j++,N.opIds.retry=j++,N.sabOP=new SharedArrayBuffer(4*j),d.metrics.reset()}N.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(j=>{(N.sq3Codes[j]=A[j])===void 0&&T("Maintenance required: not found:",j)}),N.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const oe=(j,...S)=>{const x=N.opIds[j]||T("Invalid op ID:",j);N.s11n.serialize(...S),Atomics.store(N.sabOPView,N.opIds.rc,-1),Atomics.store(N.sabOPView,N.opIds.whichOp,x),Atomics.notify(N.sabOPView,N.opIds.whichOp);const b=performance.now();for(;Atomics.wait(N.sabOPView,N.opIds.rc,-1)!=="not-equal";);const y=Atomics.load(N.sabOPView,N.opIds.rc);if(Z[j].wait+=performance.now()-b,y&&N.asyncS11nExceptions){const F=N.s11n.deserialize();F&&G(j+"() async error:",...F)}return y};d.debug={asyncShutdown:()=>{U("Shutting down OPFS async listener. The OPFS VFS will no longer work."),oe("opfs-async-shutdown")},asyncRestart:()=>{U("Attempting to restart OPFS VFS async listener. Might work, might not."),k.postMessage({type:"opfs-async-restart"})}};const ce=function j(S=16){j._chars||(j._n=(j._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789").length);const x=[];let b=0;for(;b<S;++b){const y=Math.random()*(64*j._n)%j._n|0;x[b]=j._chars[y]}return x.join("")},ie=Object.create(null),te=Object.create(null);te.op=void 0,te.start=void 0;const le=j=>{te.start=performance.now(),te.op=j,++Z[j].count},ue=()=>Z[te.op].time+=performance.now()-te.start,ye={xCheckReservedLock:function(j,S){return R.poke(S,0,"i32"),0},xClose:function(j){le("xClose");let S=0;const x=ie[j];return x&&(delete ie[j],S=oe("xClose",j),x.sq3File&&x.sq3File.dispose()),ue(),S},xDeviceCharacteristics:function(j){return A.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(j,S,x){return A.SQLITE_NOTFOUND},xFileSize:function(j,S){le("xFileSize");let x=oe("xFileSize",j);if(x==0)try{const b=N.s11n.deserialize()[0];R.poke(S,b,"i64")}catch(b){G("Unexpected error reading xFileSize() result:",b),x=N.sq3Codes.SQLITE_IOERR}return ue(),x},xLock:function(j,S){le("xLock");const x=ie[j];let b=0;return x.lockType?x.lockType=S:(b=oe("xLock",j,S),b===0&&(x.lockType=S)),ue(),b},xRead:function(j,S,x,b){le("xRead");const y=ie[j];let F;try{F=oe("xRead",j,x,Number(b)),F!==0&&A.SQLITE_IOERR_SHORT_READ!==F||R.heap8u().set(y.sabView.subarray(0,x),S)}catch(C){G("xRead(",arguments,") failed:",C,y),F=A.SQLITE_IOERR_READ}return ue(),F},xSync:function(j,S){le("xSync"),++Z.xSync.count;const x=oe("xSync",j,S);return ue(),x},xTruncate:function(j,S){le("xTruncate");const x=oe("xTruncate",j,Number(S));return ue(),x},xUnlock:function(j,S){le("xUnlock");const x=ie[j];let b=0;return A.SQLITE_LOCK_NONE===S&&x.lockType&&(b=oe("xUnlock",j,S)),b===0&&(x.lockType=S),ue(),b},xWrite:function(j,S,x,b){le("xWrite");const y=ie[j];let F;try{y.sabView.set(R.heap8u().subarray(S,S+x)),F=oe("xWrite",j,x,Number(b))}catch(C){G("xWrite(",arguments,") failed:",C,y),F=A.SQLITE_IOERR_WRITE}return ue(),F}},qe={xAccess:function(j,S,x,b){le("xAccess");const y=oe("xAccess",R.cstrToJs(S));return R.poke(b,y?0:1,"i32"),ue(),0},xCurrentTime:function(j,S){return R.poke(S,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(j,S){return R.poke(S,21086676e7+new Date().getTime(),"i64"),0},xDelete:function(j,S,x){le("xDelete");const b=oe("xDelete",R.cstrToJs(S),x,!1);return ue(),b},xFullPathname:function(j,S,x,b){return R.cstrncpy(b,S,x)<x?0:A.SQLITE_CANTOPEN},xGetLastError:function(j,S,x){return U("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(j,S,x,b,y){le("xOpen");let F=0;S===0?S=ce():R.isPtr(S)&&(A.sqlite3_uri_boolean(S,"opfs-unlock-asap",0)&&(F|=N.opfsFlags.OPFS_UNLOCK_ASAP),A.sqlite3_uri_boolean(S,"delete-before-open",0)&&(F|=N.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),S=R.cstrToJs(S));const C=Object.create(null);C.fid=x,C.filename=S,C.sab=new SharedArrayBuffer(N.fileBufferSize),C.flags=b;const W=oe("xOpen",x,S,b,F);return W||(C.readOnly&&R.poke(y,A.SQLITE_OPEN_READONLY,"i32"),ie[x]=C,C.sabView=N.sabFileBufView,C.sq3File=new I(x),C.sq3File.$pMethods=h.pointer,C.lockType=A.SQLITE_LOCK_NONE),ue(),W}};if($&&(a.$xRandomness=$.$xRandomness,a.$xSleep=$.$xSleep),a.$xRandomness||(qe.xRandomness=function(j,S,x){const b=R.heap8u();let y=0;for(;y<S;++y)b[x+y]=255e3*Math.random()&255;return y}),a.$xSleep||(qe.xSleep=function(j,S){return Atomics.wait(N.sabOPView,N.opIds.xSleep,0,S),0}),d.getResolvedPath=function(j,S){const x=new URL(j,"file://irrelevant").pathname;return S?x.split("/").filter(b=>!!b):x},d.getDirForFilename=async function(j,S=!1){const x=d.getResolvedPath(j,!0),b=x.pop();let y=d.rootDirectory;for(const F of x)F&&(y=await y.getDirectoryHandle(F,{create:!!S}));return[y,b]},d.mkdir=async function(j){try{return await d.getDirForFilename(j+"/filepart",!0),!0}catch{return!1}},d.entryExists=async function(j){try{const[S,x]=await d.getDirForFilename(j);return await S.getFileHandle(x),!0}catch{return!1}},d.randomFilename=ce,d.treeList=async function(){const j=Object.create(null);return await async function S(x,b){b.name=x.name,b.dirs=[],b.files=[];for await(const y of x.values())if(y.kind==="directory"){const F=Object.create(null);b.dirs.push(F),await S(y,F)}else b.files.push(y.name)}(d.rootDirectory,j),j},d.rmfr=async function(){const j=d.rootDirectory,S={recurse:!0};for await(const x of j.values())j.removeEntry(x.name,S)},d.unlink=async function(j,S=!1,x=!1){try{const[b,y]=await d.getDirForFilename(j,!1);return await b.removeEntry(y,{recursive:S}),!0}catch(b){if(x)throw new Error("unlink(",arguments[0],") failed: "+b.message,{cause:b});return!1}},d.traverse=async function(j){const S={recursive:!0,directory:d.rootDirectory};typeof j=="function"&&(j={callback:j}),async function x(b,y){for await(const F of b.values()){if(j.callback(F,b,y)===!1)return!1;if(j.recursive&&F.kind==="directory"&&await x(F,y+1)===!1)break}}((j=Object.assign(S,j||{})).directory,0)},d.importDb=async function(j,S){if(S instanceof Function)return async function(W,X){const[J,Ie]=await d.getDirForFilename(W,!0),xe=await J.getFileHandle(Ie,{create:!0});let fe,Ae=await xe.createSyncAccessHandle(),ke=0,Fe=!1;try{for(Ae.truncate(0);(fe=await X())!==void 0;)fe instanceof ArrayBuffer&&(fe=new Uint8Array(fe)),ke===0&&fe.byteLength>=15&&(z.affirmDbHeader(fe),Fe=!0),Ae.write(fe,{at:ke}),ke+=fe.byteLength;if((ke<512||ke%512!=0)&&T("Input size",ke,"is not correct for an SQLite database."),!Fe){const Pe=new Uint8Array(20);Ae.read(Pe,{at:0}),z.affirmDbHeader(Pe)}return Ae.write(new Uint8Array([1,1]),{at:18}),ke}catch(Pe){throw await Ae.close(),Ae=void 0,await J.removeEntry(Ie).catch(()=>{}),Pe}finally{Ae&&await Ae.close()}}(j,S);S instanceof ArrayBuffer&&(S=new Uint8Array(S)),z.affirmIsDb(S);const x=S.byteLength,[b,y]=await d.getDirForFilename(j,!0);let F,C=0;try{return F=await(await b.getFileHandle(y,{create:!0})).createSyncAccessHandle(),F.truncate(0),C=F.write(S,{at:0}),C!=x&&T("Expected to write "+x+" bytes but wrote "+C+"."),F.write(new Uint8Array([1,1]),{at:18}),C}catch(W){throw F&&(await F.close(),F=void 0),await b.removeEntry(y).catch(()=>{}),W}finally{F&&await F.close()}},n.oo1){const j=function(...S){const x=n.oo1.DB.dbCtorHelper.normalizeArgs(...S);x.vfs=a.$zName,n.oo1.DB.dbCtorHelper.call(this,x)};j.prototype=Object.create(n.oo1.DB.prototype),n.oo1.OpfsDb=j,j.importDb=d.importDb,n.oo1.DB.dbCtorHelper.setVfsPostOpenSql(a.pointer,function(S,x){x.capi.sqlite3_busy_timeout(S,1e4),x.capi.sqlite3_exec(S,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}k.onmessage=function({data:j}){var S;switch(j.type){case"opfs-unavailable":m(new Error(j.payload.join(" ")));break;case"opfs-async-loaded":k.postMessage({type:"opfs-async-init",args:N});break;case"opfs-async-inited":if(f===!0)break;try{n.vfs.installVfs({io:{struct:h,methods:ye},vfs:{struct:a,methods:qe}}),N.sabOPView=new Int32Array(N.sabOP),N.sabFileBufView=new Uint8Array(N.sabIO,0,N.fileBufferSize),N.sabS11nView=new Uint8Array(N.sabIO,N.sabS11nOffset,N.sabS11nSize),(()=>{if(N.s11n)return N.s11n;const x=new TextDecoder,b=new TextEncoder("utf-8"),y=new Uint8Array(N.sabIO,N.sabS11nOffset,N.sabS11nSize),F=new DataView(N.sabIO,N.sabS11nOffset,N.sabS11nSize);N.s11n=Object.create(null);const C=Object.create(null);C.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},C.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},C.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},C.string={id:4};const W=J=>C[typeof J]||T("Maintenance required: this value type cannot be serialized.",J),X=J=>{switch(J){case C.number.id:return C.number;case C.bigint.id:return C.bigint;case C.boolean.id:return C.boolean;case C.string.id:return C.string;default:T("Invalid type ID:",J)}};N.s11n.deserialize=function(J=!1){++Z.s11n.deserialize.count;const Ie=performance.now(),xe=y[0],fe=xe?[]:null;if(xe){const Ae=[];let ke,Fe,Pe,je=1;for(ke=0;ke<xe;++ke,++je)Ae.push(X(y[je]));for(ke=0;ke<xe;++ke){const st=Ae[ke];st.getter?(Pe=F[st.getter](je,N.littleEndian),je+=st.size):(Fe=F.getInt32(je,N.littleEndian),je+=4,Pe=x.decode(y.slice(je,je+Fe)),je+=Fe),fe.push(Pe)}}return J&&(y[0]=0),Z.s11n.deserialize.time+=performance.now()-Ie,fe},N.s11n.serialize=function(...J){const Ie=performance.now();if(++Z.s11n.serialize.count,J.length){const xe=[];let fe=0,Ae=1;for(y[0]=255&J.length;fe<J.length;++fe,++Ae)xe.push(W(J[fe])),y[Ae]=xe[fe].id;for(fe=0;fe<J.length;++fe){const ke=xe[fe];if(ke.setter)F[ke.setter](Ae,J[fe],N.littleEndian),Ae+=ke.size;else{const Fe=b.encode(J[fe]);F.setInt32(Ae,Fe.byteLength,N.littleEndian),Ae+=4,y.set(Fe,Ae),Ae+=Fe.byteLength}}}else y[0]=0;Z.s11n.serialize.time+=performance.now()-Ie},N.s11n})(),l.sanityChecks&&(U("Running sanity checks because of opfs-sanity-check URL arg..."),function(){const x=R.scopedAllocPush(),b=new I;try{const y=b.pointer,F=A.SQLITE_OPEN_CREATE|A.SQLITE_OPEN_READWRITE|A.SQLITE_OPEN_MAIN_DB,C=R.scopedAlloc(8),W="/sanity/check/file"+ce(8),X=R.scopedAllocCString(W);let J;if(N.s11n.serialize("This is ä string."),J=N.s11n.deserialize(),D("deserialize() says:",J),J[0]!=="This is ä string."&&T("String d13n error."),qe.xAccess(a.pointer,X,0,C),J=R.peek(C,"i32"),D("xAccess(",W,") exists ?=",J),J=qe.xOpen(a.pointer,X,y,F,C),D("open rc =",J,"state.sabOPView[xOpen] =",N.sabOPView[N.opIds.xOpen]),J!==0)return void G("open failed with code",J);qe.xAccess(a.pointer,X,0,C),J=R.peek(C,"i32"),J||T("xAccess() failed to detect file."),J=ye.xSync(b.pointer,0),J&&T("sync failed w/ rc",J),J=ye.xTruncate(b.pointer,1024),J&&T("truncate failed w/ rc",J),R.poke(C,0,"i64"),J=ye.xFileSize(b.pointer,C),J&&T("xFileSize failed w/ rc",J),D("xFileSize says:",R.peek(C,"i64")),J=ye.xWrite(b.pointer,X,10,1),J&&T("xWrite() failed!");const Ie=R.scopedAlloc(16);J=ye.xRead(b.pointer,Ie,6,2),R.poke(Ie+6,0);let xe=R.cstrToJs(Ie);D("xRead() got:",xe),xe!=="sanity"&&T("Unexpected xRead() value."),qe.xSleep&&(D("xSleep()ing before close()ing..."),qe.xSleep(a.pointer,2e3),D("waking up from xSleep()")),J=ye.xClose(y),D("xClose rc =",J,"sabOPView =",N.sabOPView),D("Deleting file:",W),qe.xDelete(a.pointer,X,4660),qe.xAccess(a.pointer,X,0,C),J=R.peek(C,"i32"),J&&T("Expecting 0 from xAccess(",W,") after xDelete()."),U("End of OPFS sanity checks.")}finally{b.dispose(),R.scopedAllocPop(x)}}()),globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&((S=navigator==null?void 0:navigator.storage)!=null&&S.getDirectory)?navigator.storage.getDirectory().then(x=>{k.onerror=k._originalOnError,delete k._originalOnError,n.opfs=d,d.rootDirectory=x,D("End of OPFS sqlite3_vfs setup.",a),w()}).catch(m):w()}catch(x){G(x),m(x)}break;default:{const x="Unexpected message from the OPFS async worker: "+JSON.stringify(j);G(x),m(new Error(x));break}}}}))};o.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async i=>{try{let l=o.defaultProxyUri;return i.scriptInfo.sqlite3Dir&&(o.defaultProxyUri=i.scriptInfo.sqlite3Dir+l),o().catch(c=>{i.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",c.message)})}catch(l){return i.config.error("installOpfsVfs() exception:",l),Promise.reject(l)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(n){var H,$,N,Z,oe,ce,ie,te,le,ue,ye,qe,It,S;const o=n.util.toss,i=n.util.toss3,l=Object.create(null),c=n.capi,E=n.util,q=n.wasm,L=512,Q=4096,O=c.SQLITE_OPEN_MAIN_DB|c.SQLITE_OPEN_MAIN_JOURNAL|c.SQLITE_OPEN_SUPER_JOURNAL|c.SQLITE_OPEN_WAL,P=".opaque",D=()=>Math.random().toString(36).slice(2),U=new TextDecoder,G=new TextEncoder,T=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),A=[n.config.error,n.config.warn,n.config.log],z=n.config.warn,R=new Map,B=x=>R.get(x),I=(x,b)=>{b?R.set(x,b):R.delete(x)},V=new Map,d=x=>V.get(x),h=(x,b)=>{b?V.set(x,b):V.delete(x)},a={xCheckReservedLock:function(x,b){const y=d(x);return y.log("xCheckReservedLock"),y.storeErr(),q.poke32(b,1),0},xClose:function(x){const b=d(x);b.storeErr();const y=b.getOFileForS3File(x);if(y)try{b.log(`xClose ${y.path}`),b.mapS3FileToOFile(x,!1),y.sah.flush(),y.flags&c.SQLITE_OPEN_DELETEONCLOSE&&b.deletePath(y.path)}catch(F){return b.storeErr(F,c.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(x){return c.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(x,b,y){return c.SQLITE_NOTFOUND},xFileSize:function(x,b){const y=d(x);y.log("xFileSize");const F=y.getOFileForS3File(x).sah.getSize()-Q;return q.poke64(b,BigInt(F)),0},xLock:function(x,b){const y=d(x);return y.log(`xLock ${b}`),y.storeErr(),y.getOFileForS3File(x).lockType=b,0},xRead:function(x,b,y,F){const C=d(x);C.storeErr();const W=C.getOFileForS3File(x);C.log(`xRead ${W.path} ${y} @ ${F}`);try{const X=W.sah.read(q.heap8u().subarray(b,b+y),{at:Q+Number(F)});return X<y?(q.heap8u().fill(0,b+X,b+y),c.SQLITE_IOERR_SHORT_READ):0}catch(X){return C.storeErr(X,c.SQLITE_IOERR)}},xSectorSize:function(x){return 4096},xSync:function(x,b){const y=d(x);y.log(`xSync ${b}`),y.storeErr();const F=y.getOFileForS3File(x);try{return F.sah.flush(),0}catch(C){return y.storeErr(C,c.SQLITE_IOERR)}},xTruncate:function(x,b){const y=d(x);y.log(`xTruncate ${b}`),y.storeErr();const F=y.getOFileForS3File(x);try{return F.sah.truncate(Q+Number(b)),0}catch(C){return y.storeErr(C,c.SQLITE_IOERR)}},xUnlock:function(x,b){const y=d(x);return y.log("xUnlock"),y.getOFileForS3File(x).lockType=b,0},xWrite:function(x,b,y,F){const C=d(x);C.storeErr();const W=C.getOFileForS3File(x);C.log(`xWrite ${W.path} ${y} ${F}`);try{return y===W.sah.write(q.heap8u().subarray(b,b+y),{at:Q+Number(F)})?0:o("Unknown write() failure.")}catch(X){return C.storeErr(X,c.SQLITE_IOERR)}}},f=new c.sqlite3_io_methods;f.$iVersion=1,n.vfs.installVfs({io:{struct:f,methods:a}});const m={xAccess:function(x,b,y,F){const C=B(x);C.storeErr();try{const W=C.getPath(b);q.poke32(F,C.hasFilename(W)?1:0)}catch{q.poke32(F,0)}return 0},xCurrentTime:function(x,b){return q.poke(b,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(x,b){return q.poke(b,21086676e7+new Date().getTime(),"i64"),0},xDelete:function(x,b,y){const F=B(x);F.log(`xDelete ${q.cstrToJs(b)}`),F.storeErr();try{return F.deletePath(F.getPath(b)),0}catch(C){return F.storeErr(C),c.SQLITE_IOERR_DELETE}},xFullPathname:function(x,b,y,F){return q.cstrncpy(F,b,y)<y?0:c.SQLITE_CANTOPEN},xGetLastError:function(x,b,y){const F=B(x),C=F.popErr();if(F.log(`xGetLastError ${b} e =`,C),C){const W=q.scopedAllocPush();try{const[X,J]=q.scopedAllocCString(C.message,!0);q.cstrncpy(y,X,b),J>b&&q.poke8(y+b-1,0)}catch{return c.SQLITE_NOMEM}finally{q.scopedAllocPop(W)}}return C?C.sqlite3Rc||c.SQLITE_IOERR:0},xOpen:function(x,b,y,F,C){const W=B(x);try{W.log(`xOpen ${q.cstrToJs(b)} ${F}`);const X=b&&q.peek8(b)?W.getPath(b):D();let J=W.getSAHForPath(X);!J&&F&c.SQLITE_OPEN_CREATE&&(W.getFileCount()<W.getCapacity()?(J=W.nextAvailableSAH(),W.setAssociatedPath(J,X,F)):o("SAH pool is full. Cannot create file",X)),J||o("file not found:",X);const Ie={path:X,flags:F,sah:J};W.mapS3FileToOFile(y,Ie),Ie.lockType=c.SQLITE_LOCK_NONE;const xe=new c.sqlite3_file(y);return xe.$pMethods=f.pointer,xe.dispose(),q.poke32(C,F),0}catch(X){return W.storeErr(X),c.SQLITE_CANTOPEN}}};class w{constructor(b=Object.create(null)){Re(this,qe);jn(this,"vfsDir");Re(this,H);Re(this,$);Re(this,N);Re(this,Z,new Map);Re(this,oe,new Map);Re(this,ce,new Set);Re(this,ie,new Map);Re(this,te,new Uint8Array(516));Re(this,le);Re(this,ue);Re(this,ye);We(this,ye,b.verbosity??T.verbosity),this.vfsName=b.name||T.name,We(this,ue,function(y){n.capi.sqlite3_vfs_find(y)&&i("VFS name is already registered:",y);const F=new c.sqlite3_vfs,C=c.sqlite3_vfs_find(null),W=C?new c.sqlite3_vfs(C):null;return F.$iVersion=2,F.$szOsFile=c.sqlite3_file.structInfo.sizeof,F.$mxPathname=L,F.addOnDispose(F.$zName=q.allocCString(y),()=>I(F.pointer,0)),W&&(F.$xRandomness=W.$xRandomness,F.$xSleep=W.$xSleep,W.dispose()),F.$xRandomness||m.xRandomness||(m.xRandomness=function(X,J,Ie){const xe=q.heap8u();let fe=0;for(;fe<J;++fe)xe[Ie+fe]=255e3*Math.random()&255;return fe}),F.$xSleep||m.xSleep||(m.xSleep=(X,J)=>0),n.vfs.installVfs({vfs:{struct:F,methods:m}}),F}(this.vfsName)),I(ee(this,ue).pointer,this),this.vfsDir=b.directory||"."+this.vfsName,We(this,le,new DataView(ee(this,te).buffer,ee(this,te).byteOffset)),this.isReady=this.reset(!!(b.clearOnInit??T.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(b.initialCapacity||T.initialCapacity)})}log(...b){xt(this,qe,It).call(this,2,...b)}warn(...b){xt(this,qe,It).call(this,1,...b)}error(...b){xt(this,qe,It).call(this,0,...b)}getVfs(){return ee(this,ue)}getCapacity(){return ee(this,Z).size}getFileCount(){return ee(this,oe).size}getFileNames(){const b=[],y=ee(this,oe).keys();for(const F of y)b.push(F);return b}async addCapacity(b){for(let y=0;y<b;++y){const F=D(),C=await ee(this,$).getFileHandle(F,{create:!0}),W=await C.createSyncAccessHandle();ee(this,Z).set(W,F),this.setAssociatedPath(W,"",0)}return this.getCapacity()}async reduceCapacity(b){let y=0;for(const F of Array.from(ee(this,ce))){if(y===b||this.getFileCount()===this.getCapacity())break;const C=ee(this,Z).get(F);F.close(),await ee(this,$).removeEntry(C),ee(this,Z).delete(F),ee(this,ce).delete(F),++y}return y}releaseAccessHandles(){for(const b of ee(this,Z).keys())b.close();ee(this,Z).clear(),ee(this,oe).clear(),ee(this,ce).clear()}async acquireAccessHandles(b){const y=[];for await(const[F,C]of ee(this,$))C.kind==="file"&&y.push([F,C]);return Promise.all(y.map(async([F,C])=>{try{const W=await C.createSyncAccessHandle();if(ee(this,Z).set(W,F),b)W.truncate(Q),this.setAssociatedPath(W,"",0);else{const X=this.getAssociatedPath(W);X?ee(this,oe).set(X,W):ee(this,ce).add(W)}}catch(W){throw this.storeErr(W),this.releaseAccessHandles(),W}}))}getAssociatedPath(b){b.read(ee(this,te),{at:0});const y=ee(this,le).getUint32(512);if(ee(this,te)[0]&&(y&c.SQLITE_OPEN_DELETEONCLOSE||!(y&O)))return z(`Removing file with unexpected flags ${y.toString(16)}`,ee(this,te)),this.setAssociatedPath(b,"",0),"";const F=new Uint32Array(2);b.read(F,{at:516});const C=this.computeDigest(ee(this,te));if(F.every((W,X)=>W===C[X])){const W=ee(this,te).findIndex(X=>X===0);return W===0&&b.truncate(Q),W?U.decode(ee(this,te).subarray(0,W)):""}return z("Disassociating file with bad digest."),this.setAssociatedPath(b,"",0),""}setAssociatedPath(b,y,F){const C=G.encodeInto(y,ee(this,te));L<=C.written+1&&o("Path too long:",y),ee(this,te).fill(0,C.written,L),ee(this,le).setUint32(512,F);const W=this.computeDigest(ee(this,te));b.write(ee(this,te),{at:0}),b.write(W,{at:516}),b.flush(),y?(ee(this,oe).set(y,b),ee(this,ce).delete(b)):(b.truncate(Q),ee(this,ce).add(b))}computeDigest(b){let y=3735928559,F=1103547991;for(const C of b)y=31*y+307*C,F=31*F+307*C;return new Uint32Array([y>>>0,F>>>0])}async reset(b){await this.isReady;let y,F=await navigator.storage.getDirectory();for(const C of this.vfsDir.split("/"))C&&(y=F,F=await F.getDirectoryHandle(C,{create:!0}));return We(this,H,F),We(this,N,y),We(this,$,await ee(this,H).getDirectoryHandle(P,{create:!0})),this.releaseAccessHandles(),this.acquireAccessHandles(b)}getPath(b){return q.isPtr(b)&&(b=q.cstrToJs(b)),(b instanceof URL?b:new URL(b,"file://localhost/")).pathname}deletePath(b){const y=ee(this,oe).get(b);return y&&(ee(this,oe).delete(b),this.setAssociatedPath(y,"",0)),!!y}storeErr(b,y){return b&&(b.sqlite3Rc=y||c.SQLITE_IOERR,this.error(b)),this.$error=b,y}popErr(){const b=this.$error;return this.$error=void 0,b}nextAvailableSAH(){const[b]=ee(this,ce).keys();return b}getOFileForS3File(b){return ee(this,ie).get(b)}mapS3FileToOFile(b,y){y?(ee(this,ie).set(b,y),h(b,this)):(ee(this,ie).delete(b),h(b,!1))}hasFilename(b){return ee(this,oe).has(b)}getSAHForPath(b){return ee(this,oe).get(b)}async removeVfs(){if(!ee(this,ue).pointer||!ee(this,$))return!1;c.sqlite3_vfs_unregister(ee(this,ue).pointer),ee(this,ue).dispose();try{this.releaseAccessHandles(),await ee(this,H).removeEntry(P,{recursive:!0}),We(this,$,void 0),await ee(this,N).removeEntry(ee(this,H).name,{recursive:!0}),We(this,H,We(this,N,void 0))}catch(b){n.config.error(this.vfsName,"removeVfs() failed:",b)}return!0}exportFile(b){const y=ee(this,oe).get(b)||o("File not found:",b),F=y.getSize()-Q,C=new Uint8Array(F>0?F:0);if(F>0){const W=y.read(C,{at:Q});W!=F&&o("Expected to read "+F+" bytes but read "+W+".")}return C}async importDbChunked(b,y){const F=ee(this,oe).get(b)||this.nextAvailableSAH()||o("No available handles to import to.");F.truncate(0);let C,W=0,X=!1;try{for(;(C=await y())!==void 0;)C instanceof ArrayBuffer&&(C=new Uint8Array(C)),W===0&&C.byteLength>=15&&(E.affirmDbHeader(C),X=!0),F.write(C,{at:Q+W}),W+=C.byteLength;if((W<512||W%512!=0)&&o("Input size",W,"is not correct for an SQLite database."),!X){const J=new Uint8Array(20);F.read(J,{at:0}),E.affirmDbHeader(J)}F.write(new Uint8Array([1,1]),{at:4114})}catch(J){throw this.setAssociatedPath(F,"",0),J}return this.setAssociatedPath(F,b,c.SQLITE_OPEN_MAIN_DB),W}importDb(b,y){if(y instanceof ArrayBuffer)y=new Uint8Array(y);else if(y instanceof Function)return this.importDbChunked(b,y);const F=ee(this,oe).get(b)||this.nextAvailableSAH()||o("No available handles to import to."),C=y.byteLength;(C<512||C%512!=0)&&o("Byte array size is invalid for an SQLite db.");const W="SQLite format 3";for(let J=0;J<15;++J)W.charCodeAt(J)!==y[J]&&o("Input does not contain an SQLite database header.");const X=F.write(y,{at:Q});return X!=C?(this.setAssociatedPath(F,"",0),o("Expected to write "+C+" bytes but wrote "+X+".")):(F.write(new Uint8Array([1,1]),{at:4114}),this.setAssociatedPath(F,b,c.SQLITE_OPEN_MAIN_DB)),X}}H=new WeakMap,$=new WeakMap,N=new WeakMap,Z=new WeakMap,oe=new WeakMap,ce=new WeakMap,ie=new WeakMap,te=new WeakMap,le=new WeakMap,ue=new WeakMap,ye=new WeakMap,qe=new WeakSet,It=function(b,...y){ee(this,ye)>b&&A[b](this.vfsName+":",...y)};class k{constructor(b){Re(this,S);We(this,S,b),this.vfsName=b.vfsName}async addCapacity(b){return ee(this,S).addCapacity(b)}async reduceCapacity(b){return ee(this,S).reduceCapacity(b)}getCapacity(){return ee(this,S).getCapacity(ee(this,S))}getFileCount(){return ee(this,S).getFileCount()}getFileNames(){return ee(this,S).getFileNames()}async reserveMinimumCapacity(b){const y=ee(this,S).getCapacity();return y<b?ee(this,S).addCapacity(b-y):y}exportFile(b){return ee(this,S).exportFile(b)}importDb(b,y){return ee(this,S).importDb(b,y)}async wipeFiles(){return ee(this,S).reset(!0)}unlink(b){return ee(this,S).deletePath(b)}async removeVfs(){return ee(this,S).removeVfs()}}S=new WeakMap,n.installOpfsSAHPoolVfs=async function(x=Object.create(null)){var y;const b=x.name||T.name;return l[b]?l[b]:globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&((y=navigator==null?void 0:navigator.storage)!=null&&y.getDirectory)?l[b]=(async()=>{const F=await navigator.storage.getDirectory(),C=".opfs-sahpool-sync-check-"+D(),W=await F.getFileHandle(C,{create:!0}),X=(await W.createSyncAccessHandle()).close();return await X,await F.removeEntry(C),X!=null&&X.then&&o("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0})().then(async function(){if(x.$testThrowInInit)throw x.$testThrowInInit;const F=new w(x);return F.isReady.then(async()=>{const C=new k(F);if(n.oo1){const W=n.oo1,X=F.getVfs(),J=function(...Ie){const xe=W.DB.dbCtorHelper.normalizeArgs(...Ie);xe.vfs=X.$zName,W.DB.dbCtorHelper.call(this,xe)};J.prototype=Object.create(W.DB.prototype),C.OpfsSAHPoolDb=J,W.DB.dbCtorHelper.setVfsPostOpenSql(X.pointer,function(Ie,xe){xe.capi.sqlite3_exec(Ie,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}return F.log("VFS initialized."),C}).catch(async C=>{throw await F.removeVfs().catch(()=>{}),C})}).catch(F=>l[b]=Promise.reject(F)):l[b]=Promise.reject(new Error("Missing required OPFS APIs."))}}),r!==void 0){const n=Object.assign(Object.create(null),{exports:typeof wasmExports>"u"?r.asm:wasmExports,memory:r.wasmMemory},globalThis.sqlite3ApiConfig||{});let o;globalThis.sqlite3ApiConfig=n;try{o=globalThis.sqlite3ApiBootstrap()}catch(i){throw console.error("sqlite3ApiBootstrap() error:",i),i}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}r.sqlite3=o}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),u.ready});ve=function(){var s,u;const g=ve;if(!g)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:(s=globalThis==null?void 0:globalThis.document)==null?void 0:s.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:(u=globalThis==null?void 0:globalThis.location)!=null&&u.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...t)=>console.warn("sqlite3.debugModule:",...t):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const t=e.moduleScript.src.split("/");t.pop(),e.sqlite3Dir=t.join("/")+"/"}if(globalThis.sqlite3InitModule=function t(...M){return g(...M).then(K=>{const se=K.sqlite3;se.scriptInfo=e,t.__isUnderTest&&(se.__isUnderTest=!0);const be=se.asyncPostInit;return delete se.asyncPostInit,be()}).catch(K=>{throw console.error("Exception loading sqlite3 module:",K),K})},globalThis.sqlite3InitModule.ready=g.ready,globalThis.sqlite3InitModuleState.moduleScript){const t=globalThis.sqlite3InitModuleState;let M=t.moduleScript.src.split("/");M.pop(),t.scriptDir=M.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();const $e=console.log,zn=console.error;let en=(mn=class{constructor(e){Re(this,Qt);Re(this,Wt);if(e===void 0)throw new Error("`sqliteObject` must be defined before calling constructor");this.sqlite3=e}static async init_module(e){return await ve({print:$e,printErr:zn,...e})}version(){return this.sqlite3.version}filename(e,s){return this.sqlite3.capi.sqlite3_db_filename(e,s)}extended_errcode(e){return this.sqlite3.capi.sqlite3_extended_errcode(e)}errstr(e){return this.sqlite3.capi.sqlite3_errstr(e)}errmsg(e){return this.sqlite3.capi.sqlite3_errmsg(e)}result_js(e,s){return this.sqlite3.capi.sqlite3_result_js(e,s)}result_text(e,s){return this.sqlite3.capi.sqlite3_result_text(e,s)}result_int(e,s){return this.sqlite3.capi.sqlite3_result_int(e,s)}result_int64(e,s){return this.sqlite3.capi.sqlite3_result_int64(e,s)}result_double(e,s){return this.sqlite3.capi.sqlite3_result_double(e,s)}result_blob(e,s){return this.sqlite3.capi.sqlite3_result_blob(e,s)}result_null(e){return this.sqlite3.capi.sqlite3_result_null(e)}bind_blob(e,s,u,t,M){return this.sqlite3.capi.sqlite3_bind_blob(e,s,u,t,M)}bind_text(e,s,u,t,M){return this.sqlite3.capi.sqlite3_bind_text(e,s,u,t,M)}bind_double(e,s,u){return this.sqlite3.capi.sqlite3_bind_double(e,s,u)}bind_int(e,s,u){return this.sqlite3.capi.sqlite3_bind_int(e,s,u)}bind_int64(e,s,u){return this.sqlite3.capi.sqlite3_bind_int64(e,s,u)}bind_null(e,s){return this.sqlite3.capi.sqlite3_bind_null(e,s),this.sqlite3.capi.SQLITE_OK}bind_parameter_count(e){return this.sqlite3.capi.sqlite3_bind_parameter_count(e)}bind_parameter_name(e,s){return this.sqlite3.capi.sqlite3_bind_paramater_name(e,it)}value_dup(e){return this.sqlite3.capi.sqlite3_value_dup(e)}value_blob(e){return this.sqlite3.capi.sqlite3_value_blob(e)}value_bytes(e){return this.sqlite3.capi.sqlite3_value_bytes(e)}value_double(e){return this.sqlite3.capi.sqlite3_value_double(e)}value_int(e){return this.sqlite3.capi.sqlite3_value_int(e)}value_int64(e){return this.sqlite3.capi.sqlite3_value_int64(e)}value_text(e){return this.sqlite3.capi.sqlite3_value_text(e)}value_type(e){return this.sqlite3.capi.sqlite3_value_type(e)}open(e,s){try{return new this.sqlite3.oo1.OpfsDb(e)}catch(u){throw console.log("OPFS open error",u),u}}exec(e,s){try{return e.exec(s,{callback:u=>{}})}catch(u){throw u}}finalize(e){return this.sqlite3.capi.sqlite3_finalize(e)}changes(e){return this.sqlite3.capi.sqlite3_changes(e)}clear_bindings(e){return this.sqlite3.capi.sqlite3_clear_bindings(e)}reset(e){return this.sqlite3.capi.sqlite3_reset(e)}close(e){return this.sqlite3.capi.sqlite3_close_v2(e.pointer)}db_handle(e){return this.sqlite3.capi.sqlite3_db_handle(e)}prepare_v3(e,s,u,t,M,K){return this.sqlite3.capi.sqlite3_prepare_v3(e.pointer,s,u,t,M,K)}step(e){return this.sqlite3.capi.sqlite3_step(e)}column_value(e,s){return this.sqlite3.capi.sqlite3_column_value(e,s)}column_name(e,s){return this.sqlite3.capi.sqlite3_column_name(e,s)}column_count(e){return this.sqlite3.capi.sqlite3_column_count(e)}create_function(e,s,u,t,M,K,se,be){try{this.sqlite3.capi.sqlite3_create_function(e,s,u,t,M,K,se,be),console.log("create function")}catch(Oe){throw console.log("create function err"),Oe}}register_diesel_sql_functions(e){try{this.sqlite3.capi.sqlite3_create_function(e,"diesel_manage_updated_at",1,this.sqlite3.capi.SQLITE_UTF8,0,async(s,u)=>{const t=this.sqlite3.value_text(u[0]);e.exec(s,`CREATE TRIGGER __diesel_manage_updated_at_${t}
            AFTER UPDATE ON ${t}
            FOR EACH ROW WHEN
              old.updated_at IS NULL AND
              new.updated_at IS NULL OR
              old.updated_at == new.updated_at
            BEGIN
            UPDATE ${t}
            SET updated_at = CURRENT_TIMESTAMP
            WHERE ROWID = new.ROWID;
            END`,M=>{$e("------------------------------------"),$e(`Created trigger for ${t}`),$e(M),$e("------------------------------------")})})}catch(s){throw console.log("error creating diesel trigger"),s}}value_free(e){return this.sqlite3.capi.sqlite3_value_free(e)}sqlite3_serialize(e,s,u,t){try{return this.sqlite3.capi.sqlite3_serialize(e,s,u,t)}catch(M){throw console.log("error serializing"),M}}sqlite3_deserialize(e,s,u,t,M,K){try{return this.sqlite3.capi.sqlite3_deserialize(e,s,u,t,M,K)}catch(se){throw console.log("error deserializing"),se}}sqlite3_free(e,s){return this.sqlite3.capi.sqlite3_free(s)}},Qt=new WeakMap,Wt=new WeakMap,mn),p;const tn=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&tn.decode();let ct=null;function bt(){return(ct===null||ct.byteLength===0)&&(ct=new Uint8Array(p.memory.buffer)),ct}function ae(g,e){return g=g>>>0,tn.decode(bt().subarray(g,g+e))}function ne(g){return g==null}let Ye=null;function Ee(){return(Ye===null||Ye.buffer.detached===!0||Ye.buffer.detached===void 0&&Ye.buffer!==p.memory.buffer)&&(Ye=new DataView(p.memory.buffer)),Ye}let Y=0;const ht=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Bn=typeof ht.encodeInto=="function"?function(g,e){return ht.encodeInto(g,e)}:function(g,e){const s=ht.encode(g);return e.set(s),{read:g.length,written:s.length}};function re(g,e,s){if(s===void 0){const se=ht.encode(g),be=e(se.length,1)>>>0;return bt().subarray(be,be+se.length).set(se),Y=se.length,be}let u=g.length,t=e(u,1)>>>0;const M=bt();let K=0;for(;K<u;K++){const se=g.charCodeAt(K);if(se>127)break;M[t+K]=se}if(K!==u){K!==0&&(g=g.slice(K)),t=s(t,u,u=K+g.length*3,1)>>>0;const se=bt().subarray(t+K,t+u),be=Bn(g,se);K+=be.written,t=s(t,u,K,1)>>>0}return Y=K,t}function At(g){const e=typeof g;if(e=="number"||e=="boolean"||g==null)return`${g}`;if(e=="string")return`"${g}"`;if(e=="symbol"){const t=g.description;return t==null?"Symbol":`Symbol(${t})`}if(e=="function"){const t=g.name;return typeof t=="string"&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(g)){const t=g.length;let M="[";t>0&&(M+=At(g[0]));for(let K=1;K<t;K++)M+=", "+At(g[K]);return M+="]",M}const s=/\[object ([^\]]+)\]/.exec(toString.call(g));let u;if(s.length>1)u=s[1];else return toString.call(g);if(u=="Object")try{return"Object("+JSON.stringify(g)+")"}catch{return"Object"}return g instanceof Error?`${g.name}: ${g.message}
${g.stack}`:u}const nn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>{p.__wbindgen_export_3.get(g.dtor)(g.a,g.b)});function rn(g,e,s,u){const t={a:g,b:e,cnt:1,dtor:s},M=(...K)=>{t.cnt++;const se=t.a;t.a=0;try{return u(se,t.b,...K)}finally{--t.cnt===0?(p.__wbindgen_export_3.get(t.dtor)(se,t.b),nn.unregister(t)):t.a=se}};return M.original=t,nn.register(M,t,t),M}function Un(g,e){p._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__ha602f13c6f6f57bd(g,e)}function Qn(g,e,s){p.closure2327_externref_shim(g,e,s)}function Se(g){const e=p.__wbindgen_export_2.get(g);return p.__externref_table_dealloc(g),e}function wt(g){const e=p.__externref_table_alloc();return p.__wbindgen_export_2.set(e,g),e}function ze(g,e){if(!(g instanceof e))throw new Error(`expected instance of ${e.name}`);return g.ptr}function De(g,e){const s=e(g.length*4,4)>>>0,u=Ee();for(let t=0;t<g.length;t++)u.setUint32(s+4*t,wt(g[t]),!0);return Y=g.length,s}function Wn(g,e){const s=re(g,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y,t=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),M=Y;return p.getInboxIdForAddress(s,u,t,M)}function Hn(g){let e,s;try{const M=re(g,p.__wbindgen_malloc,p.__wbindgen_realloc),K=Y,se=p.generateInboxId(M,K);var u=se[0],t=se[1];if(se[3])throw u=0,t=0,Se(se[2]);return e=u,s=t,ae(u,t)}finally{p.__wbindgen_free(e,s,1)}}function ot(g,e){g=g>>>0;const s=Ee(),u=[];for(let t=g;t<g+4*e;t+=4)u.push(p.__wbindgen_export_2.get(s.getUint32(t,!0)));return p.__externref_drop_slice(g,e),u}function me(g,e){try{return g.apply(this,e)}catch(s){const u=wt(s);p.__wbindgen_exn_store(u)}}function Be(g){return()=>{throw new Error(`${g} is not defined`)}}function Gn(g,e,s,u){p.closure3395_externref_shim(g,e,s,u)}const Vn=["omit","same-origin","include"],$n=["same-origin","no-cors","cors","navigate"],sn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_client_free(g>>>0,1));class Tt{static __wrap(e){e=e>>>0;const s=Object.create(Tt.prototype);return s.__wbg_ptr=e,sn.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,sn.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_client_free(e,0)}get accountAddress(){let e,s;try{const u=p.client_accountAddress(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}get inboxId(){let e,s;try{const u=p.client_inboxId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}get isRegistered(){return p.client_isRegistered(this.__wbg_ptr)!==0}get installationId(){let e,s;try{const u=p.client_installationId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}get installationIdBytes(){return p.client_installationIdBytes(this.__wbg_ptr)}canMessage(e){const s=De(e,p.__wbindgen_malloc),u=Y;return p.client_canMessage(this.__wbg_ptr,s,u)}registerIdentity(){return p.client_registerIdentity(this.__wbg_ptr)}sendHistorySyncRequest(){return p.client_sendHistorySyncRequest(this.__wbg_ptr)}sendConsentSyncRequest(){return p.client_sendConsentSyncRequest(this.__wbg_ptr)}findInboxIdByAddress(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.client_findInboxIdByAddress(this.__wbg_ptr,s,u)}conversations(){const e=p.client_conversations(this.__wbg_ptr);return Ot.__wrap(e)}createInboxSignatureText(){return p.client_createInboxSignatureText(this.__wbg_ptr)}addWalletSignatureText(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.client_addWalletSignatureText(this.__wbg_ptr,s,u)}revokeWalletSignatureText(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.client_revokeWalletSignatureText(this.__wbg_ptr,s,u)}revokeInstallationsSignatureText(){return p.client_revokeInstallationsSignatureText(this.__wbg_ptr)}addSignature(e,s){return p.client_addSignature(this.__wbg_ptr,e,s)}addScwSignature(e,s,u,t){return p.client_addScwSignature(this.__wbg_ptr,e,s,u,!ne(t),ne(t)?BigInt(0):t)}applySignatureRequests(){return p.client_applySignatureRequests(this.__wbg_ptr)}signWithInstallationKey(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y,t=p.client_signWithInstallationKey(this.__wbg_ptr,s,u);if(t[2])throw Se(t[1]);return Se(t[0])}verifySignedWithInstallationKey(e,s){const u=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),t=Y,M=p.client_verifySignedWithInstallationKey(this.__wbg_ptr,u,t,s);if(M[1])throw Se(M[0])}setConsentStates(e){const s=De(e,p.__wbindgen_malloc),u=Y;return p.client_setConsentStates(this.__wbg_ptr,s,u)}getConsentState(e,s){const u=re(s,p.__wbindgen_malloc,p.__wbindgen_realloc),t=Y;return p.client_getConsentState(this.__wbg_ptr,e,u,t)}inboxState(e){return p.client_inboxState(this.__wbg_ptr,e)}getLatestInboxState(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.client_getLatestInboxState(this.__wbg_ptr,s,u)}}const on=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_consent_free(g>>>0,1));class kt{static __unwrap(e){return e instanceof kt?e.__destroy_into_raw():0}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,on.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_consent_free(e,0)}get entityType(){return p.__wbg_get_consent_entityType(this.__wbg_ptr)}set entityType(e){p.__wbg_set_consent_entityType(this.__wbg_ptr,e)}get state(){return p.__wbg_get_consent_state(this.__wbg_ptr)}set state(e){p.__wbg_set_consent_state(this.__wbg_ptr,e)}get entity(){let e,s;try{const u=p.__wbg_get_consent_entity(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set entity(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_consent_entity(this.__wbg_ptr,s,u)}constructor(e,s,u){const t=re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),M=Y,K=p.consent_new(e,s,t,M);return this.__wbg_ptr=K>>>0,on.register(this,this.__wbg_ptr,this),this}}const Ft=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_contenttypeid_free(g>>>0,1));class ut{static __wrap(e){e=e>>>0;const s=Object.create(ut.prototype);return s.__wbg_ptr=e,Ft.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Ft.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_contenttypeid_free(e,0)}get authorityId(){let e,s;try{const u=p.__wbg_get_contenttypeid_authorityId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set authorityId(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_consent_entity(this.__wbg_ptr,s,u)}get typeId(){let e,s;try{const u=p.__wbg_get_contenttypeid_typeId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set typeId(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_contenttypeid_typeId(this.__wbg_ptr,s,u)}get versionMajor(){return p.__wbg_get_contenttypeid_versionMajor(this.__wbg_ptr)>>>0}set versionMajor(e){p.__wbg_set_contenttypeid_versionMajor(this.__wbg_ptr,e)}get versionMinor(){return p.__wbg_get_contenttypeid_versionMinor(this.__wbg_ptr)>>>0}set versionMinor(e){p.__wbg_set_contenttypeid_versionMinor(this.__wbg_ptr,e)}constructor(e,s,u,t){const M=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),K=Y,se=re(s,p.__wbindgen_malloc,p.__wbindgen_realloc),be=Y,Oe=p.contenttypeid_new(M,K,se,be,u,t);return this.__wbg_ptr=Oe>>>0,Ft.register(this,this.__wbg_ptr,this),this}}const an=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_conversation_free(g>>>0,1));class ft{static __wrap(e){e=e>>>0;const s=Object.create(ft.prototype);return s.__wbg_ptr=e,an.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,an.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_conversation_free(e,0)}consentState(){const e=p.conversation_consentState(this.__wbg_ptr);if(e[2])throw Se(e[1]);return e[0]}updateConsentState(e){const s=p.conversation_updateConsentState(this.__wbg_ptr,e);if(s[1])throw Se(s[0])}id(){let e,s;try{const u=p.conversation_id(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}send(e){ze(e,Ze);var s=e.__destroy_into_raw();return p.conversation_send(this.__wbg_ptr,s)}sendOptimistic(e){let s,u;try{ze(e,Ze);var t=e.__destroy_into_raw();const se=p.conversation_sendOptimistic(this.__wbg_ptr,t);var M=se[0],K=se[1];if(se[3])throw M=0,K=0,Se(se[2]);return s=M,u=K,ae(M,K)}finally{p.__wbindgen_free(s,u,1)}}publishMessages(){return p.conversation_publishMessages(this.__wbg_ptr)}sync(){return p.conversation_sync(this.__wbg_ptr)}findMessages(e){let s=0;ne(e)||(ze(e,Jn),s=e.__destroy_into_raw());const u=p.conversation_findMessages(this.__wbg_ptr,s);if(u[3])throw Se(u[2]);var t=ot(u[0],u[1]).slice();return p.__wbindgen_free(u[0],u[1]*4,4),t}listMembers(){return p.conversation_listMembers(this.__wbg_ptr)}adminList(){const e=p.conversation_adminList(this.__wbg_ptr);if(e[3])throw Se(e[2]);var s=ot(e[0],e[1]).slice();return p.__wbindgen_free(e[0],e[1]*4,4),s}superAdminList(){const e=p.conversation_superAdminList(this.__wbg_ptr);if(e[3])throw Se(e[2]);var s=ot(e[0],e[1]).slice();return p.__wbindgen_free(e[0],e[1]*4,4),s}isAdmin(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y,t=p.conversation_isAdmin(this.__wbg_ptr,s,u);if(t[2])throw Se(t[1]);return t[0]!==0}isSuperAdmin(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y,t=p.conversation_isSuperAdmin(this.__wbg_ptr,s,u);if(t[2])throw Se(t[1]);return t[0]!==0}addMembers(e){const s=De(e,p.__wbindgen_malloc),u=Y;return p.conversation_addMembers(this.__wbg_ptr,s,u)}addAdmin(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_addAdmin(this.__wbg_ptr,s,u)}removeAdmin(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_removeAdmin(this.__wbg_ptr,s,u)}addSuperAdmin(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_addSuperAdmin(this.__wbg_ptr,s,u)}removeSuperAdmin(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_removeSuperAdmin(this.__wbg_ptr,s,u)}groupPermissions(){const e=p.conversation_groupPermissions(this.__wbg_ptr);if(e[2])throw Se(e[1]);return Nt.__wrap(e[0])}addMembersByInboxId(e){const s=De(e,p.__wbindgen_malloc),u=Y;return p.conversation_addMembersByInboxId(this.__wbg_ptr,s,u)}removeMembers(e){const s=De(e,p.__wbindgen_malloc),u=Y;return p.conversation_removeMembers(this.__wbg_ptr,s,u)}removeMembersByInboxId(e){const s=De(e,p.__wbindgen_malloc),u=Y;return p.conversation_removeMembersByInboxId(this.__wbg_ptr,s,u)}updateGroupName(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_updateGroupName(this.__wbg_ptr,s,u)}groupName(){let e,s;try{const M=p.conversation_groupName(this.__wbg_ptr);var u=M[0],t=M[1];if(M[3])throw u=0,t=0,Se(M[2]);return e=u,s=t,ae(u,t)}finally{p.__wbindgen_free(e,s,1)}}updateGroupImageUrlSquare(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_updateGroupImageUrlSquare(this.__wbg_ptr,s,u)}groupImageUrlSquare(){let e,s;try{const M=p.conversation_groupImageUrlSquare(this.__wbg_ptr);var u=M[0],t=M[1];if(M[3])throw u=0,t=0,Se(M[2]);return e=u,s=t,ae(u,t)}finally{p.__wbindgen_free(e,s,1)}}updateGroupDescription(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_updateGroupDescription(this.__wbg_ptr,s,u)}groupDescription(){let e,s;try{const M=p.conversation_groupDescription(this.__wbg_ptr);var u=M[0],t=M[1];if(M[3])throw u=0,t=0,Se(M[2]);return e=u,s=t,ae(u,t)}finally{p.__wbindgen_free(e,s,1)}}updateGroupPinnedFrameUrl(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversation_updateGroupPinnedFrameUrl(this.__wbg_ptr,s,u)}groupPinnedFrameUrl(){let e,s;try{const M=p.conversation_groupPinnedFrameUrl(this.__wbg_ptr);var u=M[0],t=M[1];if(M[3])throw u=0,t=0,Se(M[2]);return e=u,s=t,ae(u,t)}finally{p.__wbindgen_free(e,s,1)}}createdAtNs(){return p.conversation_createdAtNs(this.__wbg_ptr)}isActive(){const e=p.conversation_isActive(this.__wbg_ptr);if(e[2])throw Se(e[1]);return e[0]!==0}addedByInboxId(){let e,s;try{const M=p.conversation_addedByInboxId(this.__wbg_ptr);var u=M[0],t=M[1];if(M[3])throw u=0,t=0,Se(M[2]);return e=u,s=t,ae(u,t)}finally{p.__wbindgen_free(e,s,1)}}groupMetadata(){const e=p.conversation_groupMetadata(this.__wbg_ptr);if(e[2])throw Se(e[1]);return Lt.__wrap(e[0])}dmPeerInboxId(){let e,s;try{const M=p.conversation_dmPeerInboxId(this.__wbg_ptr);var u=M[0],t=M[1];if(M[3])throw u=0,t=0,Se(M[2]);return e=u,s=t,ae(u,t)}finally{p.__wbindgen_free(e,s,1)}}}const ln=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_conversations_free(g>>>0,1));class Ot{static __wrap(e){e=e>>>0;const s=Object.create(Ot.prototype);return s.__wbg_ptr=e,ln.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ln.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_conversations_free(e,0)}createGroup(e,s){const u=De(e,p.__wbindgen_malloc),t=Y;let M=0;return ne(s)||(ze(s,Kn),M=s.__destroy_into_raw()),p.conversations_createGroup(this.__wbg_ptr,u,t,M)}createDm(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;return p.conversations_createDm(this.__wbg_ptr,s,u)}findGroupById(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y,t=p.conversations_findGroupById(this.__wbg_ptr,s,u);if(t[2])throw Se(t[1]);return ft.__wrap(t[0])}findDmByTargetInboxId(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y,t=p.conversations_findDmByTargetInboxId(this.__wbg_ptr,s,u);if(t[2])throw Se(t[1]);return ft.__wrap(t[0])}findMessageById(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y,t=p.conversations_findMessageById(this.__wbg_ptr,s,u);if(t[2])throw Se(t[1]);return yt.__wrap(t[0])}sync(){return p.conversations_sync(this.__wbg_ptr)}syncAllConversations(){return p.conversations_syncAllConversations(this.__wbg_ptr)}list(e){let s=0;return ne(e)||(ze(e,Mt),s=e.__destroy_into_raw()),p.conversations_list(this.__wbg_ptr,s)}listGroups(e){let s=0;return ne(e)||(ze(e,Mt),s=e.__destroy_into_raw()),p.conversations_listGroups(this.__wbg_ptr,s)}listDms(e){let s=0;return ne(e)||(ze(e,Mt),s=e.__destroy_into_raw()),p.conversations_listDms(this.__wbg_ptr,s)}}const _n=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_creategroupoptions_free(g>>>0,1));class Kn{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,_n.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_creategroupoptions_free(e,0)}get permissions(){const e=p.__wbg_get_creategroupoptions_permissions(this.__wbg_ptr);return e===3?void 0:e}set permissions(e){p.__wbg_set_creategroupoptions_permissions(this.__wbg_ptr,ne(e)?3:e)}get groupName(){const e=p.__wbg_get_creategroupoptions_groupName(this.__wbg_ptr);let s;return e[0]!==0&&(s=ae(e[0],e[1]).slice(),p.__wbindgen_free(e[0],e[1]*1,1)),s}set groupName(e){var s=ne(e)?0:re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_creategroupoptions_groupName(this.__wbg_ptr,s,u)}get groupImageUrlSquare(){const e=p.__wbg_get_creategroupoptions_groupImageUrlSquare(this.__wbg_ptr);let s;return e[0]!==0&&(s=ae(e[0],e[1]).slice(),p.__wbindgen_free(e[0],e[1]*1,1)),s}set groupImageUrlSquare(e){var s=ne(e)?0:re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_creategroupoptions_groupImageUrlSquare(this.__wbg_ptr,s,u)}get groupDescription(){const e=p.__wbg_get_creategroupoptions_groupDescription(this.__wbg_ptr);let s;return e[0]!==0&&(s=ae(e[0],e[1]).slice(),p.__wbindgen_free(e[0],e[1]*1,1)),s}set groupDescription(e){var s=ne(e)?0:re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_creategroupoptions_groupDescription(this.__wbg_ptr,s,u)}get groupPinnedFrameUrl(){const e=p.__wbg_get_creategroupoptions_groupPinnedFrameUrl(this.__wbg_ptr);let s;return e[0]!==0&&(s=ae(e[0],e[1]).slice(),p.__wbindgen_free(e[0],e[1]*1,1)),s}set groupPinnedFrameUrl(e){var s=ne(e)?0:re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_creategroupoptions_groupPinnedFrameUrl(this.__wbg_ptr,s,u)}constructor(e,s,u,t,M){var K=ne(s)?0:re(s,p.__wbindgen_malloc,p.__wbindgen_realloc),se=Y,be=ne(u)?0:re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),Oe=Y,He=ne(t)?0:re(t,p.__wbindgen_malloc,p.__wbindgen_realloc),Ke=Y,Je=ne(M)?0:re(M,p.__wbindgen_malloc,p.__wbindgen_realloc),Ue=Y;const Ce=p.creategroupoptions_new(ne(e)?3:e,K,se,be,Oe,He,Ke,Je,Ue);return this.__wbg_ptr=Ce>>>0,_n.register(this,this.__wbg_ptr,this),this}}const Pt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_encodedcontent_free(g>>>0,1));class Ze{static __wrap(e){e=e>>>0;const s=Object.create(Ze.prototype);return s.__wbg_ptr=e,Pt.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Pt.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_encodedcontent_free(e,0)}get type(){const e=p.__wbg_get_encodedcontent_type(this.__wbg_ptr);return e===0?void 0:ut.__wrap(e)}set type(e){let s=0;ne(e)||(ze(e,ut),s=e.__destroy_into_raw()),p.__wbg_set_encodedcontent_type(this.__wbg_ptr,s)}get parameters(){return p.__wbg_get_encodedcontent_parameters(this.__wbg_ptr)}set parameters(e){p.__wbg_set_encodedcontent_parameters(this.__wbg_ptr,e)}get fallback(){const e=p.__wbg_get_encodedcontent_fallback(this.__wbg_ptr);let s;return e[0]!==0&&(s=ae(e[0],e[1]).slice(),p.__wbindgen_free(e[0],e[1]*1,1)),s}set fallback(e){var s=ne(e)?0:re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_encodedcontent_fallback(this.__wbg_ptr,s,u)}get compression(){const e=p.__wbg_get_encodedcontent_compression(this.__wbg_ptr);return e[0]===0?void 0:e[1]}set compression(e){p.__wbg_set_encodedcontent_compression(this.__wbg_ptr,!ne(e),ne(e)?0:e)}get content(){return p.__wbg_get_encodedcontent_content(this.__wbg_ptr)}set content(e){p.__wbg_set_encodedcontent_content(this.__wbg_ptr,e)}constructor(e,s,u,t,M){let K=0;ne(e)||(ze(e,ut),K=e.__destroy_into_raw());var se=ne(u)?0:re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),be=Y;const Oe=p.encodedcontent_new(K,s,se,be,!ne(t),ne(t)?0:t,M);return this.__wbg_ptr=Oe>>>0,Pt.register(this,this.__wbg_ptr,this),this}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(g=>p.__wbg_groupmember_free(g>>>0,1));const cn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_groupmetadata_free(g>>>0,1));class Lt{static __wrap(e){e=e>>>0;const s=Object.create(Lt.prototype);return s.__wbg_ptr=e,cn.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,cn.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_groupmetadata_free(e,0)}creatorInboxId(){let e,s;try{const u=p.groupmetadata_creatorInboxId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}conversationType(){let e,s;try{const u=p.groupmetadata_conversationType(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}}const un=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_grouppermissions_free(g>>>0,1));class Nt{static __wrap(e){e=e>>>0;const s=Object.create(Nt.prototype);return s.__wbg_ptr=e,un.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,un.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_grouppermissions_free(e,0)}policyType(){const e=p.grouppermissions_policyType(this.__wbg_ptr);if(e[2])throw Se(e[1]);return e[0]}policySet(){const e=p.grouppermissions_policySet(this.__wbg_ptr);if(e[2])throw Se(e[1]);return Bt.__wrap(e[0])}}const Rt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_inboxstate_free(g>>>0,1));class Ct{static __wrap(e){e=e>>>0;const s=Object.create(Ct.prototype);return s.__wbg_ptr=e,Rt.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Rt.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_inboxstate_free(e,0)}get inboxId(){let e,s;try{const u=p.__wbg_get_inboxstate_inboxId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set inboxId(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_groupmember_inboxId(this.__wbg_ptr,s,u)}get recoveryAddress(){let e,s;try{const u=p.__wbg_get_inboxstate_recoveryAddress(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set recoveryAddress(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_inboxstate_recoveryAddress(this.__wbg_ptr,s,u)}get installations(){const e=p.__wbg_get_inboxstate_installations(this.__wbg_ptr);var s=ot(e[0],e[1]).slice();return p.__wbindgen_free(e[0],e[1]*4,4),s}set installations(e){const s=De(e,p.__wbindgen_malloc),u=Y;p.__wbg_set_inboxstate_installations(this.__wbg_ptr,s,u)}get accountAddresses(){const e=p.__wbg_get_inboxstate_accountAddresses(this.__wbg_ptr);var s=ot(e[0],e[1]).slice();return p.__wbindgen_free(e[0],e[1]*4,4),s}set accountAddresses(e){const s=De(e,p.__wbindgen_malloc),u=Y;p.__wbg_set_inboxstate_accountAddresses(this.__wbg_ptr,s,u)}constructor(e,s,u,t){const M=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),K=Y,se=re(s,p.__wbindgen_malloc,p.__wbindgen_realloc),be=Y,Oe=De(u,p.__wbindgen_malloc),He=Y,Ke=De(t,p.__wbindgen_malloc),Je=Y,Ue=p.inboxstate_new(M,K,se,be,Oe,He,Ke,Je);return this.__wbg_ptr=Ue>>>0,Rt.register(this,this.__wbg_ptr,this),this}}const Dt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_installation_free(g>>>0,1));class pt{static __wrap(e){e=e>>>0;const s=Object.create(pt.prototype);return s.__wbg_ptr=e,Dt.register(s,s.__wbg_ptr,s),s}static __unwrap(e){return e instanceof pt?e.__destroy_into_raw():0}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Dt.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_installation_free(e,0)}get id(){let e,s;try{const u=p.__wbg_get_installation_id(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set id(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_installation_id(this.__wbg_ptr,s,u)}get clientTimestampNs(){const e=p.__wbg_get_installation_clientTimestampNs(this.__wbg_ptr);return e[0]===0?void 0:BigInt.asUintN(64,e[1])}set clientTimestampNs(e){p.__wbg_set_installation_clientTimestampNs(this.__wbg_ptr,!ne(e),ne(e)?BigInt(0):e)}constructor(e,s){const u=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),t=Y,M=p.installation_new(u,t,!ne(s),ne(s)?BigInt(0):s);return this.__wbg_ptr=M>>>0,Dt.register(this,this.__wbg_ptr,this),this}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(g=>p.__wbg_intounderlyingbytesource_free(g>>>0,1)),typeof FinalizationRegistry>"u"||new FinalizationRegistry(g=>p.__wbg_intounderlyingsink_free(g>>>0,1)),typeof FinalizationRegistry>"u"||new FinalizationRegistry(g=>p.__wbg_intounderlyingsource_free(g>>>0,1));const fn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_listconversationsoptions_free(g>>>0,1));class Mt{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,fn.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_listconversationsoptions_free(e,0)}get allowedStates(){const e=p.__wbg_get_listconversationsoptions_allowedStates(this.__wbg_ptr);let s;return e[0]!==0&&(s=ot(e[0],e[1]).slice(),p.__wbindgen_free(e[0],e[1]*4,4)),s}set allowedStates(e){var s=ne(e)?0:De(e,p.__wbindgen_malloc),u=Y;p.__wbg_set_listconversationsoptions_allowedStates(this.__wbg_ptr,s,u)}get conversationType(){const e=p.__wbg_get_listconversationsoptions_conversationType(this.__wbg_ptr);return e===3?void 0:e}set conversationType(e){p.__wbg_set_listconversationsoptions_conversationType(this.__wbg_ptr,ne(e)?3:e)}get createdAfterNs(){const e=p.__wbg_get_listconversationsoptions_createdAfterNs(this.__wbg_ptr);return e[0]===0?void 0:e[1]}set createdAfterNs(e){p.__wbg_set_listconversationsoptions_createdAfterNs(this.__wbg_ptr,!ne(e),ne(e)?BigInt(0):e)}get createdBeforeNs(){const e=p.__wbg_get_listconversationsoptions_createdBeforeNs(this.__wbg_ptr);return e[0]===0?void 0:e[1]}set createdBeforeNs(e){p.__wbg_set_listconversationsoptions_createdBeforeNs(this.__wbg_ptr,!ne(e),ne(e)?BigInt(0):e)}get limit(){const e=p.__wbg_get_listconversationsoptions_limit(this.__wbg_ptr);return e[0]===0?void 0:e[1]}set limit(e){p.__wbg_set_listconversationsoptions_limit(this.__wbg_ptr,!ne(e),ne(e)?BigInt(0):e)}constructor(e,s,u,t,M){var K=ne(e)?0:De(e,p.__wbindgen_malloc),se=Y;const be=p.listconversationsoptions_new(K,se,ne(s)?3:s,!ne(u),ne(u)?BigInt(0):u,!ne(t),ne(t)?BigInt(0):t,!ne(M),ne(M)?BigInt(0):M);return this.__wbg_ptr=be>>>0,fn.register(this,this.__wbg_ptr,this),this}}const pn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_listmessagesoptions_free(g>>>0,1));class Jn{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,pn.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_listmessagesoptions_free(e,0)}get sentBeforeNs(){const e=p.__wbg_get_listmessagesoptions_sentBeforeNs(this.__wbg_ptr);return e[0]===0?void 0:e[1]}set sentBeforeNs(e){p.__wbg_set_listconversationsoptions_createdAfterNs(this.__wbg_ptr,!ne(e),ne(e)?BigInt(0):e)}get sentAfterNs(){const e=p.__wbg_get_listmessagesoptions_sentAfterNs(this.__wbg_ptr);return e[0]===0?void 0:e[1]}set sentAfterNs(e){p.__wbg_set_listconversationsoptions_createdBeforeNs(this.__wbg_ptr,!ne(e),ne(e)?BigInt(0):e)}get limit(){const e=p.__wbg_get_listmessagesoptions_limit(this.__wbg_ptr);return e[0]===0?void 0:e[1]}set limit(e){p.__wbg_set_listconversationsoptions_limit(this.__wbg_ptr,!ne(e),ne(e)?BigInt(0):e)}get deliveryStatus(){const e=p.__wbg_get_listmessagesoptions_deliveryStatus(this.__wbg_ptr);return e===3?void 0:e}set deliveryStatus(e){p.__wbg_set_listmessagesoptions_deliveryStatus(this.__wbg_ptr,ne(e)?3:e)}get direction(){const e=p.__wbg_get_listmessagesoptions_direction(this.__wbg_ptr);return e===2?void 0:e}set direction(e){p.__wbg_set_listmessagesoptions_direction(this.__wbg_ptr,ne(e)?2:e)}constructor(e,s,u,t,M){const K=p.listmessagesoptions_new(!ne(e),ne(e)?BigInt(0):e,!ne(s),ne(s)?BigInt(0):s,!ne(u),ne(u)?BigInt(0):u,ne(t)?3:t,ne(M)?2:M);return this.__wbg_ptr=K>>>0,pn.register(this,this.__wbg_ptr,this),this}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(g=>p.__wbg_logoptions_free(g>>>0,1));const jt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_message_free(g>>>0,1));class yt{static __wrap(e){e=e>>>0;const s=Object.create(yt.prototype);return s.__wbg_ptr=e,jt.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,jt.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_message_free(e,0)}get id(){let e,s;try{const u=p.__wbg_get_message_id(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set id(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_message_id(this.__wbg_ptr,s,u)}get sentAtNs(){return p.__wbg_get_message_sentAtNs(this.__wbg_ptr)}set sentAtNs(e){p.__wbg_set_message_sentAtNs(this.__wbg_ptr,e)}get convoId(){let e,s;try{const u=p.__wbg_get_message_convoId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set convoId(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_message_convoId(this.__wbg_ptr,s,u)}get senderInboxId(){let e,s;try{const u=p.__wbg_get_message_senderInboxId(this.__wbg_ptr);return e=u[0],s=u[1],ae(u[0],u[1])}finally{p.__wbindgen_free(e,s,1)}}set senderInboxId(e){const s=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),u=Y;p.__wbg_set_message_senderInboxId(this.__wbg_ptr,s,u)}get content(){const e=p.__wbg_get_message_content(this.__wbg_ptr);return Ze.__wrap(e)}set content(e){ze(e,Ze);var s=e.__destroy_into_raw();p.__wbg_set_message_content(this.__wbg_ptr,s)}get kind(){return p.__wbg_get_message_kind(this.__wbg_ptr)}set kind(e){p.__wbg_set_message_kind(this.__wbg_ptr,e)}get deliveryStatus(){return p.__wbg_get_message_deliveryStatus(this.__wbg_ptr)}set deliveryStatus(e){p.__wbg_set_message_deliveryStatus(this.__wbg_ptr,e)}constructor(e,s,u,t,M,K,se){const be=re(e,p.__wbindgen_malloc,p.__wbindgen_realloc),Oe=Y,He=re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),Ke=Y,Je=re(t,p.__wbindgen_malloc,p.__wbindgen_realloc),Ue=Y;ze(M,Ze);var Ce=M.__destroy_into_raw();const et=p.message_new(be,Oe,s,He,Ke,Je,Ue,Ce,K,se);return this.__wbg_ptr=et>>>0,jt.register(this,this.__wbg_ptr,this),this}}const zt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(g=>p.__wbg_permissionpolicyset_free(g>>>0,1));class Bt{static __wrap(e){e=e>>>0;const s=Object.create(Bt.prototype);return s.__wbg_ptr=e,zt.register(s,s.__wbg_ptr,s),s}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,zt.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_permissionpolicyset_free(e,0)}get addMemberPolicy(){return p.__wbg_get_permissionpolicyset_addMemberPolicy(this.__wbg_ptr)}set addMemberPolicy(e){p.__wbg_set_permissionpolicyset_addMemberPolicy(this.__wbg_ptr,e)}get removeMemberPolicy(){return p.__wbg_get_permissionpolicyset_removeMemberPolicy(this.__wbg_ptr)}set removeMemberPolicy(e){p.__wbg_set_permissionpolicyset_removeMemberPolicy(this.__wbg_ptr,e)}get addAdminPolicy(){return p.__wbg_get_permissionpolicyset_addAdminPolicy(this.__wbg_ptr)}set addAdminPolicy(e){p.__wbg_set_permissionpolicyset_addAdminPolicy(this.__wbg_ptr,e)}get removeAdminPolicy(){return p.__wbg_get_permissionpolicyset_removeAdminPolicy(this.__wbg_ptr)}set removeAdminPolicy(e){p.__wbg_set_permissionpolicyset_removeAdminPolicy(this.__wbg_ptr,e)}get updateGroupNamePolicy(){return p.__wbg_get_permissionpolicyset_updateGroupNamePolicy(this.__wbg_ptr)}set updateGroupNamePolicy(e){p.__wbg_set_permissionpolicyset_updateGroupNamePolicy(this.__wbg_ptr,e)}get updateGroupDescriptionPolicy(){return p.__wbg_get_permissionpolicyset_updateGroupDescriptionPolicy(this.__wbg_ptr)}set updateGroupDescriptionPolicy(e){p.__wbg_set_permissionpolicyset_updateGroupDescriptionPolicy(this.__wbg_ptr,e)}get updateGroupImageUrlSquarePolicy(){return p.__wbg_get_permissionpolicyset_updateGroupImageUrlSquarePolicy(this.__wbg_ptr)}set updateGroupImageUrlSquarePolicy(e){p.__wbg_set_permissionpolicyset_updateGroupImageUrlSquarePolicy(this.__wbg_ptr,e)}get updateGroupPinnedFrameUrlPolicy(){return p.__wbg_get_permissionpolicyset_updateGroupPinnedFrameUrlPolicy(this.__wbg_ptr)}set updateGroupPinnedFrameUrlPolicy(e){p.__wbg_set_permissionpolicyset_updateGroupPinnedFrameUrlPolicy(this.__wbg_ptr,e)}constructor(e,s,u,t,M,K,se,be){const Oe=p.permissionpolicyset_new(e,s,u,t,M,K,se,be);return this.__wbg_ptr=Oe>>>0,zt.register(this,this.__wbg_ptr,this),this}}typeof FinalizationRegistry>"u"||new FinalizationRegistry(g=>p.__wbg_version_free(g>>>0,1));async function Xn(g,e){if(typeof Response=="function"&&g instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(g,e)}catch(u){if(g.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",u);else throw u}const s=await g.arrayBuffer();return await WebAssembly.instantiate(s,e)}else{const s=await WebAssembly.instantiate(g,e);return s instanceof WebAssembly.Instance?{instance:s,module:g}:s}}function Yn(){const g={};return g.wbg={},g.wbg.__wbg_initmodule_63b167b4c2952e1b=function(e){return en.init_module(e)},g.wbg.__wbindgen_error_new=function(e,s){return new Error(ae(e,s))},g.wbg.__wbindgen_number_new=function(e){return e},g.wbg.__wbg_conversation_new=function(e){return ft.__wrap(e)},g.wbg.__wbg_message_new=function(e){return yt.__wrap(e)},g.wbg.__wbg_installation_new=function(e){return pt.__wrap(e)},g.wbg.__wbg_client_new=function(e){return Tt.__wrap(e)},g.wbg.__wbg_inboxstate_new=function(e){return Ct.__wrap(e)},g.wbg.__wbindgen_try_into_number=function(e){let s;try{s=+e}catch(t){s=t}return s},g.wbg.__wbindgen_number_get=function(e,s){const u=s,t=typeof u=="number"?u:void 0;Ee().setFloat64(e+8*1,ne(t)?0:t,!0),Ee().setInt32(e+4*0,!ne(t),!0)},g.wbg.__wbindgen_is_undefined=function(e){return e===void 0},g.wbg.__wbindgen_in=function(e,s){return e in s},g.wbg.__wbindgen_string_get=function(e,s){const u=s,t=typeof u=="string"?u:void 0;var M=ne(t)?0:re(t,p.__wbindgen_malloc,p.__wbindgen_realloc),K=Y;Ee().setInt32(e+4*1,K,!0),Ee().setInt32(e+4*0,M,!0)},g.wbg.__wbindgen_is_object=function(e){const s=e;return typeof s=="object"&&s!==null},g.wbg.__wbindgen_as_number=function(e){return+e},g.wbg.__wbindgen_string_new=function(e,s){return ae(e,s)},g.wbg.__wbg_consent_unwrap=function(e){return kt.__unwrap(e)},g.wbg.__wbg_installation_unwrap=function(e){return pt.__unwrap(e)},g.wbg.__wbg_performance_72f95fe5952939b5=function(){return globalThis.performance},g.wbg.__wbg_mark_6045ef1772587264=function(){return me(function(e,s,u){e.mark(ae(s,u))},arguments)},g.wbg.__wbg_mark_bad820680b8580c2=function(){return me(function(e,s,u,t){e.mark(ae(s,u),t)},arguments)},g.wbg.__wbg_measure_1d846b814d43d7e1=function(){return me(function(e,s,u,t,M,K,se){e.measure(ae(s,u),ae(t,M),ae(K,se))},arguments)},g.wbg.__wbg_measure_7ca0e5cfef892340=function(){return me(function(e,s,u,t){e.measure(ae(s,u),t)},arguments)},g.wbg.__wbindgen_cb_drop=function(e){const s=e.original;return s.cnt--==1?(s.a=0,!0):!1},g.wbg.__wbg_clearTimeout_541ac0980ffcef74=typeof clearTimeout=="function"?clearTimeout:Be("clearTimeout"),g.wbg.__wbg_setTimeout_7d81d052875b0f4f=function(){return me(function(e,s){return setTimeout(e,s)},arguments)},g.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},g.wbg.__wbg_stack_658279fe44541cf6=function(e,s){const u=s.stack,t=re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),M=Y;Ee().setInt32(e+4*1,M,!0),Ee().setInt32(e+4*0,t,!0)},g.wbg.__wbg_error_f851667af71bcfc6=function(e,s){let u,t;try{u=e,t=s,console.error(ae(e,s))}finally{p.__wbindgen_free(u,t,1)}},g.wbg.__wbg_sqlite3_94709d525395f0e0=function(e){return e.sqlite3},g.wbg.__wbg_wasm_493cb9116b24d2ed=function(e){return e.wasm},g.wbg.__wbg_pstack_fc77b7165420650a=function(e){return e.pstack},g.wbg.__wbg_pointer_d3c7ebff6fec1c91=function(e){return e.pointer},g.wbg.__wbg_alloc_3dc7f2dcc7f32fdb=function(e,s){return e.alloc(s>>>0)},g.wbg.__wbg_alloc_412cbdfb204df090=function(e,s){return e.alloc(s>>>0)},g.wbg.__wbg_preparev3_439afd649e006ca8=function(e,s,u,t,M,K,se){return e.prepare_v3(s,u>>>0,t,M>>>0,K,se)},g.wbg.__wbg_peekPtr_a3eb6c43e8226b33=function(e,s){return e.peekPtr(s)},g.wbg.__wbg_restore_f0dcf7e42f529814=function(e,s){e.restore(s)},g.wbg.__wbindgen_is_null=function(e){return e===null},g.wbg.__wbg_alloc_12d3472bbd917658=function(e){return e.alloc},g.wbg.__wbg_allocPtr_a9d5b0a7a6dfb5ab=function(e,s,u){return e.allocPtr(s>>>0,u!==0)},g.wbg.__wbg_impl_3c42f6bcb7b4c19c=function(e,s){return e.impl(s>>>0)},g.wbg.__wbg_bindnull_bb548bfb7e51d9f6=function(e,s,u){return e.bind_null(s,u)},g.wbg.__wbg_bindtext_ea5e136c4ac4c21f=function(e,s,u,t,M,K){return e.bind_text(s,u,t>>>0,M,K)},g.wbg.__wbg_bindint_1ad9b7c92c66451b=function(e,s,u,t){return e.bind_int(s,u,t)},g.wbg.__wbg_bindint64_4f6d503abe851224=function(e,s,u,t){return e.bind_int64(s,u,t)},g.wbg.__wbg_binddouble_b0a91f37239ee4b0=function(e,s,u,t){return e.bind_double(s,u,t)},g.wbg.__wbg_bindblob_5a17f213fdf1908e=function(e,s,u,t,M,K){return e.bind_blob(s,u,t>>>0,M,K)},g.wbg.__wbg_dbhandle_ab50bfd9245494b7=function(e,s){return e.db_handle(s)},g.wbg.__wbg_dealloc_351653c7fd6f869c=function(e,s){e.dealloc(s>>>0)},g.wbg.__wbg_finalize_238aae75fb871c94=function(){return me(function(e,s){e.finalize(s)},arguments)},g.wbg.__wbg_reset_0be27bd2c5c25e78=function(e,s){return e.reset(s)},g.wbg.__wbg_step_a58b1066c566c122=function(e,s){return e.step(s)},g.wbg.__wbg_columncount_a12965551470fb42=function(e,s){return e.column_count(s)},g.wbg.__wbg_columnvalue_49c1ea5d732bde1c=function(e,s,u){return e.column_value(s,u)},g.wbg.__wbg_capi_ca06542c83b93175=function(e){return e.capi},g.wbg.__wbg_SQLITECONSTRAINTCHECK_7b54e6702b2e57ba=function(e){return e.SQLITE_CONSTRAINT_CHECK},g.wbg.__wbg_SQLITEROW_a21779e78155c8ad=function(e){return e.SQLITE_ROW},g.wbg.__wbg_SQLITEPREPAREPERSISTENT_d81d553ffa5c038c=function(e){return e.SQLITE_PREPARE_PERSISTENT},g.wbg.__wbg_SQLITEINTEGER_9031dce8e01c166c=function(e){return e.SQLITE_INTEGER},g.wbg.__wbg_SQLITEDONE_fbfe18ce23a3b6da=function(e){return e.SQLITE_DONE},g.wbg.__wbg_SQLITETEXT_727e78d48f532f23=function(e){return e.SQLITE_TEXT},g.wbg.__wbg_SQLITENULL_00f5eb33b5b89690=function(e){return e.SQLITE_NULL},g.wbg.__wbg_SQLITECONSTRAINTUNIQUE_1dea04a977c1e377=function(e){return e.SQLITE_CONSTRAINT_UNIQUE},g.wbg.__wbg_SQLITECONSTRAINTPRIMARYKEY_3e2ad26d848575a2=function(e){return e.SQLITE_CONSTRAINT_PRIMARYKEY},g.wbg.__wbg_SQLITEBLOB_394b61ff6fc173a6=function(e){return e.SQLITE_BLOB},g.wbg.__wbg_SQLITESTATIC_b98299c993e94d35=function(e){return e.SQLITE_STATIC},g.wbg.__wbg_SQLITEFLOAT_e0da134da12d25d0=function(e){return e.SQLITE_FLOAT},g.wbg.__wbg_SQLITECONSTRAINTNOTNULL_0f87885933517ad3=function(e){return e.SQLITE_CONSTRAINT_NOTNULL},g.wbg.__wbg_SQLITEOK_2d09a4e691645e98=function(e){return e.SQLITE_OK},g.wbg.__wbg_SQLITECONSTRAINTFOREIGNKEY_741a343b3482effc=function(e){return e.SQLITE_CONSTRAINT_FOREIGNKEY},g.wbg.__wbg_SQLITEOPENREADWRITE_a83b4615e4d0f3ab=function(e){return e.SQLITE_OPEN_READWRITE},g.wbg.__wbg_SQLITEOPENCREATE_9de5b9e000c4b114=function(e){return e.SQLITE_OPEN_CREATE},g.wbg.__wbg_SQLITEOPENURI_553652ff6391f5f3=function(e){return e.SQLITE_OPEN_URI},g.wbg.__wbg_changes_ad25c054690f6c2c=function(e,s){return e.changes(s)},g.wbg.__wbg_close_91b1f36e8a68490f=function(e,s){return e.close(s)},g.wbg.__wbindgen_link_42e73067c99cbdba=function(e){const s=new URL("/app/assets/sqlite3-opfs-async-proxy-D3F3v_U-.js",self.location.href).toString(),u=re(s,p.__wbindgen_malloc,p.__wbindgen_realloc),t=Y;Ee().setInt32(e+4*1,t,!0),Ee().setInt32(e+4*0,u,!0)},g.wbg.__wbg_heap8u_e5e9645d146c39a3=function(e){return e.heap8u()},g.wbg.__wbg_new_a4c99de148de264c=function(e){return new en(e)},g.wbg.__wbg_version_5f48815bb1d8b346=function(e){return e.version()},g.wbg.__wbg_filename_144613ea2a1b3e89=function(e,s,u,t,M){let K,se;try{K=t,se=M;const be=s.filename(u,ae(t,M)),Oe=re(be,p.__wbindgen_malloc,p.__wbindgen_realloc),He=Y;Ee().setInt32(e+4*1,He,!0),Ee().setInt32(e+4*0,Oe,!0)}finally{p.__wbindgen_free(K,se,1)}},g.wbg.__wbg_errstr_bb38008691932700=function(e,s,u){const t=s.errstr(u),M=re(t,p.__wbindgen_malloc,p.__wbindgen_realloc),K=Y;Ee().setInt32(e+4*1,K,!0),Ee().setInt32(e+4*0,M,!0)},g.wbg.__wbg_errmsg_89bcbfbe76b14cf4=function(e,s,u){const t=s.errmsg(u),M=re(t,p.__wbindgen_malloc,p.__wbindgen_realloc),K=Y;Ee().setInt32(e+4*1,K,!0),Ee().setInt32(e+4*0,M,!0)},g.wbg.__wbg_extendederrcode_2b31e0b528da9bbb=function(e,s){return e.extended_errcode(s)},g.wbg.__wbg_valuedup_b0df8ddba19f1b98=function(e,s){return e.value_dup(s>>>0)},g.wbg.__wbg_valueblob_3f74b376b132f8b5=function(e,s){return e.value_blob(s>>>0)},g.wbg.__wbg_valuebytes_4694dcd27c345742=function(e,s){return e.value_bytes(s>>>0)},g.wbg.__wbg_valuefree_bb58ed981c1df68f=function(e,s){e.value_free(s>>>0)},g.wbg.__wbg_valueint_69cbd5211d849273=function(e,s){return e.value_int(s>>>0)},g.wbg.__wbg_valueint64_64bd43aa58b87911=function(e,s){return e.value_int64(s>>>0)},g.wbg.__wbg_valuetext_92c3345d82a9ca0c=function(e,s,u){const t=s.value_text(u>>>0),M=re(t,p.__wbindgen_malloc,p.__wbindgen_realloc),K=Y;Ee().setInt32(e+4*1,K,!0),Ee().setInt32(e+4*0,M,!0)},g.wbg.__wbg_valuetype_cfed2bfc3d2b9ffe=function(e,s){return e.value_type(s>>>0)},g.wbg.__wbg_open_d821a8bd5c12df12=function(){return me(function(e,s,u,t,M){return e.open(ae(s,u),t===0?void 0:M)},arguments)},g.wbg.__wbg_exec_06c0a88959122598=function(){return me(function(e,s,u,t){e.exec(s,ae(u,t))},arguments)},g.wbg.__wbg_columnname_f60d10fff22a7705=function(e,s,u,t){const M=s.column_name(u,t),K=re(M,p.__wbindgen_malloc,p.__wbindgen_realloc),se=Y;Ee().setInt32(e+4*1,se,!0),Ee().setInt32(e+4*0,K,!0)},g.wbg.__wbg_registerdieselsqlfunctions_af501c8fa4b13f74=function(){return me(function(e,s){e.register_diesel_sql_functions(s)},arguments)},g.wbg.__wbg_allocCString_42f27a0af479f779=function(e,s,u){let t,M;try{return t=s,M=u,e.allocCString(ae(s,u))}finally{p.__wbindgen_free(t,M,1)}},g.wbg.__wbindgen_jsval_loose_eq=function(e,s){return e==s},g.wbg.__wbindgen_boolean_get=function(e){const s=e;return typeof s=="boolean"?s?1:0:2},g.wbg.__wbg_String_b9412f8799faab3e=function(e,s){const u=String(s),t=re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),M=Y;Ee().setInt32(e+4*1,M,!0),Ee().setInt32(e+4*0,t,!0)},g.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,s){return e[s]},g.wbg.__wbg_set_f975102236d3c502=function(e,s,u){e[s]=u},g.wbg.__wbg_fetch_9b133f5ec268a7b8=typeof fetch=="function"?fetch:Be("fetch"),g.wbg.__wbg_queueMicrotask_848aa4969108a57e=function(e){return e.queueMicrotask},g.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},g.wbg.__wbg_queueMicrotask_c5419c06eab41e73=typeof queueMicrotask=="function"?queueMicrotask:Be("queueMicrotask"),g.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){return e.crypto},g.wbg.__wbg_process_4a72847cc503995b=function(e){return e.process},g.wbg.__wbg_versions_f686565e586dd935=function(e){return e.versions},g.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){return e.node},g.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},g.wbg.__wbg_require_cca90b1a94a0255b=function(){return me(function(){return module.require},arguments)},g.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){return e.msCrypto},g.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return me(function(e,s){e.getRandomValues(s)},arguments)},g.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return me(function(e,s){e.randomFillSync(s)},arguments)},g.wbg.__wbg_debug_69675dd374e2c249=typeof console.debug=="function"?console.debug:Be("console.debug"),g.wbg.__wbg_debug_a0b6c2c5ac9a4bfd=typeof console.debug=="function"?console.debug:Be("console.debug"),g.wbg.__wbg_error_53abcd6a461f73d8=typeof console.error=="function"?console.error:Be("console.error"),g.wbg.__wbg_error_4d17c5bb1ca90c94=typeof console.error=="function"?console.error:Be("console.error"),g.wbg.__wbg_info_f073b719c8035bbf=typeof console.info=="function"?console.info:Be("console.info"),g.wbg.__wbg_info_1c7fba7da21072d1=typeof console.info=="function"?console.info:Be("console.info"),g.wbg.__wbg_warn_41503a1c2194de89=typeof console.warn=="function"?console.warn:Be("console.warn"),g.wbg.__wbg_warn_2e2787d40aad9a81=typeof console.warn=="function"?console.warn:Be("console.warn"),g.wbg.__wbg_fetch_1fdc4448ed9eec00=function(e,s){return e.fetch(s)},g.wbg.__wbg_close_cfd08d9cf9f36856=function(){return me(function(e){e.close()},arguments)},g.wbg.__wbg_enqueue_e693a6fb4f3261c1=function(){return me(function(e,s){e.enqueue(s)},arguments)},g.wbg.__wbg_instanceof_Response_3c0e210a57ff751d=function(e){let s;try{s=e instanceof Response}catch{s=!1}return s},g.wbg.__wbg_url_58af972663531d16=function(e,s){const u=s.url,t=re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),M=Y;Ee().setInt32(e+4*1,M,!0),Ee().setInt32(e+4*0,t,!0)},g.wbg.__wbg_status_5f4e900d22140a18=function(e){return e.status},g.wbg.__wbg_headers_1b9bf90c73fae600=function(e){return e.headers},g.wbg.__wbg_arrayBuffer_144729e09879650e=function(){return me(function(e){return e.arrayBuffer()},arguments)},g.wbg.__wbg_byobRequest_86ac467c94924d3c=function(e){const s=e.byobRequest;return ne(s)?0:wt(s)},g.wbg.__wbg_close_7cda9dd901230214=function(){return me(function(e){e.close()},arguments)},g.wbg.__wbg_signal_9acfcec9e7dffc22=function(e){return e.signal},g.wbg.__wbg_new_75169ae5a9683c55=function(){return me(function(){return new AbortController},arguments)},g.wbg.__wbg_abort_c57daab47a6c1215=function(e){e.abort()},g.wbg.__wbg_view_de0e81c5c00d2129=function(e){const s=e.view;return ne(s)?0:wt(s)},g.wbg.__wbg_respond_ffb6928cd9b79c32=function(){return me(function(e,s){e.respond(s>>>0)},arguments)},g.wbg.__wbg_newwithstrandinit_4b92c89af0a8e383=function(){return me(function(e,s,u){return new Request(ae(e,s),u)},arguments)},g.wbg.__wbg_setbody_aa8b691bec428bf4=function(e,s){e.body=s},g.wbg.__wbg_setcredentials_a4e661320cdb9738=function(e,s){e.credentials=Vn[s]},g.wbg.__wbg_setheaders_f5205d36e423a544=function(e,s){e.headers=s},g.wbg.__wbg_setmethod_ce2da76000b02f6a=function(e,s,u){e.method=ae(s,u)},g.wbg.__wbg_setmode_4919fd636102c586=function(e,s){e.mode=$n[s]},g.wbg.__wbg_setsignal_812ccb8269a7fd90=function(e,s){e.signal=s},g.wbg.__wbg_new_a9ae04a5200606a5=function(){return me(function(){return new Headers},arguments)},g.wbg.__wbg_append_8b3e7f74a47ea7d5=function(){return me(function(e,s,u,t,M){e.append(ae(s,u),ae(t,M))},arguments)},g.wbg.__wbg_get_5419cf6b954aa11d=function(e,s){return e[s>>>0]},g.wbg.__wbg_length_f217bbbf7e8e4df4=function(e){return e.length},g.wbg.__wbg_new_034f913e7636e987=function(){return new Array},g.wbg.__wbg_newnoargs_1ede4bf2ebbaaf43=function(e,s){return new Function(ae(e,s))},g.wbg.__wbg_new_7a87a0376e40533b=function(){return new Map},g.wbg.__wbg_next_13b477da1eaa3897=function(e){return e.next},g.wbg.__wbg_next_b06e115d1b01e10b=function(){return me(function(e){return e.next()},arguments)},g.wbg.__wbg_done_983b5ffcaec8c583=function(e){return e.done},g.wbg.__wbg_value_2ab8a198c834c26a=function(e){return e.value},g.wbg.__wbg_iterator_695d699a44d6234c=function(){return Symbol.iterator},g.wbg.__wbg_get_ef828680c64da212=function(){return me(function(e,s){return Reflect.get(e,s)},arguments)},g.wbg.__wbg_call_a9ef466721e824f2=function(){return me(function(e,s){return e.call(s)},arguments)},g.wbg.__wbg_new_e69b5f66fda8f13c=function(){return new Object},g.wbg.__wbg_self_bf91bf94d9e04084=function(){return me(function(){return self.self},arguments)},g.wbg.__wbg_window_52dd9f07d03fd5f8=function(){return me(function(){return window.window},arguments)},g.wbg.__wbg_globalThis_05c129bf37fcf1be=function(){return me(function(){return globalThis.globalThis},arguments)},g.wbg.__wbg_global_3eca19bb09e9c484=function(){return me(function(){return global.global},arguments)},g.wbg.__wbg_set_425e70f7c64ac962=function(e,s,u){e[s>>>0]=u},g.wbg.__wbg_push_36cf4d81d7da33d1=function(e,s){return e.push(s)},g.wbg.__wbg_instanceof_ArrayBuffer_74945570b4a62ec7=function(e){let s;try{s=e instanceof ArrayBuffer}catch{s=!1}return s},g.wbg.__wbg_new_70a2f23d1565c04c=function(e,s){return new Error(ae(e,s))},g.wbg.__wbg_call_3bfa248576352471=function(){return me(function(e,s,u){return e.call(s,u)},arguments)},g.wbg.__wbg_set_277a63e77c89279f=function(e,s,u){return e.set(s,u)},g.wbg.__wbg_isSafeInteger_b9dff570f01a9100=function(e){return Number.isSafeInteger(e)},g.wbg.__wbg_now_70af4fe37a792251=function(){return Date.now()},g.wbg.__wbg_create_70ef5302cb22a5c4=function(e){return Object.create(e)},g.wbg.__wbg_entries_c02034de337d3ee2=function(e){return Object.entries(e)},g.wbg.__wbg_new_1073970097e5a420=function(e,s){try{var u={a:e,b:s},t=(K,se)=>{const be=u.a;u.a=0;try{return Gn(be,u.b,K,se)}finally{u.a=be}};return new Promise(t)}finally{u.a=u.b=0}},g.wbg.__wbg_resolve_0aad7c1484731c99=function(e){return Promise.resolve(e)},g.wbg.__wbg_then_748f75edfb032440=function(e,s){return e.then(s)},g.wbg.__wbg_then_4866a7d9f55d8f3e=function(e,s,u){return e.then(s,u)},g.wbg.__wbg_buffer_ccaed51a635d8a2d=function(e){return e.buffer},g.wbg.__wbg_newwithbyteoffsetandlength_7e3eb787208af730=function(e,s,u){return new Uint8Array(e,s>>>0,u>>>0)},g.wbg.__wbg_new_fec2611eb9180f95=function(e){return new Uint8Array(e)},g.wbg.__wbg_set_ec2fcf81bc573fd9=function(e,s,u){e.set(s,u>>>0)},g.wbg.__wbg_length_9254c4bd3b9f23c4=function(e){return e.length},g.wbg.__wbg_instanceof_Uint8Array_df0761410414ef36=function(e){let s;try{s=e instanceof Uint8Array}catch{s=!1}return s},g.wbg.__wbg_newwithlength_76462a666eca145f=function(e){return new Uint8Array(e>>>0)},g.wbg.__wbg_buffer_95102df5554646dc=function(e){return e.buffer},g.wbg.__wbg_subarray_975a06f9dbd16995=function(e,s,u){return e.subarray(s>>>0,u>>>0)},g.wbg.__wbg_byteLength_5d623ba3d92a3a9c=function(e){return e.byteLength},g.wbg.__wbg_byteOffset_ec0928143c619cd7=function(e){return e.byteOffset},g.wbg.__wbg_has_bd717f25f195f23d=function(){return me(function(e,s){return Reflect.has(e,s)},arguments)},g.wbg.__wbg_set_e864d25d9b399c9f=function(){return me(function(e,s,u){return Reflect.set(e,s,u)},arguments)},g.wbg.__wbg_new_fddd2773b9888ac9=function(){return me(function(e){return new WebAssembly.Memory(e)},arguments)},g.wbg.__wbg_stringify_eead5648c09faaf8=function(){return me(function(e){return JSON.stringify(e)},arguments)},g.wbg.__wbindgen_debug_string=function(e,s){const u=At(s),t=re(u,p.__wbindgen_malloc,p.__wbindgen_realloc),M=Y;Ee().setInt32(e+4*1,M,!0),Ee().setInt32(e+4*0,t,!0)},g.wbg.__wbindgen_throw=function(e,s){throw new Error(ae(e,s))},g.wbg.__wbindgen_memory=function(){return p.memory},g.wbg.__wbindgen_closure_wrapper7541=function(e,s,u){return rn(e,s,1813,Un)},g.wbg.__wbindgen_closure_wrapper10067=function(e,s,u){return rn(e,s,2328,Qn)},g.wbg.__wbindgen_init_externref_table=function(){const e=p.__wbindgen_export_2,s=e.grow(4);e.set(0,void 0),e.set(s+0,void 0),e.set(s+1,null),e.set(s+2,!0),e.set(s+3,!1)},g}function Zn(g,e){return p=g.exports,Ut.__wbindgen_wasm_module=e,Ye=null,ct=null,p.__wbindgen_start(),p}async function Ut(g){if(p!==void 0)return p;typeof g<"u"&&(Object.getPrototypeOf(g)===Object.prototype?{module_or_path:g}=g:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof g>"u"&&(g=new URL("/app/assets/bindings_wasm_bg-DeFHVJAR.wasm",self.location.href));const e=Yn();(typeof g=="string"||typeof Request=="function"&&g instanceof Request||typeof URL=="function"&&g instanceof URL)&&(g=fetch(g));const{instance:s,module:u}=await Xn(await g,e);return Zn(s,u)}const dn={local:"http://localhost:5555",dev:"https://dev.xmtp.network",production:"https://production.xmtp.network"},gn=g=>{self.postMessage(g)},er=async g=>(await Ut(),Hn(g)),tr=async(g,e)=>(await Ut(),Wn(e?dn[e]:dn.dev,g));self.onmessage=async g=>{const{action:e,id:s,data:u}=g.data;u.enableLogging&&console.log("utils worker received event data",g.data);try{switch(e){case"generateInboxId":gn({id:s,action:e,result:await er(u.address)});break;case"getInboxIdForAddress":gn({id:s,action:e,result:await tr(u.address,u.env)})}}catch(t){(M=>{self.postMessage(M)})({id:s,action:e,error:t.message})}}})();
